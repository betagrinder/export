(function(){var a=false,b=/xyz/.test(function(){xyz
})?/\b_super\b/:/.*/;
this.Class=function(){};
Class.extend=function(h){var g=this.prototype;
a=true;
var f=new this();
a=false;
for(var d in h){f[d]=typeof h[d]=="function"&&typeof g[d]=="function"&&b.test(h[d])?(function(j,k){return function(){var m=this._super;
this._super=g[j];
var l=k.apply(this,arguments);
this._super=m;
return l
}
})(d,h[d]):h[d]
}function c(){if(!a&&this.init){this.init.apply(this,arguments)
}}c.prototype=f;
c.prototype.constructor=c;
c.extend=arguments.callee;
return c
}
})();
!function(){var ak=this,ae=ak._,ag={},au=Array.prototype,ad=Object.prototype,ap=Function.prototype,ay=au.push,aj=au.slice,aw=au.concat,am=ad.toString,at=ad.hasOwnProperty,af=au.forEach,ai=au.map,ac=au.reduce,aq=au.reduceRight,av=au.filter,ar=au.every,al=au.some,Z=au.indexOf,ax=au.lastIndexOf,aa=Array.isArray,az=Object.keys,ab=ap.bind,ao=function(a){return a instanceof ao?a:this instanceof ao?(this._wrapped=a,void 0):new ao(a)
};
"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=ao),exports._=ao):ak._=ao,ao.VERSION="1.5.1";
var X=ao.each=ao.forEach=function(h,f,g){if(null!=h){if(af&&h.forEach===af){h.forEach(f,g)
}else{if(h.length===+h.length){for(var c=0,d=h.length;
d>c;
c++){if(f.call(g,h[c],c,h)===ag){return
}}}else{for(var b in h){if(ao.has(h,b)&&f.call(g,h[b],b,h)===ag){return
}}}}}};
ao.map=ao.collect=function(d,a,b){var c=[];
return null==d?c:ai&&d.map===ai?d.map(a,b):(X(d,function(h,f,g){c.push(a.call(b,h,f,g))
}),c)
};
var U="Reduce of empty array with no initial value";
ao.reduce=ao.foldl=ao.inject=function(f,b,c,d){var a=arguments.length>2;
if(null==f&&(f=[]),ac&&f.reduce===ac){return d&&(b=ao.bind(b,d)),a?f.reduce(b,c):f.reduce(b)
}if(X(f,function(j,h,g){a?c=b.call(d,c,j,h,g):(c=j,a=!0)
}),!a){throw new TypeError(U)
}return c
},ao.reduceRight=ao.foldr=function(j,f,g,h){var c=arguments.length>2;
if(null==j&&(j=[]),aq&&j.reduceRight===aq){return h&&(f=ao.bind(f,h)),c?j.reduceRight(f,g):j.reduceRight(f)
}var d=j.length;
if(d!==+d){var b=ao.keys(j);
d=b.length
}if(X(j,function(k,m,a){m=b?b[--d]:--d,c?g=f.call(h,g,j[m],m,a):(g=j[m],c=!0)
}),!c){throw new TypeError(U)
}return g
},ao.find=ao.detect=function(d,a,b){var c;
return J(d,function(h,f,g){return a.call(b,h,f,g)?(c=h,!0):void 0
}),c
},ao.filter=ao.select=function(d,a,b){var c=[];
return null==d?c:av&&d.filter===av?d.filter(a,b):(X(d,function(h,f,g){a.call(b,h,f,g)&&c.push(h)
}),c)
},ao.reject=function(c,a,b){return ao.filter(c,function(g,f,d){return !a.call(b,g,f,d)
},b)
},ao.every=ao.all=function(d,b,c){b||(b=ao.identity);
var a=!0;
return null==d?a:ar&&d.every===ar?d.every(b,c):(X(d,function(h,g,f){return(a=a&&b.call(c,h,g,f))?void 0:ag
}),!!a)
};
var J=ao.some=ao.any=function(d,b,c){b||(b=ao.identity);
var a=!1;
return null==d?a:al&&d.some===al?d.some(b,c):(X(d,function(h,g,f){return a||(a=b.call(c,h,g,f))?ag:void 0
}),!!a)
};
ao.contains=ao.include=function(b,a){return null==b?!1:Z&&b.indexOf===Z?b.indexOf(a)!=-1:J(b,function(c){return c===a
})
},ao.invoke=function(d,a){var b=aj.call(arguments,2),c=ao.isFunction(a);
return ao.map(d,function(f){return(c?a:f[a]).apply(f,b)
})
},ao.pluck=function(b,a){return ao.map(b,function(c){return c[a]
})
},ao.where=function(c,a,b){return ao.isEmpty(a)?b?void 0:[]:ao[b?"find":"filter"](c,function(f){for(var d in a){if(a[d]!==f[d]){return !1
}}return !0
})
},ao.findWhere=function(b,a){return ao.where(b,a,!0)
},ao.max=function(d,a,b){if(!a&&ao.isArray(d)&&d[0]===+d[0]&&d.length<65535){return Math.max.apply(Math,d)
}if(!a&&ao.isEmpty(d)){return -1/0
}var c={computed:-1/0,value:-1/0};
return X(d,function(j,g,h){var f=a?a.call(b,j,g,h):j;
f>c.computed&&(c={value:j,computed:f})
}),c.value
},ao.min=function(d,a,b){if(!a&&ao.isArray(d)&&d[0]===+d[0]&&d.length<65535){return Math.min.apply(Math,d)
}if(!a&&ao.isEmpty(d)){return 1/0
}var c={computed:1/0,value:1/0};
return X(d,function(j,g,h){var f=a?a.call(b,j,g,h):j;
f<c.computed&&(c={value:j,computed:f})
}),c.value
},ao.shuffle=function(d){var a,b=0,c=[];
return X(d,function(f){a=ao.random(b++),c[b-1]=c[a],c[a]=f
}),c
};
var Q=function(a){return ao.isFunction(a)?a:function(b){return b[a]
}
};
ao.sortBy=function(d,a,b){var c=Q(a);
return ao.pluck(ao.map(d,function(h,g,f){return{value:h,index:g,criteria:c.call(b,h,g,f)}
}).sort(function(j,f){var g=j.criteria,h=f.criteria;
if(g!==h){if(g>h||g===void 0){return 1
}if(h>g||h===void 0){return -1
}}return j.index<f.index?-1:1
}),"value")
};
var an=function(g,c,d,f){var a={},b=Q(null==c?ao.identity:c);
return X(g,function(j,h){var k=b.call(d,j,h,g);
f(a,k,j)
}),a
};
ao.groupBy=function(c,a,b){return an(c,a,b,function(g,d,f){(ao.has(g,d)?g[d]:g[d]=[]).push(f)
})
},ao.countBy=function(c,a,b){return an(c,a,b,function(f,d){ao.has(f,d)||(f[d]=0),f[d]++
})
},ao.sortedIndex=function(k,f,g,h){g=null==g?ao.identity:Q(g);
for(var c=g.call(h,f),d=0,b=k.length;
b>d;
){var j=d+b>>>1;
g.call(h,k[j])<c?d=j+1:b=j
}return d
},ao.toArray=function(a){return a?ao.isArray(a)?aj.call(a):a.length===+a.length?ao.map(a,ao.identity):ao.values(a):[]
},ao.size=function(a){return null==a?0:a.length===+a.length?a.length:ao.keys(a).length
},ao.first=ao.head=ao.take=function(c,a,b){return null==c?void 0:null==a||b?c[0]:aj.call(c,0,a)
},ao.initial=function(c,a,b){return aj.call(c,0,c.length-(null==a||b?1:a))
},ao.last=function(c,a,b){return null==c?void 0:null==a||b?c[c.length-1]:aj.call(c,Math.max(c.length-a,0))
},ao.rest=ao.tail=ao.drop=function(c,a,b){return aj.call(c,null==a||b?1:a)
},ao.compact=function(a){return ao.filter(a,ao.identity)
};
var H=function(c,a,b){return a&&ao.every(c,ao.isArray)?aw.apply(b,c):(X(c,function(d){ao.isArray(d)||ao.isArguments(d)?a?ay.apply(b,d):H(d,a,b):b.push(d)
}),b)
};
ao.flatten=function(b,a){return H(b,a,[])
},ao.without=function(a){return ao.difference(a,aj.call(arguments,1))
},ao.uniq=ao.unique=function(j,f,g,h){ao.isFunction(f)&&(h=g,g=f,f=!1);
var c=g?ao.map(j,g,h):j,d=[],b=[];
return X(c,function(a,k){(f?k&&b[b.length-1]===a:ao.contains(b,a))||(b.push(a),d.push(j[k]))
}),d
},ao.union=function(){return ao.uniq(ao.flatten(arguments,!0))
},ao.intersection=function(b){var a=aj.call(arguments,1);
return ao.filter(ao.uniq(b),function(c){return ao.every(a,function(d){return ao.indexOf(d,c)>=0
})
})
},ao.difference=function(b){var a=aw.apply(au,aj.call(arguments,1));
return ao.filter(b,function(c){return !ao.contains(a,c)
})
},ao.zip=function(){for(var c=ao.max(ao.pluck(arguments,"length").concat(0)),a=new Array(c),b=0;
c>b;
b++){a[b]=ao.pluck(arguments,""+b)
}return a
},ao.object=function(f,b){if(null==f){return{}
}for(var c={},d=0,a=f.length;
a>d;
d++){b?c[f[d]]=b[d]:c[f[d][0]]=f[d][1]
}return c
},ao.indexOf=function(f,b,c){if(null==f){return -1
}var d=0,a=f.length;
if(c){if("number"!=typeof c){return d=ao.sortedIndex(f,b),f[d]===b?d:-1
}d=0>c?Math.max(0,a+c):c
}if(Z&&f.indexOf===Z){return f.indexOf(b,c)
}for(;
a>d;
d++){if(f[d]===b){return d
}}return -1
},ao.lastIndexOf=function(f,b,c){if(null==f){return -1
}var d=null!=c;
if(ax&&f.lastIndexOf===ax){return d?f.lastIndexOf(b,c):f.lastIndexOf(b)
}for(var a=d?c:f.length;
a--;
){if(f[a]===b){return a
}}return -1
},ao.range=function(g,c,d){arguments.length<=1&&(c=g||0,g=0),d=arguments[2]||1;
for(var f=Math.max(Math.ceil((c-g)/d),0),a=0,b=new Array(f);
f>a;
){b[a++]=g,g+=d
}return b
};
var L=function(){};
ao.bind=function(d,a){var b,c;
if(ab&&d.bind===ab){return ab.apply(d,aj.call(arguments,1))
}if(!ao.isFunction(d)){throw new TypeError
}return b=aj.call(arguments,2),c=function(){if(!(this instanceof c)){return d.apply(a,b.concat(aj.call(arguments)))
}L.prototype=d.prototype;
var f=new L;
L.prototype=null;
var g=d.apply(f,b.concat(aj.call(arguments)));
return Object(g)===g?g:f
}
},ao.partial=function(b){var a=aj.call(arguments,1);
return function(){return b.apply(this,a.concat(aj.call(arguments)))
}
},ao.bindAll=function(b){var a=aj.call(arguments,1);
if(0===a.length){throw new Error("bindAll must be passed function names")
}return X(a,function(c){b[c]=ao.bind(b[c],b)
}),b
},ao.memoize=function(c,a){var b={};
return a||(a=ao.identity),function(){var d=a.apply(this,arguments);
return ao.has(b,d)?b[d]:b[d]=c.apply(this,arguments)
}
},ao.delay=function(c,a){var b=aj.call(arguments,2);
return setTimeout(function(){return c.apply(null,b)
},a)
},ao.defer=function(a){return ao.delay.apply(ao,[a,1].concat(aj.call(arguments,1)))
},ao.throttle=function(f,m,b){var h,l,g,k=null,d=0;
b||(b={});
var j=function(){d=b.leading===!1?0:new Date,k=null,g=f.apply(h,l)
};
return function(){var a=new Date;
d||b.leading!==!1||(d=a);
var c=m-(a-d);
return h=this,l=arguments,0>=c?(clearTimeout(k),k=null,d=a,g=f.apply(h,l)):k||b.trailing===!1||(k=setTimeout(j,c)),g
}
},ao.debounce=function(f,b,c){var d,a=null;
return function(){var h=this,g=arguments,j=function(){a=null,c||(d=f.apply(h,g))
},k=c&&!a;
return clearTimeout(a),a=setTimeout(j,b),k&&(d=f.apply(h,g)),d
}
},ao.once=function(c){var a,b=!1;
return function(){return b?a:(b=!0,a=c.apply(this,arguments),c=null,a)
}
},ao.wrap=function(b,a){return function(){var c=[b];
return ay.apply(c,arguments),a.apply(this,c)
}
},ao.compose=function(){var a=arguments;
return function(){for(var b=arguments,c=a.length-1;
c>=0;
c--){b=[a[c].apply(this,b)]
}return b[0]
}
},ao.after=function(b,a){return function(){return --b<1?a.apply(this,arguments):void 0
}
},ao.keys=az||function(c){if(c!==Object(c)){throw new TypeError("Invalid object")
}var a=[];
for(var b in c){ao.has(c,b)&&a.push(b)
}return a
},ao.values=function(c){var a=[];
for(var b in c){ao.has(c,b)&&a.push(c[b])
}return a
},ao.pairs=function(c){var a=[];
for(var b in c){ao.has(c,b)&&a.push([b,c[b]])
}return a
},ao.invert=function(c){var a={};
for(var b in c){ao.has(c,b)&&(a[c[b]]=b)
}return a
},ao.functions=ao.methods=function(c){var a=[];
for(var b in c){ao.isFunction(c[b])&&a.push(b)
}return a.sort()
},ao.extend=function(a){return X(aj.call(arguments,1),function(b){if(b){for(var c in b){a[c]=b[c]
}}}),a
},ao.pick=function(c){var a={},b=aw.apply(au,aj.call(arguments,1));
return X(b,function(d){d in c&&(a[d]=c[d])
}),a
},ao.omit=function(d){var b={},c=aw.apply(au,aj.call(arguments,1));
for(var a in d){ao.contains(c,a)||(b[a]=d[a])
}return b
},ao.defaults=function(a){return X(aj.call(arguments,1),function(b){if(b){for(var c in b){a[c]===void 0&&(a[c]=b[c])
}}}),a
},ao.clone=function(a){return ao.isObject(a)?ao.isArray(a)?a.slice():ao.extend({},a):a
},ao.tap=function(b,a){return a(b),b
};
var G=function(g,q,b,k){if(g===q){return 0!==g||1/g==1/q
}if(null==g||null==q){return g===q
}g instanceof ao&&(g=g._wrapped),q instanceof ao&&(q=q._wrapped);
var p=am.call(g);
if(p!=am.call(q)){return !1
}switch(p){case"[object String]":return g==String(q);
case"[object Number]":return g!=+g?q!=+q:0==g?1/g==1/q:g==+q;
case"[object Date]":case"[object Boolean]":return +g==+q;
case"[object RegExp]":return g.source==q.source&&g.global==q.global&&g.multiline==q.multiline&&g.ignoreCase==q.ignoreCase
}if("object"!=typeof g||"object"!=typeof q){return !1
}for(var h=b.length;
h--;
){if(b[h]==g){return k[h]==q
}}var m=g.constructor,d=q.constructor;
if(m!==d&&!(ao.isFunction(m)&&m instanceof m&&ao.isFunction(d)&&d instanceof d)){return !1
}b.push(g),k.push(q);
var l=0,j=!0;
if("[object Array]"==p){if(l=g.length,j=l==q.length){for(;
l--&&(j=G(g[l],q[l],b,k));
){}}}else{for(var v in g){if(ao.has(g,v)&&(l++,!(j=ao.has(q,v)&&G(g[v],q[v],b,k)))){break
}}if(j){for(v in q){if(ao.has(q,v)&&!l--){break
}}j=!l
}}return b.pop(),k.pop(),j
};
ao.isEqual=function(b,a){return G(b,a,[],[])
},ao.isEmpty=function(b){if(null==b){return !0
}if(ao.isArray(b)||ao.isString(b)){return 0===b.length
}for(var a in b){if(ao.has(b,a)){return !1
}}return !0
},ao.isElement=function(a){return !(!a||1!==a.nodeType)
},ao.isArray=aa||function(a){return"[object Array]"==am.call(a)
},ao.isObject=function(a){return a===Object(a)
},X(["Arguments","Function","String","Number","Date","RegExp"],function(a){ao["is"+a]=function(b){return am.call(b)=="[object "+a+"]"
}
}),ao.isArguments(arguments)||(ao.isArguments=function(a){return !(!a||!ao.has(a,"callee"))
}),"function"!=typeof/./&&(ao.isFunction=function(a){return"function"==typeof a
}),ao.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))
},ao.isNaN=function(a){return ao.isNumber(a)&&a!=+a
},ao.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==am.call(a)
},ao.isNull=function(a){return null===a
},ao.isUndefined=function(a){return a===void 0
},ao.has=function(b,a){return at.call(b,a)
},ao.noConflict=function(){return ak._=ae,this
},ao.identity=function(a){return a
},ao.times=function(f,b,c){for(var d=Array(Math.max(0,f)),a=0;
f>a;
a++){d[a]=b.call(c,a)
}return d
},ao.random=function(b,a){return null==a&&(a=b,b=0),b+Math.floor(Math.random()*(a-b+1))
};
var P={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};
P.unescape=ao.invert(P.escape);
var C={escape:new RegExp("["+ao.keys(P.escape).join("")+"]","g"),unescape:new RegExp("("+ao.keys(P.unescape).join("|")+")","g")};
ao.each(["escape","unescape"],function(a){ao[a]=function(b){return null==b?"":(""+b).replace(C[a],function(c){return P[a][c]
})
}
}),ao.result=function(c,a){if(null==c){return void 0
}var b=c[a];
return ao.isFunction(b)?b.call(c):b
},ao.mixin=function(a){X(ao.functions(a),function(b){var c=ao[b]=a[b];
ao.prototype[b]=function(){var d=[this._wrapped];
return ay.apply(d,arguments),Y.call(this,c.apply(ao,d))
}
})
};
var K=0;
ao.uniqueId=function(b){var a=++K+"";
return b?b+a:a
},ao.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};
var ah=/(.)^/,W={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},V=/\\|'|\r|\n|\t|\u2028|\u2029/g;
ao.template=function(f,m,b){var h;
b=ao.defaults({},b,ao.templateSettings);
var l=new RegExp([(b.escape||ah).source,(b.interpolate||ah).source,(b.evaluate||ah).source].join("|")+"|$","g"),g=0,k="__p+='";
f.replace(l,function(c,n,p,a,q){return k+=f.slice(g,q).replace(V,function(o){return"\\"+W[o]
}),n&&(k+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),p&&(k+="'+\n((__t=("+p+"))==null?'':__t)+\n'"),a&&(k+="';\n"+a+"\n__p+='"),g=q+c.length,c
}),k+="';\n",b.variable||(k="with(obj||{}){\n"+k+"}\n"),k="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+k+"return __p;\n";
try{h=new Function(b.variable||"obj","_",k)
}catch(d){throw d.source=k,d
}if(m){return h(m,ao)
}var j=function(a){return h.call(this,a,ao)
};
return j.source="function("+(b.variable||"obj")+"){\n"+k+"}",j
},ao.chain=function(a){return ao(a).chain()
};
var Y=function(a){return this._chain?ao(a).chain():a
};
ao.mixin(ao),X(["pop","push","reverse","shift","sort","splice","unshift"],function(b){var a=au[b];
ao.prototype[b]=function(){var c=this._wrapped;
return a.apply(c,arguments),"shift"!=b&&"splice"!=b||0!==c.length||delete c[0],Y.call(this,c)
}
}),X(["concat","join","slice"],function(b){var a=au[b];
ao.prototype[b]=function(){return Y.call(this,a.apply(this._wrapped,arguments))
}
}),ao.extend(ao.prototype,{chain:function(){return this._chain=!0,this
},value:function(){return this._wrapped
}})
}.call(this);
(function(){var ac=this;
var aq=ac.Backbone;
var am=[];
var ae=am.push;
var ad=am.slice;
var ah=am.splice;
var av;
if(typeof exports!=="undefined"){av=exports
}else{av=ac.Backbone={}
}av.VERSION="1.0.0";
var an=ac._;
if(!an&&typeof require!=="undefined"){an=require("underscore")
}av.$=ac.jQuery||ac.Zepto||ac.ender||ac.$;
av.noConflict=function(){ac.Backbone=aq;
return this
};
av.emulateHTTP=false;
av.emulateJSON=false;
var ag=av.Events={on:function(b,d,a){if(!aj(this,"on",b,[d,a])||!d){return this
}this._events||(this._events={});
var c=this._events[b]||(this._events[b]=[]);
c.push({callback:d,context:a,ctx:a||this});
return this
},once:function(b,f,a){if(!aj(this,"once",b,[f,a])||!f){return this
}var d=this;
var c=an.once(function(){d.off(b,c);
f.apply(this,arguments)
});
c._callback=f;
return this.on(b,c,a)
},off:function(v,k,h){var b,w,g,m,d,p,l,j;
if(!this._events||!aj(this,"off",v,[k,h])){return this
}if(!v&&!k&&!h){this._events={};
return this
}m=v?[v]:an.keys(this._events);
for(d=0,p=m.length;
d<p;
d++){v=m[d];
if(g=this._events[v]){this._events[v]=b=[];
if(k||h){for(l=0,j=g.length;
l<j;
l++){w=g[l];
if(k&&k!==w.callback&&k!==w.callback._callback||h&&h!==w.context){b.push(w)
}}}if(!b.length){delete this._events[v]
}}}return this
},trigger:function(b){if(!this._events){return this
}var d=ad.call(arguments,1);
if(!aj(this,"trigger",b,d)){return this
}var a=this._events[b];
var c=this._events.all;
if(a){at(a,d)
}if(c){at(c,arguments)
}return this
},stopListening:function(b,f,a){var d=this._listeners;
if(!d){return this
}var c=!f&&!a;
if(typeof f==="object"){a=this
}if(b){(d={})[b._listenerId]=b
}for(var g in d){d[g].off(f,a,this);
if(c){delete this._listeners[g]
}}return this
}};
var ab=/\s+/;
var aj=function(d,k,c,j){if(!c){return true
}if(typeof c==="object"){for(var g in c){d[k].apply(d,[g,c[g]].concat(j))
}return false
}if(ab.test(c)){var l=c.split(ab);
for(var b=0,f=l.length;
b<f;
b++){d[k].apply(d,[l[b]].concat(j))
}return false
}return true
};
var at=function(d,k){var c,j=-1,g=d.length,l=k[0],b=k[1],f=k[2];
switch(k.length){case 0:while(++j<g){(c=d[j]).callback.call(c.ctx)
}return;
case 1:while(++j<g){(c=d[j]).callback.call(c.ctx,l)
}return;
case 2:while(++j<g){(c=d[j]).callback.call(c.ctx,l,b)
}return;
case 3:while(++j<g){(c=d[j]).callback.call(c.ctx,l,b,f)
}return;
default:while(++j<g){(c=d[j]).callback.apply(c.ctx,k)
}}};
var ap={listenTo:"on",listenToOnce:"once"};
an.each(ap,function(a,b){ag[b]=function(g,c,f){var d=this._listeners||(this._listeners={});
var h=g._listenerId||(g._listenerId=an.uniqueId("l"));
d[h]=g;
if(typeof c==="object"){f=this
}g[a](c,f,this);
return this
}
});
ag.bind=ag.on;
ag.unbind=ag.off;
an.extend(av,ag);
var ar=av.Model=function(b,d){var a;
var c=b||{};
d||(d={});
this.cid=an.uniqueId("c");
this.attributes={};
an.extend(this,an.pick(d,af));
if(d.parse){c=this.parse(c,d)||{}
}if(a=an.result(this,"defaults")){c=an.defaults({},c,a)
}this.set(c,d);
this.changed={};
this.initialize.apply(this,arguments)
};
var af=["url","urlRoot","collection"];
an.extend(ar.prototype,ag,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return an.clone(this.attributes)
},sync:function(){return av.sync.apply(this,arguments)
},get:function(a){return this.attributes[a]
},escape:function(a){return an.escape(this.get(a))
},has:function(a){return this.get(a)!=null
},set:function(A,p,k){var b,C,h,x,g,y,j,w;
if(A==null){return this
}if(typeof A==="object"){C=A;
k=p
}else{(C={})[A]=p
}k||(k={});
if(!this._validate(C,k)){return false
}h=k.unset;
g=k.silent;
x=[];
y=this._changing;
this._changing=true;
if(!y){this._previousAttributes=an.clone(this.attributes);
this.changed={}
}w=this.attributes,j=this._previousAttributes;
if(this.idAttribute in C){this.id=C[this.idAttribute]
}for(b in C){p=C[b];
if(!an.isEqual(w[b],p)){x.push(b)
}if(!an.isEqual(j[b],p)){this.changed[b]=p
}else{delete this.changed[b]
}h?delete w[b]:w[b]=p
}if(!g){if(x.length){this._pending=true
}for(var m=0,v=x.length;
m<v;
m++){this.trigger("change:"+x[m],this,w[x[m]],k)
}}if(y){return this
}if(!g){while(this._pending){this._pending=false;
this.trigger("change",this,k)
}}this._pending=false;
this._changing=false;
return this
},unset:function(a,b){return this.set(a,void 0,an.extend({},b,{unset:true}))
},clear:function(b){var c={};
for(var a in this.attributes){c[a]=void 0
}return this.set(c,an.extend({},b,{unset:true}))
},hasChanged:function(a){if(a==null){return !an.isEmpty(this.changed)
}return an.has(this.changed,a)
},changedAttributes:function(b){if(!b){return this.hasChanged()?an.clone(this.changed):false
}var f,a=false;
var d=this._changing?this._previousAttributes:this.attributes;
for(var c in b){if(an.isEqual(d[c],f=b[c])){continue
}(a||(a={}))[c]=f
}return a
},previous:function(a){if(a==null||!this._previousAttributes){return null
}return this._previousAttributes[a]
},previousAttributes:function(){return an.clone(this._previousAttributes)
},fetch:function(b){b=b?an.clone(b):{};
if(b.parse===void 0){b.parse=true
}var c=this;
var a=b.success;
b.success=function(d){if(!c.set(c.parse(d,b),b)){return false
}if(a){a(c,d,b)
}c.trigger("sync",c,d,b)
};
D(this,b);
return this.sync("read",this,b)
},save:function(k,g,f){var b,l,d,h=this.attributes;
if(k==null||typeof k==="object"){b=k;
f=g
}else{(b={})[k]=g
}if(b&&(!f||!f.wait)&&!this.set(b,f)){return false
}f=an.extend({validate:true},f);
if(!this._validate(b,f)){return false
}if(b&&f.wait){this.attributes=an.extend({},h,b)
}if(f.parse===void 0){f.parse=true
}var c=this;
var j=f.success;
f.success=function(a){c.attributes=h;
var m=c.parse(a,f);
if(f.wait){m=an.extend(b||{},m)
}if(an.isObject(m)&&!c.set(m,f)){return false
}if(j){j(c,a,f)
}c.trigger("sync",c,a,f)
};
D(this,f);
l=this.isNew()?"create":f.patch?"patch":"update";
if(l==="patch"){f.attrs=b
}d=this.sync(l,this,f);
if(b&&f.wait){this.attributes=h
}return d
},destroy:function(b){b=b?an.clone(b):{};
var f=this;
var a=b.success;
var d=function(){f.trigger("destroy",f,f.collection,b)
};
b.success=function(g){if(b.wait||f.isNew()){d()
}if(a){a(f,g,b)
}if(!f.isNew()){f.trigger("sync",f,g,b)
}};
if(this.isNew()){b.success();
return false
}D(this,b);
var c=this.sync("delete",this,b);
if(!b.wait){d()
}return c
},url:function(){var a=an.result(this,"urlRoot")||an.result(this.collection,"url")||q();
if(this.isNew()){return a
}return a+(a.charAt(a.length-1)==="/"?"":"/")+encodeURIComponent(this.id)
},parse:function(a,b){return a
},clone:function(){return new this.constructor(this.attributes)
},isNew:function(){return this.id==null
},isValid:function(a){return this._validate({},an.extend(a||{},{validate:true}))
},_validate:function(b,c){if(!c.validate||!this.validate){return true
}b=an.extend({},this.attributes,b);
var a=this.validationError=this.validate(b,c)||null;
if(!a){return true
}this.trigger("invalid",this,a,an.extend(c||{},{validationError:a}));
return false
}});
var aa=["keys","values","pairs","invert","pick","omit"];
an.each(aa,function(a){ar.prototype[a]=function(){var b=ad.call(arguments);
b.unshift(this.attributes);
return an[a].apply(an,b)
}
});
var ao=av.Collection=function(a,b){b||(b={});
if(b.url){this.url=b.url
}if(b.model){this.model=b.model
}if(b.comparator!==void 0){this.comparator=b.comparator
}this._reset();
this.initialize.apply(this,arguments);
if(a){this.reset(a,an.extend({silent:true},b))
}};
var ai={add:true,remove:true,merge:true};
var X={add:true,merge:false,remove:false};
an.extend(ao.prototype,ag,{model:ar,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)
})
},sync:function(){return av.sync.apply(this,arguments)
},add:function(a,b){return this.set(a,an.defaults(b||{},X))
},remove:function(b,f){b=an.isArray(b)?b.slice():[b];
f||(f={});
var a,d,c,g;
for(a=0,d=b.length;
a<d;
a++){g=this.get(b[a]);
if(!g){continue
}delete this._byId[g.id];
delete this._byId[g.cid];
c=this.indexOf(g);
this.models.splice(c,1);
this.length--;
if(!f.silent){f.index=c;
g.trigger("remove",g,this,f)
}this._removeReference(g)
}return this
},set:function(E,r){r=an.defaults(r||{},ai);
if(r.parse){E=this.parse(E,r)
}if(!an.isArray(E)){E=E?[E]:[]
}var k,H,y,h,C,j;
var x=r.at;
var n=this.comparator&&x==null&&r.sort!==false;
var w=an.isString(this.comparator)?this.comparator:null;
var b=[],A=[],m={};
for(k=0,H=E.length;
k<H;
k++){if(!(y=this._prepareModel(E[k],r))){continue
}if(C=this.get(y)){if(r.remove){m[C.cid]=true
}if(r.merge){C.set(y.attributes,r);
if(n&&!j&&C.hasChanged(w)){j=true
}}}else{if(r.add){b.push(y);
y.on("all",this._onModelEvent,this);
this._byId[y.cid]=y;
if(y.id!=null){this._byId[y.id]=y
}}}}if(r.remove){for(k=0,H=this.length;
k<H;
++k){if(!m[(y=this.models[k]).cid]){A.push(y)
}}if(A.length){this.remove(A,r)
}}if(b.length){if(n){j=true
}this.length+=b.length;
if(x!=null){ah.apply(this.models,[x,0].concat(b))
}else{ae.apply(this.models,b)
}}if(j){this.sort({silent:true})
}if(r.silent){return this
}for(k=0,H=b.length;
k<H;
k++){(y=b[k]).trigger("add",y,this,r)
}if(j){this.trigger("sort",this,r)
}return this
},reset:function(b,d){d||(d={});
for(var a=0,c=this.models.length;
a<c;
a++){this._removeReference(this.models[a])
}d.previousModels=this.models;
this._reset();
this.add(b,an.extend({silent:true},d));
if(!d.silent){this.trigger("reset",this,d)
}return this
},push:function(a,b){a=this._prepareModel(a,b);
this.add(a,an.extend({at:this.length},b));
return a
},pop:function(a){var b=this.at(this.length-1);
this.remove(b,a);
return b
},unshift:function(a,b){a=this._prepareModel(a,b);
this.add(a,an.extend({at:0},b));
return a
},shift:function(a){var b=this.at(0);
this.remove(b,a);
return b
},slice:function(a,b){return this.models.slice(a,b)
},get:function(a){if(a==null){return void 0
}return this._byId[a.id!=null?a.id:a.cid||a]
},at:function(a){return this.models[a]
},where:function(a,b){if(an.isEmpty(a)){return b?void 0:[]
}return this[b?"find":"filter"](function(d){for(var c in a){if(a[c]!==d.get(c)){return false
}}return true
})
},findWhere:function(a){return this.where(a,true)
},sort:function(a){if(!this.comparator){throw new Error("Cannot sort a set without a comparator")
}a||(a={});
if(an.isString(this.comparator)||this.comparator.length===1){this.models=this.sortBy(this.comparator,this)
}else{this.models.sort(an.bind(this.comparator,this))
}if(!a.silent){this.trigger("sort",this,a)
}return this
},sortedIndex:function(b,d,a){d||(d=this.comparator);
var c=an.isFunction(d)?d:function(f){return f.get(d)
};
return an.sortedIndex(this.models,b,c,a)
},pluck:function(a){return an.invoke(this.models,"get",a)
},fetch:function(b){b=b?an.clone(b):{};
if(b.parse===void 0){b.parse=true
}var c=b.success;
var a=this;
b.success=function(f){var d=b.reset?"reset":"set";
a[d](f,b);
if(c){c(a,f,b)
}a.trigger("sync",a,f,b)
};
D(this,b);
return this.sync("read",this,b)
},create:function(b,d){d=d?an.clone(d):{};
if(!(b=this._prepareModel(b,d))){return false
}if(!d.wait){this.add(b,d)
}var a=this;
var c=d.success;
d.success=function(f){if(d.wait){a.add(b,d)
}if(c){c(b,f,d)
}};
b.save(null,d);
return b
},parse:function(a,b){return a
},clone:function(){return new this.constructor(this.models)
},_reset:function(){this.length=0;
this.models=[];
this._byId={}
},_prepareModel:function(b,c){if(b instanceof ar){if(!b.collection){b.collection=this
}return b
}c||(c={});
c.collection=this;
var a=new this.model(b,c);
if(!a._validate(b,c)){this.trigger("invalid",this,b,c);
return false
}return a
},_removeReference:function(a){if(this===a.collection){delete a.collection
}a.off("all",this._onModelEvent,this)
},_onModelEvent:function(b,d,a,c){if((b==="add"||b==="remove")&&a!==this){return
}if(b==="destroy"){this.remove(d,c)
}if(d&&b==="change:"+d.idAttribute){delete this._byId[d.previous(d.idAttribute)];
if(d.id!=null){this._byId[d.id]=d
}}this.trigger.apply(this,arguments)
}});
var aw=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];
an.each(aw,function(a){ao.prototype[a]=function(){var b=ad.call(arguments);
b.unshift(this.models);
return an[a].apply(an,b)
}
});
var Z=["groupBy","countBy","sortBy"];
an.each(Z,function(a){ao.prototype[a]=function(d,b){var c=an.isFunction(d)?d:function(f){return f.get(d)
};
return an[a](this.models,c,b)
}
});
var au=av.View=function(a){this.cid=an.uniqueId("view");
this._configure(a||{});
this._ensureElement();
this.initialize.apply(this,arguments);
this.delegateEvents()
};
var Y=/^(\S+)\s*(.*)$/;
var M=["model","collection","el","id","attributes","className","tagName","events"];
an.extend(au.prototype,ag,{tagName:"div",$:function(a){return this.$el.find(a)
},initialize:function(){},render:function(){return this
},remove:function(){this.$el.remove();
this.stopListening();
return this
},setElement:function(a,b){if(this.$el){this.undelegateEvents()
}this.$el=a instanceof av.$?a:av.$(a);
this.el=this.$el[0];
if(b!==false){this.delegateEvents()
}return this
},delegateEvents:function(b){if(!(b||(b=an.result(this,"events")))){return this
}this.undelegateEvents();
for(var f in b){var a=b[f];
if(!an.isFunction(a)){a=this[b[f]]
}if(!a){continue
}var d=f.match(Y);
var c=d[1],g=d[2];
a=an.bind(a,this);
c+=".delegateEvents"+this.cid;
if(g===""){this.$el.on(c,a)
}else{this.$el.on(c,g,a)
}}return this
},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);
return this
},_configure:function(a){if(this.options){a=an.extend({},an.result(this,"options"),a)
}an.extend(this,an.pick(a,M));
this.options=a
},_ensureElement:function(){if(!this.el){var a=an.extend({},an.result(this,"attributes"));
if(this.id){a.id=an.result(this,"id")
}if(this.className){a["class"]=an.result(this,"className")
}var b=av.$("<"+an.result(this,"tagName")+">").attr(a);
this.setElement(b,false)
}else{this.setElement(an.result(this,"el"),false)
}}});
av.sync=function(b,f,a){var d=ak[b];
an.defaults(a||(a={}),{emulateHTTP:av.emulateHTTP,emulateJSON:av.emulateJSON});
var c={type:d,dataType:"json"};
if(!a.url){c.url=an.result(f,"url")||q()
}if(a.data==null&&f&&(b==="create"||b==="update"||b==="patch")){c.contentType="application/json";
c.data=JSON.stringify(a.attrs||f.toJSON(a))
}if(a.emulateJSON){c.contentType="application/x-www-form-urlencoded";
c.data=c.data?{model:c.data}:{}
}if(a.emulateHTTP&&(d==="PUT"||d==="DELETE"||d==="PATCH")){c.type="POST";
if(a.emulateJSON){c.data._method=d
}var h=a.beforeSend;
a.beforeSend=function(j){j.setRequestHeader("X-HTTP-Method-Override",d);
if(h){return h.apply(this,arguments)
}}
}if(c.type!=="GET"&&!a.emulateJSON){c.processData=false
}if(c.type==="PATCH"&&window.ActiveXObject&&!(window.external&&window.external.msActiveXFilteringEnabled)){c.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")
}
}var g=a.xhr=av.ajax(an.extend(c,a));
f.trigger("request",f,g,a);
return g
};
var ak={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};
av.ajax=function(){return av.$.ajax.apply(av.$,arguments)
};
var B=av.Router=function(a){a||(a={});
if(a.routes){this.routes=a.routes
}this._bindRoutes();
this.initialize.apply(this,arguments)
};
var W=/\((.*?)\)/g;
var z=/(\(\?)?:\w+/g;
var L=/\*\w+/g;
var V=/[\-{}\[\]+?.,\\\^$|#\s]/g;
an.extend(B.prototype,ag,{initialize:function(){},route:function(b,d,a){if(!an.isRegExp(b)){b=this._routeToRegExp(b)
}if(an.isFunction(d)){a=d;
d=""
}if(!a){a=this[d]
}var c=this;
av.history.route(b,function(f){var g=c._extractParameters(b,f);
a&&a.apply(c,g);
c.trigger.apply(c,["route:"+d].concat(g));
c.trigger("route",d,g);
av.history.trigger("route",c,d,g)
});
return this
},navigate:function(a,b){av.history.navigate(a,b);
return this
},_bindRoutes:function(){if(!this.routes){return
}this.routes=an.result(this,"routes");
var a,b=an.keys(this.routes);
while((a=b.pop())!=null){this.route(a,this.routes[a])
}},_routeToRegExp:function(a){a=a.replace(V,"\\$&").replace(W,"(?:$1)?").replace(z,function(b,c){return c?b:"([^/]+)"
}).replace(L,"(.*?)");
return new RegExp("^"+a+"$")
},_extractParameters:function(b,c){var a=b.exec(c).slice(1);
return an.map(a,function(d){return d?decodeURIComponent(d):null
})
}});
var K=av.History=function(){this.handlers=[];
an.bindAll(this,"checkUrl");
if(typeof window!=="undefined"){this.location=window.location;
this.history=window.history
}};
var J=/^[#\/]|\s+$/g;
var F=/^\/+|\/+$/g;
var G=/msie [\w.]+/;
var Q=/\/$/;
K.started=false;
an.extend(K.prototype,ag,{interval:50,getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);
return b?b[1]:""
},getFragment:function(b,c){if(b==null){if(this._hasPushState||!this._wantsHashChange||c){b=this.location.pathname;
var a=this.root.replace(Q,"");
if(!b.indexOf(a)){b=b.substr(a.length)
}}else{b=this.getHash()
}}return b.replace(J,"")
},start:function(b){if(K.started){throw new Error("Backbone.history has already been started")
}K.started=true;
this.options=an.extend({},{root:"/"},this.options,b);
this.root=this.options.root;
this._wantsHashChange=this.options.hashChange!==false;
this._wantsPushState=!!this.options.pushState;
this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);
var f=this.getFragment();
var a=document.documentMode;
var d=G.exec(navigator.userAgent.toLowerCase())&&(!a||a<=7);
this.root=("/"+this.root+"/").replace(F,"/");
if(d&&this._wantsHashChange){this.iframe=av.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;
this.navigate(f)
}if(this._hasPushState){av.$(window).on("popstate",this.checkUrl)
}else{if(this._wantsHashChange&&"onhashchange" in window&&!d){av.$(window).on("hashchange",this.checkUrl)
}else{if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)
}}}this.fragment=f;
var c=this.location;
var g=c.pathname.replace(/[^\/]$/,"$&/")===this.root;
if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!g){this.fragment=this.getFragment(null,true);
this.location.replace(this.root+this.location.search+"#"+this.fragment);
return true
}else{if(this._wantsPushState&&this._hasPushState&&g&&c.hash){this.fragment=this.getHash().replace(J,"");
this.history.replaceState({},document.title,this.root+this.fragment+c.search)
}}if(!this.options.silent){return this.loadUrl()
}},stop:function(){av.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);
clearInterval(this._checkUrlInterval);
K.started=false
},route:function(a,b){this.handlers.unshift({route:a,callback:b})
},checkUrl:function(a){var b=this.getFragment();
if(b===this.fragment&&this.iframe){b=this.getFragment(this.getHash(this.iframe))
}if(b===this.fragment){return false
}if(this.iframe){this.navigate(b)
}this.loadUrl()||this.loadUrl(this.getHash())
},loadUrl:function(b){var c=this.fragment=this.getFragment(b);
var a=an.any(this.handlers,function(d){if(d.route.test(c)){d.callback(c);
return true
}});
return a
},navigate:function(b,c){if(!K.started){return false
}if(!c||c===true){c={trigger:c}
}b=this.getFragment(b||"");
if(this.fragment===b){return
}this.fragment=b;
var a=this.root+b;
if(this._hasPushState){this.history[c.replace?"replaceState":"pushState"]({},document.title,a)
}else{if(this._wantsHashChange){this._updateHash(this.location,b,c.replace);
if(this.iframe&&b!==this.getFragment(this.getHash(this.iframe))){if(!c.replace){this.iframe.document.open().close()
}this._updateHash(this.iframe.location,b,c.replace)
}}else{return this.location.assign(a)
}}if(c.trigger){this.loadUrl(b)
}},_updateHash:function(b,d,a){if(a){var c=b.href.replace(/(javascript:|#).*$/,"");
b.replace(c+"#"+d)
}else{b.hash="#"+d
}}});
av.history=new K;
var al=function(b,f){var a=this;
var d;
if(b&&an.has(b,"constructor")){d=b.constructor
}else{d=function(){return a.apply(this,arguments)
}
}an.extend(d,a,f);
var c=function(){this.constructor=d
};
c.prototype=a.prototype;
d.prototype=new c;
if(b){an.extend(d.prototype,b)
}d.__super__=a.prototype;
return d
};
ar.extend=ao.extend=B.extend=au.extend=K.extend=al;
var q=function(){throw new Error('A "url" property or function must be specified')
};
var D=function(b,c){var a=c.error;
c.error=function(d){if(a){a(b,d,c)
}b.trigger("error",b,d,c)
}
}
}).call(this);
/*! jQuery v1.10.1 | (c) 2005, 2013 jQuery Foundation, Inc. | jquery.org/license
//@ sourceMappingURL=jquery.min.map
*/
(function(e,t){var n,r,i=typeof t,o=e.location,a=e.document,s=a.documentElement,l=e.jQuery,u=e.$,c={},p=[],f="1.10.1",d=p.concat,h=p.push,g=p.slice,m=p.indexOf,y=c.toString,v=c.hasOwnProperty,b=f.trim,x=function(e,t){return new x.fn.init(e,t,r)
},w=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=/\S+/g,C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,k=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,E=/^[\],:{}\s]*$/,S=/(?:^|:|,)(?:\s*\[)+/g,A=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,j=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,D=/^-ms-/,L=/-([\da-z])/gi,H=function(e,t){return t.toUpperCase()
},q=function(e){(a.addEventListener||"load"===e.type||"complete"===a.readyState)&&(_(),x.ready())
},_=function(){a.addEventListener?(a.removeEventListener("DOMContentLoaded",q,!1),e.removeEventListener("load",q,!1)):(a.detachEvent("onreadystatechange",q),e.detachEvent("onload",q))
};
x.fn=x.prototype={jquery:f,constructor:x,init:function(e,n,r){var i,o;
if(!e){return this
}if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:N.exec(e),!i||!i[1]&&n){return !n||n.jquery?(n||r).find(e):this.constructor(n).find(e)
}if(i[1]){if(n=n instanceof x?n[0]:n,x.merge(this,x.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:a,!0)),k.test(i[1])&&x.isPlainObject(n)){for(i in n){x.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i])
}}return this
}if(o=a.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2]){return r.find(e)
}this.length=1,this[0]=o
}return this.context=a,this.selector=e,this
}return e.nodeType?(this.context=this[0]=e,this.length=1,this):x.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),x.makeArray(e,this))
},selector:"",length:0,toArray:function(){return g.call(this)
},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]
},pushStack:function(e){var t=x.merge(this.constructor(),e);
return t.prevObject=this,t.context=this.context,t
},each:function(e,t){return x.each(this,e,t)
},ready:function(e){return x.ready.promise().done(e),this
},slice:function(){return this.pushStack(g.apply(this,arguments))
},first:function(){return this.eq(0)
},last:function(){return this.eq(-1)
},eq:function(e){var t=this.length,n=+e+(0>e?t:0);
return this.pushStack(n>=0&&t>n?[this[n]]:[])
},map:function(e){return this.pushStack(x.map(this,function(t,n){return e.call(t,n,t)
}))
},end:function(){return this.prevObject||this.constructor(null)
},push:h,sort:[].sort,splice:[].splice},x.fn.init.prototype=x.fn,x.extend=x.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},l=1,u=arguments.length,c=!1;
for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||x.isFunction(s)||(s={}),u===l&&(s=this,--l);
u>l;
l++){if(null!=(o=arguments[l])){for(i in o){e=s[i],r=o[i],s!==r&&(c&&r&&(x.isPlainObject(r)||(n=x.isArray(r)))?(n?(n=!1,a=e&&x.isArray(e)?e:[]):a=e&&x.isPlainObject(e)?e:{},s[i]=x.extend(c,a,r)):r!==t&&(s[i]=r))
}}}return s
},x.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===x&&(e.$=u),t&&e.jQuery===x&&(e.jQuery=l),x
},isReady:!1,readyWait:1,holdReady:function(e){e?x.readyWait++:x.ready(!0)
},ready:function(e){if(e===!0?!--x.readyWait:!x.isReady){if(!a.body){return setTimeout(x.ready)
}x.isReady=!0,e!==!0&&--x.readyWait>0||(n.resolveWith(a,[x]),x.fn.trigger&&x(a).trigger("ready").off("ready"))
}},isFunction:function(e){return"function"===x.type(e)
},isArray:Array.isArray||function(e){return"array"===x.type(e)
},isWindow:function(e){return null!=e&&e==e.window
},isNumeric:function(e){return !isNaN(parseFloat(e))&&isFinite(e)
},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[y.call(e)]||"object":typeof e
},isPlainObject:function(e){var n;
if(!e||"object"!==x.type(e)||e.nodeType||x.isWindow(e)){return !1
}try{if(e.constructor&&!v.call(e,"constructor")&&!v.call(e.constructor.prototype,"isPrototypeOf")){return !1
}}catch(r){return !1
}if(x.support.ownLast){for(n in e){return v.call(e,n)
}}for(n in e){}return n===t||v.call(e,n)
},isEmptyObject:function(e){var t;
for(t in e){return !1
}return !0
},error:function(e){throw Error(e)
},parseHTML:function(e,t,n){if(!e||"string"!=typeof e){return null
}"boolean"==typeof t&&(n=t,t=!1),t=t||a;
var r=k.exec(e),i=!n&&[];
return r?[t.createElement(r[1])]:(r=x.buildFragment([e],t,i),i&&x(i).remove(),x.merge([],r.childNodes))
},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=x.trim(n),n&&E.test(n.replace(A,"@").replace(j,"]").replace(S,"")))?Function("return "+n)():(x.error("Invalid JSON: "+n),t)
},parseXML:function(n){var r,i;
if(!n||"string"!=typeof n){return null
}try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))
}catch(o){r=t
}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||x.error("Invalid XML: "+n),r
},noop:function(){},globalEval:function(t){t&&x.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)
})(t)
},camelCase:function(e){return e.replace(D,"ms-").replace(L,H)
},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()
},each:function(e,t,n){var r,i=0,o=e.length,a=M(e);
if(n){if(a){for(;
o>i;
i++){if(r=t.apply(e[i],n),r===!1){break
}}}else{for(i in e){if(r=t.apply(e[i],n),r===!1){break
}}}}else{if(a){for(;
o>i;
i++){if(r=t.call(e[i],i,e[i]),r===!1){break
}}}else{for(i in e){if(r=t.call(e[i],i,e[i]),r===!1){break
}}}}return e
},trim:b&&!b.call("\ufeff\u00a0")?function(e){return null==e?"":b.call(e)
}:function(e){return null==e?"":(e+"").replace(C,"")
},makeArray:function(e,t){var n=t||[];
return null!=e&&(M(Object(e))?x.merge(n,"string"==typeof e?[e]:e):h.call(n,e)),n
},inArray:function(e,t,n){var r;
if(t){if(m){return m.call(t,e,n)
}for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;
r>n;
n++){if(n in t&&t[n]===e){return n
}}}return -1
},merge:function(e,n){var r=n.length,i=e.length,o=0;
if("number"==typeof r){for(;
r>o;
o++){e[i++]=n[o]
}}else{while(n[o]!==t){e[i++]=n[o++]
}}return e.length=i,e
},grep:function(e,t,n){var r,i=[],o=0,a=e.length;
for(n=!!n;
a>o;
o++){r=!!t(e[o],o),n!==r&&i.push(e[o])
}return i
},map:function(e,t,n){var r,i=0,o=e.length,a=M(e),s=[];
if(a){for(;
o>i;
i++){r=t(e[i],i,n),null!=r&&(s[s.length]=r)
}}else{for(i in e){r=t(e[i],i,n),null!=r&&(s[s.length]=r)
}}return d.apply([],s)
},guid:1,proxy:function(e,n){var r,i,o;
return"string"==typeof n&&(o=e[n],n=e,e=o),x.isFunction(e)?(r=g.call(arguments,2),i=function(){return e.apply(n||this,r.concat(g.call(arguments)))
},i.guid=e.guid=e.guid||x.guid++,i):t
},access:function(e,n,r,i,o,a,s){var l=0,u=e.length,c=null==r;
if("object"===x.type(r)){o=!0;
for(l in r){x.access(e,n,l,r[l],!0,a,s)
}}else{if(i!==t&&(o=!0,x.isFunction(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(x(e),n)
})),n)){for(;
u>l;
l++){n(e[l],r,s?i:i.call(e[l],l,n(e[l],r)))
}}}return o?e:c?n.call(e):u?n(e[0],r):a
},now:function(){return(new Date).getTime()
},swap:function(e,t,n,r){var i,o,a={};
for(o in t){a[o]=e.style[o],e.style[o]=t[o]
}i=n.apply(e,r||[]);
for(o in t){e.style[o]=a[o]
}return i
}}),x.ready.promise=function(t){if(!n){if(n=x.Deferred(),"complete"===a.readyState){setTimeout(x.ready)
}else{if(a.addEventListener){a.addEventListener("DOMContentLoaded",q,!1),e.addEventListener("load",q,!1)
}else{a.attachEvent("onreadystatechange",q),e.attachEvent("onload",q);
var r=!1;
try{r=null==e.frameElement&&a.documentElement
}catch(i){}r&&r.doScroll&&function o(){if(!x.isReady){try{r.doScroll("left")
}catch(e){return setTimeout(o,50)
}_(),x.ready()
}}()
}}}return n.promise(t)
},x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){c["[object "+t+"]"]=t.toLowerCase()
});
function M(e){var t=e.length,n=x.type(e);
return x.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)
}r=x(a),function(e,t){var n,r,i,o,a,s,l,u,c,p,f,d,h,g,m,y,v,b="sizzle"+-new Date,w=e.document,T=0,C=0,N=lt(),k=lt(),E=lt(),S=!1,A=function(){return 0
},j=typeof t,D=1<<31,L={}.hasOwnProperty,H=[],q=H.pop,_=H.push,M=H.push,O=H.slice,F=H.indexOf||function(e){var t=0,n=this.length;
for(;
n>t;
t++){if(this[t]===e){return t
}}return -1
},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",W=R.replace("w","w#"),$="\\["+P+"*("+R+")"+P+"*(?:([*^$|!~]?=)"+P+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+W+")|)|)"+P+"*\\]",I=":("+R+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+$.replace(3,8)+")*)|.*)\\)|)",z=RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),X=RegExp("^"+P+"*,"+P+"*"),U=RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),V=RegExp(P+"*[+~]"),Y=RegExp("="+P+"*([^\\]'\"]*)"+P+"*\\]","g"),J=RegExp(I),G=RegExp("^"+W+"$"),Q={ID:RegExp("^#("+R+")"),CLASS:RegExp("^\\.("+R+")"),TAG:RegExp("^("+R.replace("w","w*")+")"),ATTR:RegExp("^"+$),PSEUDO:RegExp("^"+I),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:RegExp("^(?:"+B+")$","i"),needsContext:RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/^(?:input|select|textarea|button)$/i,tt=/^h\d$/i,nt=/'|\\/g,rt=RegExp("\\\\([\\da-f]{1,6}"+P+"?|("+P+")|.)","ig"),it=function(e,t,n){var r="0x"+t-65536;
return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)
};
try{M.apply(H=O.call(w.childNodes),w.childNodes),H[w.childNodes.length].nodeType
}catch(ot){M={apply:H.length?function(e,t){_.apply(e,O.call(t))
}:function(e,t){var n=e.length,r=0;
while(e[n++]=t[r++]){}e.length=n-1
}}
}function at(e,t,n,i){var o,a,s,l,u,c,d,m,y,x;
if((t?t.ownerDocument||t:w)!==f&&p(t),t=t||f,n=n||[],!e||"string"!=typeof e){return n
}if(1!==(l=t.nodeType)&&9!==l){return[]
}if(h&&!i){if(o=Z.exec(e)){if(s=o[1]){if(9===l){if(a=t.getElementById(s),!a||!a.parentNode){return n
}if(a.id===s){return n.push(a),n
}}else{if(t.ownerDocument&&(a=t.ownerDocument.getElementById(s))&&v(t,a)&&a.id===s){return n.push(a),n
}}}else{if(o[2]){return M.apply(n,t.getElementsByTagName(e)),n
}if((s=o[3])&&r.getElementsByClassName&&t.getElementsByClassName){return M.apply(n,t.getElementsByClassName(s)),n
}}}if(r.qsa&&(!g||!g.test(e))){if(m=d=b,y=t,x=9===l&&e,1===l&&"object"!==t.nodeName.toLowerCase()){c=bt(e),(d=t.getAttribute("id"))?m=d.replace(nt,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",u=c.length;
while(u--){c[u]=m+xt(c[u])
}y=V.test(e)&&t.parentNode||t,x=c.join(",")
}if(x){try{return M.apply(n,y.querySelectorAll(x)),n
}catch(T){}finally{d||t.removeAttribute("id")
}}}}return At(e.replace(z,"$1"),t,n,i)
}function st(e){return K.test(e+"")
}function lt(){var e=[];
function t(n,r){return e.push(n+=" ")>o.cacheLength&&delete t[e.shift()],t[n]=r
}return t
}function ut(e){return e[b]=!0,e
}function ct(e){var t=f.createElement("div");
try{return !!e(t)
}catch(n){return !1
}finally{t.parentNode&&t.parentNode.removeChild(t),t=null
}}function pt(e,t,n){e=e.split("|");
var r,i=e.length,a=n?null:t;
while(i--){(r=o.attrHandle[e[i]])&&r!==t||(o.attrHandle[e[i]]=a)
}}function ft(e,t){var n=e.getAttributeNode(t);
return n&&n.specified?n.value:e[t]===!0?t.toLowerCase():null
}function dt(e,t){return e.getAttribute(t,"type"===t.toLowerCase()?1:2)
}function ht(e){return"input"===e.nodeName.toLowerCase()?e.defaultValue:t
}function gt(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||D)-(~e.sourceIndex||D);
if(r){return r
}if(n){while(n=n.nextSibling){if(n===t){return -1
}}}return e?1:-1
}function mt(e){return function(t){var n=t.nodeName.toLowerCase();
return"input"===n&&t.type===e
}
}function yt(e){return function(t){var n=t.nodeName.toLowerCase();
return("input"===n||"button"===n)&&t.type===e
}
}function vt(e){return ut(function(t){return t=+t,ut(function(n,r){var i,o=e([],n.length,t),a=o.length;
while(a--){n[i=o[a]]&&(n[i]=!(r[i]=n[i]))
}})
})
}s=at.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;
return t?"HTML"!==t.nodeName:!1
},r=at.support={},p=at.setDocument=function(e){var n=e?e.ownerDocument||e:w,i=n.parentWindow;
return n!==f&&9===n.nodeType&&n.documentElement?(f=n,d=n.documentElement,h=!s(n),i&&i.frameElement&&i.attachEvent("onbeforeunload",function(){p()
}),r.attributes=ct(function(e){return e.innerHTML="<a href='#'></a>",pt("type|href|height|width",dt,"#"===e.firstChild.getAttribute("href")),pt(B,ft,null==e.getAttribute("disabled")),e.className="i",!e.getAttribute("className")
}),r.input=ct(function(e){return e.innerHTML="<input>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")
}),pt("value",ht,r.attributes&&r.input),r.getElementsByTagName=ct(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length
}),r.getElementsByClassName=ct(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length
}),r.getById=ct(function(e){return d.appendChild(e).id=b,!n.getElementsByName||!n.getElementsByName(b).length
}),r.getById?(o.find.ID=function(e,t){if(typeof t.getElementById!==j&&h){var n=t.getElementById(e);
return n&&n.parentNode?[n]:[]
}},o.filter.ID=function(e){var t=e.replace(rt,it);
return function(e){return e.getAttribute("id")===t
}
}):(delete o.find.ID,o.filter.ID=function(e){var t=e.replace(rt,it);
return function(e){var n=typeof e.getAttributeNode!==j&&e.getAttributeNode("id");
return n&&n.value===t
}
}),o.find.TAG=r.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==j?n.getElementsByTagName(e):t
}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);
if("*"===e){while(n=o[i++]){1===n.nodeType&&r.push(n)
}return r
}return o
},o.find.CLASS=r.getElementsByClassName&&function(e,n){return typeof n.getElementsByClassName!==j&&h?n.getElementsByClassName(e):t
},m=[],g=[],(r.qsa=st(n.querySelectorAll))&&(ct(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||g.push("\\["+P+"*(?:value|"+B+")"),e.querySelectorAll(":checked").length||g.push(":checked")
}),ct(function(e){var t=n.createElement("input");
t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&g.push("[*^$]="+P+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")
})),(r.matchesSelector=st(y=d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ct(function(e){r.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),m.push("!=",I)
}),g=g.length&&RegExp(g.join("|")),m=m.length&&RegExp(m.join("|")),v=st(d.contains)||d.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;
return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))
}:function(e,t){if(t){while(t=t.parentNode){if(t===e){return !0
}}}return !1
},r.sortDetached=ct(function(e){return 1&e.compareDocumentPosition(n.createElement("div"))
}),A=d.compareDocumentPosition?function(e,t){if(e===t){return S=!0,0
}var i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);
return i?1&i||!r.sortDetached&&t.compareDocumentPosition(e)===i?e===n||v(w,e)?-1:t===n||v(w,t)?1:c?F.call(c,e)-F.call(c,t):0:4&i?-1:1:e.compareDocumentPosition?-1:1
}:function(e,t){var r,i=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];
if(e===t){return S=!0,0
}if(!o||!a){return e===n?-1:t===n?1:o?-1:a?1:c?F.call(c,e)-F.call(c,t):0
}if(o===a){return gt(e,t)
}r=e;
while(r=r.parentNode){s.unshift(r)
}r=t;
while(r=r.parentNode){l.unshift(r)
}while(s[i]===l[i]){i++
}return i?gt(s[i],l[i]):s[i]===w?-1:l[i]===w?1:0
},n):f
},at.matches=function(e,t){return at(e,null,null,t)
},at.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&p(e),t=t.replace(Y,"='$1']"),!(!r.matchesSelector||!h||m&&m.test(t)||g&&g.test(t))){try{var n=y.call(e,t);
if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType){return n
}}catch(i){}}return at(t,f,null,[e]).length>0
},at.contains=function(e,t){return(e.ownerDocument||e)!==f&&p(e),v(e,t)
},at.attr=function(e,n){(e.ownerDocument||e)!==f&&p(e);
var i=o.attrHandle[n.toLowerCase()],a=i&&L.call(o.attrHandle,n.toLowerCase())?i(e,n,!h):t;
return a===t?r.attributes||!h?e.getAttribute(n):(a=e.getAttributeNode(n))&&a.specified?a.value:null:a
},at.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)
},at.uniqueSort=function(e){var t,n=[],i=0,o=0;
if(S=!r.detectDuplicates,c=!r.sortStable&&e.slice(0),e.sort(A),S){while(t=e[o++]){t===e[o]&&(i=n.push(o))
}while(i--){e.splice(n[i],1)
}}return e
},a=at.getText=function(e){var t,n="",r=0,i=e.nodeType;
if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent){return e.textContent
}for(e=e.firstChild;
e;
e=e.nextSibling){n+=a(e)
}}else{if(3===i||4===i){return e.nodeValue
}}}else{for(;
t=e[r];
r++){n+=a(t)
}}return n
},o=at.selectors={cacheLength:50,createPseudo:ut,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(rt,it),e[3]=(e[4]||e[5]||"").replace(rt,it),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)
},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||at.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&at.error(e[0]),e
},PSEUDO:function(e){var n,r=!e[5]&&e[2];
return Q.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&J.test(r)&&(n=bt(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))
}},filter:{TAG:function(e){var t=e.replace(rt,it).toLowerCase();
return"*"===e?function(){return !0
}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t
}
},CLASS:function(e){var t=N[e+" "];
return t||(t=RegExp("(^|"+P+")"+e+"("+P+"|$)"))&&N(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==j&&e.getAttribute("class")||"")
})
},ATTR:function(e,t,n){return function(r){var i=at.attr(r,e);
return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0
}
},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;
return 1===r&&0===i?function(e){return !!e.parentNode
}:function(t,n,l){var u,c,p,f,d,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!l&&!s;
if(m){if(o){while(g){p=t;
while(p=p[g]){if(s?p.nodeName.toLowerCase()===y:1===p.nodeType){return !1
}}h=g="only"===e&&!h&&"nextSibling"
}return !0
}if(h=[a?m.firstChild:m.lastChild],a&&v){c=m[b]||(m[b]={}),u=c[e]||[],d=u[0]===T&&u[1],f=u[0]===T&&u[2],p=d&&m.childNodes[d];
while(p=++d&&p&&p[g]||(f=d=0)||h.pop()){if(1===p.nodeType&&++f&&p===t){c[e]=[T,d,f];
break
}}}else{if(v&&(u=(t[b]||(t[b]={}))[e])&&u[0]===T){f=u[1]
}else{while(p=++d&&p&&p[g]||(f=d=0)||h.pop()){if((s?p.nodeName.toLowerCase()===y:1===p.nodeType)&&++f&&(v&&((p[b]||(p[b]={}))[e]=[T,f]),p===t)){break
}}}}return f-=i,f===r||0===f%r&&f/r>=0
}}
},PSEUDO:function(e,t){var n,r=o.pseudos[e]||o.setFilters[e.toLowerCase()]||at.error("unsupported pseudo: "+e);
return r[b]?r(t):r.length>1?(n=[e,e,"",t],o.setFilters.hasOwnProperty(e.toLowerCase())?ut(function(e,n){var i,o=r(e,t),a=o.length;
while(a--){i=F.call(e,o[a]),e[i]=!(n[i]=o[a])
}}):function(e){return r(e,0,n)
}):r
}},pseudos:{not:ut(function(e){var t=[],n=[],r=l(e.replace(z,"$1"));
return r[b]?ut(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;
while(s--){(o=a[s])&&(e[s]=!(t[s]=o))
}}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()
}
}),has:ut(function(e){return function(t){return at(e,t).length>0
}
}),contains:ut(function(e){return function(t){return(t.textContent||t.innerText||a(t)).indexOf(e)>-1
}
}),lang:ut(function(e){return G.test(e||"")||at.error("unsupported lang: "+e),e=e.replace(rt,it).toLowerCase(),function(t){var n;
do{if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang")){return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-")
}}while((t=t.parentNode)&&1===t.nodeType);
return !1
}
}),target:function(t){var n=e.location&&e.location.hash;
return n&&n.slice(1)===t.id
},root:function(e){return e===d
},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)
},enabled:function(e){return e.disabled===!1
},disabled:function(e){return e.disabled===!0
},checked:function(e){var t=e.nodeName.toLowerCase();
return"input"===t&&!!e.checked||"option"===t&&!!e.selected
},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0
},empty:function(e){for(e=e.firstChild;
e;
e=e.nextSibling){if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType){return !1
}}return !0
},parent:function(e){return !o.pseudos.empty(e)
},header:function(e){return tt.test(e.nodeName)
},input:function(e){return et.test(e.nodeName)
},button:function(e){var t=e.nodeName.toLowerCase();
return"input"===t&&"button"===e.type||"button"===t
},text:function(e){var t;
return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)
},first:vt(function(){return[0]
}),last:vt(function(e,t){return[t-1]
}),eq:vt(function(e,t,n){return[0>n?n+t:n]
}),even:vt(function(e,t){var n=0;
for(;
t>n;
n+=2){e.push(n)
}return e
}),odd:vt(function(e,t){var n=1;
for(;
t>n;
n+=2){e.push(n)
}return e
}),lt:vt(function(e,t,n){var r=0>n?n+t:n;
for(;
--r>=0;
){e.push(r)
}return e
}),gt:vt(function(e,t,n){var r=0>n?n+t:n;
for(;
t>++r;
){e.push(r)
}return e
})}};
for(n in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){o.pseudos[n]=mt(n)
}for(n in {submit:!0,reset:!0}){o.pseudos[n]=yt(n)
}function bt(e,t){var n,r,i,a,s,l,u,c=k[e+" "];
if(c){return t?0:c.slice(0)
}s=e,l=[],u=o.preFilter;
while(s){(!n||(r=X.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(i=[])),n=!1,(r=U.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(z," ")}),s=s.slice(n.length));
for(a in o.filter){!(r=Q[a].exec(s))||u[a]&&!(r=u[a](r))||(n=r.shift(),i.push({value:n,type:a,matches:r}),s=s.slice(n.length))
}if(!n){break
}}return t?s.length:s?at.error(e):k(e,l).slice(0)
}function xt(e){var t=0,n=e.length,r="";
for(;
n>t;
t++){r+=e[t].value
}return r
}function wt(e,t,n){var r=t.dir,o=n&&"parentNode"===r,a=C++;
return t.first?function(t,n,i){while(t=t[r]){if(1===t.nodeType||o){return e(t,n,i)
}}}:function(t,n,s){var l,u,c,p=T+" "+a;
if(s){while(t=t[r]){if((1===t.nodeType||o)&&e(t,n,s)){return !0
}}}else{while(t=t[r]){if(1===t.nodeType||o){if(c=t[b]||(t[b]={}),(u=c[r])&&u[0]===p){if((l=u[1])===!0||l===i){return l===!0
}}else{if(u=c[r]=[p],u[1]=e(t,n,s)||i,u[1]===!0){return !0
}}}}}}
}function Tt(e){return e.length>1?function(t,n,r){var i=e.length;
while(i--){if(!e[i](t,n,r)){return !1
}}return !0
}:e[0]
}function Ct(e,t,n,r,i){var o,a=[],s=0,l=e.length,u=null!=t;
for(;
l>s;
s++){(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),u&&t.push(s))
}return a
}function Nt(e,t,n,r,i,o){return r&&!r[b]&&(r=Nt(r)),i&&!i[b]&&(i=Nt(i,o)),ut(function(o,a,s,l){var u,c,p,f=[],d=[],h=a.length,g=o||St(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?g:Ct(g,f,e,s,l),y=n?i||(o?e:h||r)?[]:a:m;
if(n&&n(m,y,s,l),r){u=Ct(y,d),r(u,[],s,l),c=u.length;
while(c--){(p=u[c])&&(y[d[c]]=!(m[d[c]]=p))
}}if(o){if(i||e){if(i){u=[],c=y.length;
while(c--){(p=y[c])&&u.push(m[c]=p)
}i(null,y=[],u,l)
}c=y.length;
while(c--){(p=y[c])&&(u=i?F.call(o,p):f[c])>-1&&(o[u]=!(a[u]=p))
}}}else{y=Ct(y===a?y.splice(h,y.length):y),i?i(null,a,y,l):M.apply(a,y)
}})
}function kt(e){var t,n,r,i=e.length,a=o.relative[e[0].type],s=a||o.relative[" "],l=a?1:0,c=wt(function(e){return e===t
},s,!0),p=wt(function(e){return F.call(t,e)>-1
},s,!0),f=[function(e,n,r){return !a&&(r||n!==u)||((t=n).nodeType?c(e,n,r):p(e,n,r))
}];
for(;
i>l;
l++){if(n=o.relative[e[l].type]){f=[wt(Tt(f),n)]
}else{if(n=o.filter[e[l].type].apply(null,e[l].matches),n[b]){for(r=++l;
i>r;
r++){if(o.relative[e[r].type]){break
}}return Nt(l>1&&Tt(f),l>1&&xt(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),n,r>l&&kt(e.slice(l,r)),i>r&&kt(e=e.slice(r)),i>r&&xt(e))
}f.push(n)
}}return Tt(f)
}function Et(e,t){var n=0,r=t.length>0,a=e.length>0,s=function(s,l,c,p,d){var h,g,m,y=[],v=0,b="0",x=s&&[],w=null!=d,C=u,N=s||a&&o.find.TAG("*",d&&l.parentNode||l),k=T+=null==C?1:Math.random()||0.1;
for(w&&(u=l!==f&&l,i=n);
null!=(h=N[b]);
b++){if(a&&h){g=0;
while(m=e[g++]){if(m(h,l,c)){p.push(h);
break
}}w&&(T=k,i=++n)
}r&&((h=!m&&h)&&v--,s&&x.push(h))
}if(v+=b,r&&b!==v){g=0;
while(m=t[g++]){m(x,y,l,c)
}if(s){if(v>0){while(b--){x[b]||y[b]||(y[b]=q.call(p))
}}y=Ct(y)
}M.apply(p,y),w&&!s&&y.length>0&&v+t.length>1&&at.uniqueSort(p)
}return w&&(T=k,u=C),x
};
return r?ut(s):s
}l=at.compile=function(e,t){var n,r=[],i=[],o=E[e+" "];
if(!o){t||(t=bt(e)),n=t.length;
while(n--){o=kt(t[n]),o[b]?r.push(o):i.push(o)
}o=E(e,Et(i,r))
}return o
};
function St(e,t,n){var r=0,i=t.length;
for(;
i>r;
r++){at(e,t[r],n)
}return n
}function At(e,t,n,i){var a,s,u,c,p,f=bt(e);
if(!i&&1===f.length){if(s=f[0]=f[0].slice(0),s.length>2&&"ID"===(u=s[0]).type&&r.getById&&9===t.nodeType&&h&&o.relative[s[1].type]){if(t=(o.find.ID(u.matches[0].replace(rt,it),t)||[])[0],!t){return n
}e=e.slice(s.shift().value.length)
}a=Q.needsContext.test(e)?0:s.length;
while(a--){if(u=s[a],o.relative[c=u.type]){break
}if((p=o.find[c])&&(i=p(u.matches[0].replace(rt,it),V.test(s[0].type)&&t.parentNode||t))){if(s.splice(a,1),e=i.length&&xt(s),!e){return M.apply(n,i),n
}break
}}}return l(e,f)(i,t,!h,n,V.test(e)),n
}o.pseudos.nth=o.pseudos.eq;
function jt(){}jt.prototype=o.filters=o.pseudos,o.setFilters=new jt,r.sortStable=b.split("").sort(A).join("")===b,p(),[0,0].sort(A),r.detectDuplicates=S,x.find=at,x.expr=at.selectors,x.expr[":"]=x.expr.pseudos,x.unique=at.uniqueSort,x.text=at.getText,x.isXMLDoc=at.isXML,x.contains=at.contains
}(e);
var O={};
function F(e){var t=O[e]={};
return x.each(e.match(T)||[],function(e,n){t[n]=!0
}),t
}x.Callbacks=function(e){e="string"==typeof e?O[e]||F(e):x.extend({},e);
var n,r,i,o,a,s,l=[],u=!e.once&&[],c=function(t){for(r=e.memory&&t,i=!0,a=s||0,s=0,o=l.length,n=!0;
l&&o>a;
a++){if(l[a].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;
break
}}n=!1,l&&(u?u.length&&c(u.shift()):r?l=[]:p.disable())
},p={add:function(){if(l){var t=l.length;
(function i(t){x.each(t,function(t,n){var r=x.type(n);
"function"===r?e.unique&&p.has(n)||l.push(n):n&&n.length&&"string"!==r&&i(n)
})
})(arguments),n?o=l.length:r&&(s=t,c(r))
}return this
},remove:function(){return l&&x.each(arguments,function(e,t){var r;
while((r=x.inArray(t,l,r))>-1){l.splice(r,1),n&&(o>=r&&o--,a>=r&&a--)
}}),this
},has:function(e){return e?x.inArray(e,l)>-1:!(!l||!l.length)
},empty:function(){return l=[],o=0,this
},disable:function(){return l=u=r=t,this
},disabled:function(){return !l
},lock:function(){return u=t,r||p.disable(),this
},locked:function(){return !u
},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!l||i&&!u||(n?u.push(t):c(t)),this
},fire:function(){return p.fireWith(this,arguments),this
},fired:function(){return !!i
}};
return p
},x.extend({Deferred:function(e){var t=[["resolve","done",x.Callbacks("once memory"),"resolved"],["reject","fail",x.Callbacks("once memory"),"rejected"],["notify","progress",x.Callbacks("memory")]],n="pending",r={state:function(){return n
},always:function(){return i.done(arguments).fail(arguments),this
},then:function(){var e=arguments;
return x.Deferred(function(n){x.each(t,function(t,o){var a=o[0],s=x.isFunction(e[t])&&e[t];
i[o[1]](function(){var e=s&&s.apply(this,arguments);
e&&x.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)
})
}),e=null
}).promise()
},promise:function(e){return null!=e?x.extend(e,r):r
}},i={};
return r.pipe=r.then,x.each(t,function(e,o){var a=o[2],s=o[3];
r[o[1]]=a.add,s&&a.add(function(){n=s
},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this
},i[o[0]+"With"]=a.fireWith
}),r.promise(i),e&&e.call(i,i),i
},when:function(e){var t=0,n=g.call(arguments),r=n.length,i=1!==r||e&&x.isFunction(e.promise)?r:0,o=1===i?e:x.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?g.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)
}
},s,l,u;
if(r>1){for(s=Array(r),l=Array(r),u=Array(r);
r>t;
t++){n[t]&&x.isFunction(n[t].promise)?n[t].promise().done(a(t,u,n)).fail(o.reject).progress(a(t,l,s)):--i
}}return i||o.resolveWith(u,n),o.promise()
}}),x.support=function(t){var n,r,o,s,l,u,c,p,f,d=a.createElement("div");
if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*")||[],r=d.getElementsByTagName("a")[0],!r||!r.style||!n.length){return t
}s=a.createElement("select"),u=s.appendChild(a.createElement("option")),o=d.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==d.className,t.leadingWhitespace=3===d.firstChild.nodeType,t.tbody=!d.getElementsByTagName("tbody").length,t.htmlSerialize=!!d.getElementsByTagName("link").length,t.style=/top/.test(r.getAttribute("style")),t.hrefNormalized="/a"===r.getAttribute("href"),t.opacity=/^0.5/.test(r.style.opacity),t.cssFloat=!!r.style.cssFloat,t.checkOn=!!o.value,t.optSelected=u.selected,t.enctype=!!a.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==a.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!u.disabled;
try{delete d.test
}catch(h){t.deleteExpando=!1
}o=a.createElement("input"),o.setAttribute("value",""),t.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),l=a.createDocumentFragment(),l.appendChild(o),t.appendChecked=o.checked,t.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1
}),d.cloneNode(!0).click());
for(f in {submit:!0,change:!0,focusin:!0}){d.setAttribute(c="on"+f,"t"),t[f+"Bubbles"]=c in e||d.attributes[c].expando===!1
}d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip;
for(f in x(t)){break
}return t.ownLast="0"!==f,x(function(){var n,r,o,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",l=a.getElementsByTagName("body")[0];
l&&(n=a.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",l.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=d.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",p=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",t.reliableHiddenOffsets=p&&0===o[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",x.swap(l,null!=l.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===d.offsetWidth
}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,r=d.appendChild(a.createElement("div")),r.style.cssText=d.style.cssText=s,r.style.marginRight=r.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==i&&(d.innerHTML="",d.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(l.style.zoom=1)),l.removeChild(n),n=d=o=r=null)
}),n=s=l=u=r=o=null,t
}({});
var B=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,P=/([A-Z])/g;
function R(e,n,r,i){if(x.acceptData(e)){var o,a,s=x.expando,l=e.nodeType,u=l?x.cache:e,c=l?e[s]:e[s]&&s;
if(c&&u[c]&&(i||u[c].data)||r!==t||"string"!=typeof n){return c||(c=l?e[s]=p.pop()||x.guid++:s),u[c]||(u[c]=l?{}:{toJSON:x.noop}),("object"==typeof n||"function"==typeof n)&&(i?u[c]=x.extend(u[c],n):u[c].data=x.extend(u[c].data,n)),a=u[c],i||(a.data||(a.data={}),a=a.data),r!==t&&(a[x.camelCase(n)]=r),"string"==typeof n?(o=a[n],null==o&&(o=a[x.camelCase(n)])):o=a,o
}}}function W(e,t,n){if(x.acceptData(e)){var r,i,o=e.nodeType,a=o?x.cache:e,s=o?e[x.expando]:x.expando;
if(a[s]){if(t&&(r=n?a[s]:a[s].data)){x.isArray(t)?t=t.concat(x.map(t,x.camelCase)):t in r?t=[t]:(t=x.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;
while(i--){delete r[t[i]]
}if(n?!I(r):!x.isEmptyObject(r)){return
}}(n||(delete a[s].data,I(a[s])))&&(o?x.cleanData([e],!0):x.support.deleteExpando||a!=a.window?delete a[s]:a[s]=null)
}}}x.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?x.cache[e[x.expando]]:e[x.expando],!!e&&!I(e)
},data:function(e,t,n){return R(e,t,n)
},removeData:function(e,t){return W(e,t)
},_data:function(e,t,n){return R(e,t,n,!0)
},_removeData:function(e,t){return W(e,t,!0)
},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType){return !1
}var t=e.nodeName&&x.noData[e.nodeName.toLowerCase()];
return !t||t!==!0&&e.getAttribute("classid")===t
}}),x.fn.extend({data:function(e,n){var r,i,o=null,a=0,s=this[0];
if(e===t){if(this.length&&(o=x.data(s),1===s.nodeType&&!x._data(s,"parsedAttrs"))){for(r=s.attributes;
r.length>a;
a++){i=r[a].name,0===i.indexOf("data-")&&(i=x.camelCase(i.slice(5)),$(s,i,o[i]))
}x._data(s,"parsedAttrs",!0)
}return o
}return"object"==typeof e?this.each(function(){x.data(this,e)
}):arguments.length>1?this.each(function(){x.data(this,e,n)
}):s?$(s,e,x.data(s,e)):null
},removeData:function(e){return this.each(function(){x.removeData(this,e)
})
}});
function $(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(P,"-$1").toLowerCase();
if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:B.test(r)?x.parseJSON(r):r
}catch(o){}x.data(e,n,r)
}else{r=t
}}return r
}function I(e){var t;
for(t in e){if(("data"!==t||!x.isEmptyObject(e[t]))&&"toJSON"!==t){return !1
}}return !0
}x.extend({queue:function(e,n,r){var i;
return e?(n=(n||"fx")+"queue",i=x._data(e,n),r&&(!i||x.isArray(r)?i=x._data(e,n,x.makeArray(r)):i.push(r)),i||[]):t
},dequeue:function(e,t){t=t||"fx";
var n=x.queue(e,t),r=n.length,i=n.shift(),o=x._queueHooks(e,t),a=function(){x.dequeue(e,t)
};
"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()
},_queueHooks:function(e,t){var n=t+"queueHooks";
return x._data(e,n)||x._data(e,n,{empty:x.Callbacks("once memory").add(function(){x._removeData(e,t+"queue"),x._removeData(e,n)
})})
}}),x.fn.extend({queue:function(e,n){var r=2;
return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?x.queue(this[0],e):n===t?this:this.each(function(){var t=x.queue(this,e,n);
x._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&x.dequeue(this,e)
})
},dequeue:function(e){return this.each(function(){x.dequeue(this,e)
})
},delay:function(e,t){return e=x.fx?x.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);
n.stop=function(){clearTimeout(r)
}
})
},clearQueue:function(e){return this.queue(e||"fx",[])
},promise:function(e,n){var r,i=1,o=x.Deferred(),a=this,s=this.length,l=function(){--i||o.resolveWith(a,[a])
};
"string"!=typeof e&&(n=e,e=t),e=e||"fx";
while(s--){r=x._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(l))
}return l(),o.promise(n)
}});
var z,X,U=/[\t\r\n\f]/g,V=/\r/g,Y=/^(?:input|select|textarea|button|object)$/i,J=/^(?:a|area)$/i,G=/^(?:checked|selected)$/i,Q=x.support.getSetAttribute,K=x.support.input;
x.fn.extend({attr:function(e,t){return x.access(this,x.attr,e,t,arguments.length>1)
},removeAttr:function(e){return this.each(function(){x.removeAttr(this,e)
})
},prop:function(e,t){return x.access(this,x.prop,e,t,arguments.length>1)
},removeProp:function(e){return e=x.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]
}catch(n){}})
},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,l="string"==typeof e&&e;
if(x.isFunction(e)){return this.each(function(t){x(this).addClass(e.call(this,t,this.className))
})
}if(l){for(t=(e||"").match(T)||[];
s>a;
a++){if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(U," "):" ")){o=0;
while(i=t[o++]){0>r.indexOf(" "+i+" ")&&(r+=i+" ")
}n.className=x.trim(r)
}}}return this
},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;
if(x.isFunction(e)){return this.each(function(t){x(this).removeClass(e.call(this,t,this.className))
})
}if(l){for(t=(e||"").match(T)||[];
s>a;
a++){if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(U," "):"")){o=0;
while(i=t[o++]){while(r.indexOf(" "+i+" ")>=0){r=r.replace(" "+i+" "," ")
}}n.className=e?x.trim(r):""
}}}return this
},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;
return x.isFunction(e)?this.each(function(n){x(this).toggleClass(e.call(this,n,this.className,t),t)
}):this.each(function(){if("string"===n){var o,a=0,s=x(this),l=t,u=e.match(T)||[];
while(o=u[a++]){l=r?l:!s.hasClass(o),s[l?"addClass":"removeClass"](o)
}}else{(n===i||"boolean"===n)&&(this.className&&x._data(this,"__className__",this.className),this.className=this.className||e===!1?"":x._data(this,"__className__")||"")
}})
},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;
for(;
r>n;
n++){if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(U," ").indexOf(t)>=0){return !0
}}return !1
},val:function(e){var n,r,i,o=this[0];
if(arguments.length){return i=x.isFunction(e),this.each(function(n){var o;
1===this.nodeType&&(o=i?e.call(this,n,x(this).val()):e,null==o?o="":"number"==typeof o?o+="":x.isArray(o)&&(o=x.map(o,function(e){return null==e?"":e+""
})),r=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()],r&&"set" in r&&r.set(this,o,"value")!==t||(this.value=o))
})
}if(o){return r=x.valHooks[o.type]||x.valHooks[o.nodeName.toLowerCase()],r&&"get" in r&&(n=r.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(V,""):null==n?"":n)
}}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,"value");
return null!=t?t:e.text
}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;
for(;
s>l;
l++){if(n=r[l],!(!n.selected&&l!==i||(x.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&x.nodeName(n.parentNode,"optgroup"))){if(t=x(n).val(),o){return t
}a.push(t)
}}return a
},set:function(e,t){var n,r,i=e.options,o=x.makeArray(t),a=i.length;
while(a--){r=i[a],(r.selected=x.inArray(x(r).val(),o)>=0)&&(n=!0)
}return n||(e.selectedIndex=-1),o
}}},attr:function(e,n,r){var o,a,s=e.nodeType;
if(e&&3!==s&&8!==s&&2!==s){return typeof e.getAttribute===i?x.prop(e,n,r):(1===s&&x.isXMLDoc(e)||(n=n.toLowerCase(),o=x.attrHooks[n]||(x.expr.match.bool.test(n)?X:z)),r===t?o&&"get" in o&&null!==(a=o.get(e,n))?a:(a=x.find.attr(e,n),null==a?t:a):null!==r?o&&"set" in o&&(a=o.set(e,r,n))!==t?a:(e.setAttribute(n,r+""),r):(x.removeAttr(e,n),t))
}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(T);
if(o&&1===e.nodeType){while(n=o[i++]){r=x.propFix[n]||n,x.expr.match.bool.test(n)?K&&Q||!G.test(n)?e[r]=!1:e[x.camelCase("default-"+n)]=e[r]=!1:x.attr(e,n,""),e.removeAttribute(Q?n:r)
}}},attrHooks:{type:{set:function(e,t){if(!x.support.radioValue&&"radio"===t&&x.nodeName(e,"input")){var n=e.value;
return e.setAttribute("type",t),n&&(e.value=n),t
}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,r){var i,o,a,s=e.nodeType;
if(e&&3!==s&&8!==s&&2!==s){return a=1!==s||!x.isXMLDoc(e),a&&(n=x.propFix[n]||n,o=x.propHooks[n]),r!==t?o&&"set" in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get" in o&&null!==(i=o.get(e,n))?i:e[n]
}},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,"tabindex");
return t?parseInt(t,10):Y.test(e.nodeName)||J.test(e.nodeName)&&e.href?0:-1
}}}}),X={set:function(e,t,n){return t===!1?x.removeAttr(e,n):K&&Q||!G.test(n)?e.setAttribute(!Q&&x.propFix[n]||n,n):e[x.camelCase("default-"+n)]=e[n]=!0,n
}},x.each(x.expr.match.bool.source.match(/\w+/g),function(e,n){var r=x.expr.attrHandle[n]||x.find.attr;
x.expr.attrHandle[n]=K&&Q||!G.test(n)?function(e,n,i){var o=x.expr.attrHandle[n],a=i?t:(x.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;
return x.expr.attrHandle[n]=o,a
}:function(e,n,r){return r?t:e[x.camelCase("default-"+n)]?n.toLowerCase():null
}
}),K&&Q||(x.attrHooks.value={set:function(e,n,r){return x.nodeName(e,"input")?(e.defaultValue=n,t):z&&z.set(e,n,r)
}}),Q||(z={set:function(e,n,r){var i=e.getAttributeNode(r);
return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t
}},x.expr.attrHandle.id=x.expr.attrHandle.name=x.expr.attrHandle.coords=function(e,n,r){var i;
return r?t:(i=e.getAttributeNode(n))&&""!==i.value?i.value:null
},x.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);
return r&&r.specified?r.value:t
},set:z.set},x.attrHooks.contenteditable={set:function(e,t,n){z.set(e,""===t?!1:t,n)
}},x.each(["width","height"],function(e,n){x.attrHooks[n]={set:function(e,r){return""===r?(e.setAttribute(n,"auto"),r):t
}}
})),x.support.hrefNormalized||x.each(["href","src"],function(e,t){x.propHooks[t]={get:function(e){return e.getAttribute(t,4)
}}
}),x.support.style||(x.attrHooks.style={get:function(e){return e.style.cssText||t
},set:function(e,t){return e.style.cssText=t+""
}}),x.support.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;
return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null
}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this
}),x.support.enctype||(x.propFix.enctype="encoding"),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(e,n){return x.isArray(n)?e.checked=x.inArray(x(e).val(),n)>=0:t
}},x.support.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value
})
});
var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;
function it(){return !0
}function ot(){return !1
}function at(){try{return a.activeElement
}catch(e){}}x.event={global:{},add:function(e,n,r,o,a){var s,l,u,c,p,f,d,h,g,m,y,v=x._data(e);
if(v){r.handler&&(c=r,r=c.handler,a=c.selector),r.guid||(r.guid=x.guid++),(l=v.events)||(l=v.events={}),(f=v.handle)||(f=v.handle=function(e){return typeof x===i||e&&x.event.triggered===e.type?t:x.event.dispatch.apply(f.elem,arguments)
},f.elem=e),n=(n||"").match(T)||[""],u=n.length;
while(u--){s=rt.exec(n[u])||[],g=y=s[1],m=(s[2]||"").split(".").sort(),g&&(p=x.event.special[g]||{},g=(a?p.delegateType:p.bindType)||g,p=x.event.special[g]||{},d=x.extend({type:g,origType:y,data:o,handler:r,guid:r.guid,selector:a,needsContext:a&&x.expr.match.needsContext.test(a),namespace:m.join(".")},c),(h=l[g])||(h=l[g]=[],h.delegateCount=0,p.setup&&p.setup.call(e,o,m,f)!==!1||(e.addEventListener?e.addEventListener(g,f,!1):e.attachEvent&&e.attachEvent("on"+g,f))),p.add&&(p.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),a?h.splice(h.delegateCount++,0,d):h.push(d),x.event.global[g]=!0)
}e=null
}},remove:function(e,t,n,r,i){var o,a,s,l,u,c,p,f,d,h,g,m=x.hasData(e)&&x._data(e);
if(m&&(c=m.events)){t=(t||"").match(T)||[""],u=t.length;
while(u--){if(s=rt.exec(t[u])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){p=x.event.special[d]||{},d=(r?p.delegateType:p.bindType)||d,f=c[d]||[],s=s[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=f.length;
while(o--){a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,p.remove&&p.remove.call(e,a))
}l&&!f.length&&(p.teardown&&p.teardown.call(e,h,m.handle)!==!1||x.removeEvent(e,d,m.handle),delete c[d])
}else{for(d in c){x.event.remove(e,d+t[u],n,r,!0)
}}}x.isEmptyObject(c)&&(delete m.handle,x._removeData(e,"events"))
}},trigger:function(n,r,i,o){var s,l,u,c,p,f,d,h=[i||a],g=v.call(n,"type")?n.type:n,m=v.call(n,"namespace")?n.namespace.split("."):[];
if(u=f=i=i||a,3!==i.nodeType&&8!==i.nodeType&&!nt.test(g+x.event.triggered)&&(g.indexOf(".")>=0&&(m=g.split("."),g=m.shift(),m.sort()),l=0>g.indexOf(":")&&"on"+g,n=n[x.expando]?n:new x.Event(g,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:x.makeArray(r,[n]),p=x.event.special[g]||{},o||!p.trigger||p.trigger.apply(i,r)!==!1)){if(!o&&!p.noBubble&&!x.isWindow(i)){for(c=p.delegateType||g,nt.test(c+g)||(u=u.parentNode);
u;
u=u.parentNode){h.push(u),f=u
}f===(i.ownerDocument||a)&&h.push(f.defaultView||f.parentWindow||e)
}d=0;
while((u=h[d++])&&!n.isPropagationStopped()){n.type=d>1?c:p.bindType||g,s=(x._data(u,"events")||{})[n.type]&&x._data(u,"handle"),s&&s.apply(u,r),s=l&&u[l],s&&x.acceptData(u)&&s.apply&&s.apply(u,r)===!1&&n.preventDefault()
}if(n.type=g,!o&&!n.isDefaultPrevented()&&(!p._default||p._default.apply(h.pop(),r)===!1)&&x.acceptData(i)&&l&&i[g]&&!x.isWindow(i)){f=i[l],f&&(i[l]=null),x.event.triggered=g;
try{i[g]()
}catch(y){}x.event.triggered=t,f&&(i[l]=f)
}return n.result
}},dispatch:function(e){e=x.event.fix(e);
var n,r,i,o,a,s=[],l=g.call(arguments),u=(x._data(this,"events")||{})[e.type]||[],c=x.event.special[e.type]||{};
if(l[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){s=x.event.handlers.call(this,e,u),n=0;
while((o=s[n++])&&!e.isPropagationStopped()){e.currentTarget=o.elem,a=0;
while((i=o.handlers[a++])&&!e.isImmediatePropagationStopped()){(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((x.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,l),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))
}}return c.postDispatch&&c.postDispatch.call(this,e),e.result
}},handlers:function(e,n){var r,i,o,a,s=[],l=n.delegateCount,u=e.target;
if(l&&u.nodeType&&(!e.button||"click"!==e.type)){for(;
u!=this;
u=u.parentNode||this){if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(o=[],a=0;
l>a;
a++){i=n[a],r=i.selector+" ",o[r]===t&&(o[r]=i.needsContext?x(r,this).index(u)>=0:x.find(r,this,null,[u]).length),o[r]&&o.push(i)
}o.length&&s.push({elem:u,handlers:o})
}}}return n.length>l&&s.push({elem:this,handlers:n.slice(l)}),s
},fix:function(e){if(e[x.expando]){return e
}var t,n,r,i=e.type,o=e,s=this.fixHooks[i];
s||(this.fixHooks[i]=s=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new x.Event(o),t=r.length;
while(t--){n=r[t],e[n]=o[n]
}return e.target||(e.target=o.srcElement||a),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e
},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e
}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,s=n.button,l=n.fromElement;
return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||a,o=i.documentElement,r=i.body,e.pageX=n.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&l&&(e.relatedTarget=l===e.target?n.toElement:l),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e
}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==at()&&this.focus){try{return this.focus(),!1
}catch(e){}}},delegateType:"focusin"},blur:{trigger:function(){return this===at()&&this.blur?(this.blur(),!1):t
},delegateType:"focusout"},click:{trigger:function(){return x.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t
},_default:function(e){return x.nodeName(e.target,"a")
}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)
}}},simulate:function(e,t,n,r){var i=x.extend(new x.Event,n,{type:e,isSimulated:!0,originalEvent:{}});
r?x.event.trigger(i,null,t):x.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()
}},x.removeEvent=a.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)
}:function(e,t,n){var r="on"+t;
e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))
},x.Event=function(e,n){return this instanceof x.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?it:ot):this.type=e,n&&x.extend(this,n),this.timeStamp=e&&e.timeStamp||x.now(),this[x.expando]=!0,t):new x.Event(e,n)
},x.Event.prototype={isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,preventDefault:function(){var e=this.originalEvent;
this.isDefaultPrevented=it,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)
},stopPropagation:function(){var e=this.originalEvent;
this.isPropagationStopped=it,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)
},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()
}},x.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;
return(!i||i!==r&&!x.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n
}}
}),x.support.submitBubbles||(x.event.special.submit={setup:function(){return x.nodeName(this,"form")?!1:(x.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=x.nodeName(n,"input")||x.nodeName(n,"button")?n.form:t;
r&&!x._data(r,"submitBubbles")&&(x.event.add(r,"submit._submit",function(e){e._submit_bubble=!0
}),x._data(r,"submitBubbles",!0))
}),t)
},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&x.event.simulate("submit",this.parentNode,e,!0))
},teardown:function(){return x.nodeName(this,"form")?!1:(x.event.remove(this,"._submit"),t)
}}),x.support.changeBubbles||(x.event.special.change={setup:function(){return Z.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(x.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)
}),x.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),x.event.simulate("change",this,e,!0)
})),!1):(x.event.add(this,"beforeactivate._change",function(e){var t=e.target;
Z.test(t.nodeName)&&!x._data(t,"changeBubbles")&&(x.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||x.event.simulate("change",this.parentNode,e,!0)
}),x._data(t,"changeBubbles",!0))
}),t)
},handle:function(e){var n=e.target;
return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t
},teardown:function(){return x.event.remove(this,"._change"),!Z.test(this.nodeName)
}}),x.support.focusinBubbles||x.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){x.event.simulate(t,e.target,x.event.fix(e),!0)
};
x.event.special[t]={setup:function(){0===n++&&a.addEventListener(e,r,!0)
},teardown:function(){0===--n&&a.removeEventListener(e,r,!0)
}}
}),x.fn.extend({on:function(e,n,r,i,o){var a,s;
if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);
for(a in e){this.on(a,n,r,e[a],o)
}return this
}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1){i=ot
}else{if(!i){return this
}}return 1===o&&(s=i,i=function(e){return x().off(e),s.apply(this,arguments)
},i.guid=s.guid||(s.guid=x.guid++)),this.each(function(){x.event.add(this,e,i,r,n)
})
},one:function(e,t,n,r){return this.on(e,t,n,r,1)
},off:function(e,n,r){var i,o;
if(e&&e.preventDefault&&e.handleObj){return i=e.handleObj,x(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this
}if("object"==typeof e){for(o in e){this.off(o,n,e[o])
}return this
}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=ot),this.each(function(){x.event.remove(this,e,r,n)
})
},trigger:function(e,t){return this.each(function(){x.event.trigger(e,t,this)
})
},triggerHandler:function(e,n){var r=this[0];
return r?x.event.trigger(e,n,r,!0):t
}});
var st=/^.[^:#\[\.,]*$/,lt=/^(?:parents|prev(?:Until|All))/,ut=x.expr.match.needsContext,ct={children:!0,contents:!0,next:!0,prev:!0};
x.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;
if("string"!=typeof e){return this.pushStack(x(e).filter(function(){for(t=0;
i>t;
t++){if(x.contains(r[t],this)){return !0
}}}))
}for(t=0;
i>t;
t++){x.find(e,r[t],n)
}return n=this.pushStack(i>1?x.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n
},has:function(e){var t,n=x(e,this),r=n.length;
return this.filter(function(){for(t=0;
r>t;
t++){if(x.contains(this,n[t])){return !0
}}})
},not:function(e){return this.pushStack(ft(this,e||[],!0))
},filter:function(e){return this.pushStack(ft(this,e||[],!1))
},is:function(e){return !!ft(this,"string"==typeof e&&ut.test(e)?x(e):e||[],!1).length
},closest:function(e,t){var n,r=0,i=this.length,o=[],a=ut.test(e)||"string"!=typeof e?x(e,t||this.context):0;
for(;
i>r;
r++){for(n=this[r];
n&&n!==t;
n=n.parentNode){if(11>n.nodeType&&(a?a.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,e))){n=o.push(n);
break
}}}return this.pushStack(o.length>1?x.unique(o):o)
},index:function(e){return e?"string"==typeof e?x.inArray(this[0],x(e)):x.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1
},add:function(e,t){var n="string"==typeof e?x(e,t):x.makeArray(e&&e.nodeType?[e]:e),r=x.merge(this.get(),n);
return this.pushStack(x.unique(r))
},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))
}});
function pt(e,t){do{e=e[t]
}while(e&&1!==e.nodeType);
return e
}x.each({parent:function(e){var t=e.parentNode;
return t&&11!==t.nodeType?t:null
},parents:function(e){return x.dir(e,"parentNode")
},parentsUntil:function(e,t,n){return x.dir(e,"parentNode",n)
},next:function(e){return pt(e,"nextSibling")
},prev:function(e){return pt(e,"previousSibling")
},nextAll:function(e){return x.dir(e,"nextSibling")
},prevAll:function(e){return x.dir(e,"previousSibling")
},nextUntil:function(e,t,n){return x.dir(e,"nextSibling",n)
},prevUntil:function(e,t,n){return x.dir(e,"previousSibling",n)
},siblings:function(e){return x.sibling((e.parentNode||{}).firstChild,e)
},children:function(e){return x.sibling(e.firstChild)
},contents:function(e){return x.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:x.merge([],e.childNodes)
}},function(e,t){x.fn[e]=function(n,r){var i=x.map(this,t,n);
return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=x.filter(r,i)),this.length>1&&(ct[e]||(i=x.unique(i)),lt.test(e)&&(i=i.reverse())),this.pushStack(i)
}
}),x.extend({filter:function(e,t,n){var r=t[0];
return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?x.find.matchesSelector(r,e)?[r]:[]:x.find.matches(e,x.grep(t,function(e){return 1===e.nodeType
}))
},dir:function(e,n,r){var i=[],o=e[n];
while(o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!x(o).is(r))){1===o.nodeType&&i.push(o),o=o[n]
}return i
},sibling:function(e,t){var n=[];
for(;
e;
e=e.nextSibling){1===e.nodeType&&e!==t&&n.push(e)
}return n
}});
function ft(e,t,n){if(x.isFunction(t)){return x.grep(e,function(e,r){return !!t.call(e,r,e)!==n
})
}if(t.nodeType){return x.grep(e,function(e){return e===t!==n
})
}if("string"==typeof t){if(st.test(t)){return x.filter(t,e,n)
}t=x.filter(t,e)
}return x.grep(e,function(e){return x.inArray(e,t)>=0!==n
})
}function dt(e){var t=ht.split("|"),n=e.createDocumentFragment();
if(n.createElement){while(t.length){n.createElement(t.pop())
}}return n
}var ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gt=/ jQuery\d+="(?:null|\d+)"/g,mt=RegExp("<(?:"+ht+")[\\s/>]","i"),yt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,xt=/<tbody/i,wt=/<|&#?\w+;/,Tt=/<(?:script|style|link)/i,Ct=/^(?:checkbox|radio)$/i,Nt=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^$|\/(?:java|ecma)script/i,Et=/^true\/(.*)/,St=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,At={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:x.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},jt=dt(a),Dt=jt.appendChild(a.createElement("div"));
At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,x.fn.extend({text:function(e){return x.access(this,function(e){return e===t?x.text(this):this.empty().append((this[0]&&this[0].ownerDocument||a).createTextNode(e))
},null,e,arguments.length)
},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Lt(this,e);
t.appendChild(e)
}})
},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Lt(this,e);
t.insertBefore(e,t.firstChild)
}})
},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)
})
},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)
})
},remove:function(e,t){var n,r=e?x.filter(e,this):this,i=0;
for(;
null!=(n=r[i]);
i++){t||1!==n.nodeType||x.cleanData(Ft(n)),n.parentNode&&(t&&x.contains(n.ownerDocument,n)&&_t(Ft(n,"script")),n.parentNode.removeChild(n))
}return this
},empty:function(){var e,t=0;
for(;
null!=(e=this[t]);
t++){1===e.nodeType&&x.cleanData(Ft(e,!1));
while(e.firstChild){e.removeChild(e.firstChild)
}e.options&&x.nodeName(e,"select")&&(e.options.length=0)
}return this
},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return x.clone(this,e,t)
})
},html:function(e){return x.access(this,function(e){var n=this[0]||{},r=0,i=this.length;
if(e===t){return 1===n.nodeType?n.innerHTML.replace(gt,""):t
}if(!("string"!=typeof e||Tt.test(e)||!x.support.htmlSerialize&&mt.test(e)||!x.support.leadingWhitespace&&yt.test(e)||At[(bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(vt,"<$1></$2>");
try{for(;
i>r;
r++){n=this[r]||{},1===n.nodeType&&(x.cleanData(Ft(n,!1)),n.innerHTML=e)
}n=0
}catch(o){}}n&&this.empty().append(e)
},null,e,arguments.length)
},replaceWith:function(){var e=x.map(this,function(e){return[e.nextSibling,e.parentNode]
}),t=0;
return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];
i&&(r&&r.parentNode!==i&&(r=this.nextSibling),x(this).remove(),i.insertBefore(n,r))
},!0),t?this:this.remove()
},detach:function(e){return this.remove(e,!0)
},domManip:function(e,t,n){e=d.apply([],e);
var r,i,o,a,s,l,u=0,c=this.length,p=this,f=c-1,h=e[0],g=x.isFunction(h);
if(g||!(1>=c||"string"!=typeof h||x.support.checkClone)&&Nt.test(h)){return this.each(function(r){var i=p.eq(r);
g&&(e[0]=h.call(this,r,i.html())),i.domManip(e,t,n)
})
}if(c&&(l=x.buildFragment(e,this[0].ownerDocument,!1,!n&&this),r=l.firstChild,1===l.childNodes.length&&(l=r),r)){for(a=x.map(Ft(l,"script"),Ht),o=a.length;
c>u;
u++){i=l,u!==f&&(i=x.clone(i,!0,!0),o&&x.merge(a,Ft(i,"script"))),t.call(this[u],i,u)
}if(o){for(s=a[a.length-1].ownerDocument,x.map(a,qt),u=0;
o>u;
u++){i=a[u],kt.test(i.type||"")&&!x._data(i,"globalEval")&&x.contains(s,i)&&(i.src?x._evalUrl(i.src):x.globalEval((i.text||i.textContent||i.innerHTML||"").replace(St,"")))
}}l=r=null
}return this
}});
function Lt(e,t){return x.nodeName(e,"table")&&x.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e
}function Ht(e){return e.type=(null!==x.find.attr(e,"type"))+"/"+e.type,e
}function qt(e){var t=Et.exec(e.type);
return t?e.type=t[1]:e.removeAttribute("type"),e
}function _t(e,t){var n,r=0;
for(;
null!=(n=e[r]);
r++){x._data(n,"globalEval",!t||x._data(t[r],"globalEval"))
}}function Mt(e,t){if(1===t.nodeType&&x.hasData(e)){var n,r,i,o=x._data(e),a=x._data(t,o),s=o.events;
if(s){delete a.handle,a.events={};
for(n in s){for(r=0,i=s[n].length;
i>r;
r++){x.event.add(t,n,s[n][r])
}}}a.data&&(a.data=x.extend({},a.data))
}}function Ot(e,t){var n,r,i;
if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!x.support.noCloneEvent&&t[x.expando]){i=x._data(t);
for(r in i.events){x.removeEvent(t,r,i.handle)
}t.removeAttribute(x.expando)
}"script"===n&&t.text!==e.text?(Ht(t).text=e.text,qt(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),x.support.html5Clone&&e.innerHTML&&!x.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ct.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)
}}x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){x.fn[e]=function(e){var n,r=0,i=[],o=x(e),a=o.length-1;
for(;
a>=r;
r++){n=r===a?this:this.clone(!0),x(o[r])[t](n),h.apply(i,n.get())
}return this.pushStack(i)
}
});
function Ft(e,n){var r,o,a=0,s=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;
if(!s){for(s=[],r=e.childNodes||e;
null!=(o=r[a]);
a++){!n||x.nodeName(o,n)?s.push(o):x.merge(s,Ft(o,n))
}}return n===t||n&&x.nodeName(e,n)?x.merge([e],s):s
}function Bt(e){Ct.test(e.type)&&(e.defaultChecked=e.checked)
}x.extend({clone:function(e,t,n){var r,i,o,a,s,l=x.contains(e.ownerDocument,e);
if(x.support.html5Clone||x.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Dt.innerHTML=e.outerHTML,Dt.removeChild(o=Dt.firstChild)),!(x.support.noCloneEvent&&x.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e))){for(r=Ft(o),s=Ft(e),a=0;
null!=(i=s[a]);
++a){r[a]&&Ot(i,r[a])
}}if(t){if(n){for(s=s||Ft(e),r=r||Ft(o),a=0;
null!=(i=s[a]);
a++){Mt(i,r[a])
}}else{Mt(e,o)
}}return r=Ft(o,"script"),r.length>0&&_t(r,!l&&Ft(e,"script")),r=s=i=null,o
},buildFragment:function(e,t,n,r){var i,o,a,s,l,u,c,p=e.length,f=dt(t),d=[],h=0;
for(;
p>h;
h++){if(o=e[h],o||0===o){if("object"===x.type(o)){x.merge(d,o.nodeType?[o]:o)
}else{if(wt.test(o)){s=s||f.appendChild(t.createElement("div")),l=(bt.exec(o)||["",""])[1].toLowerCase(),c=At[l]||At._default,s.innerHTML=c[1]+o.replace(vt,"<$1></$2>")+c[2],i=c[0];
while(i--){s=s.lastChild
}if(!x.support.leadingWhitespace&&yt.test(o)&&d.push(t.createTextNode(yt.exec(o)[0])),!x.support.tbody){o="table"!==l||xt.test(o)?"<table>"!==c[1]||xt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;
while(i--){x.nodeName(u=o.childNodes[i],"tbody")&&!u.childNodes.length&&o.removeChild(u)
}}x.merge(d,s.childNodes),s.textContent="";
while(s.firstChild){s.removeChild(s.firstChild)
}s=f.lastChild
}else{d.push(t.createTextNode(o))
}}}}s&&f.removeChild(s),x.support.appendChecked||x.grep(Ft(d,"input"),Bt),h=0;
while(o=d[h++]){if((!r||-1===x.inArray(o,r))&&(a=x.contains(o.ownerDocument,o),s=Ft(f.appendChild(o),"script"),a&&_t(s),n)){i=0;
while(o=s[i++]){kt.test(o.type||"")&&n.push(o)
}}}return s=null,f
},cleanData:function(e,t){var n,r,o,a,s=0,l=x.expando,u=x.cache,c=x.support.deleteExpando,f=x.event.special;
for(;
null!=(n=e[s]);
s++){if((t||x.acceptData(n))&&(o=n[l],a=o&&u[o])){if(a.events){for(r in a.events){f[r]?x.event.remove(n,r):x.removeEvent(n,r,a.handle)
}}u[o]&&(delete u[o],c?delete n[l]:typeof n.removeAttribute!==i?n.removeAttribute(l):n[l]=null,p.push(o))
}}},_evalUrl:function(e){return x.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})
}}),x.fn.extend({wrapAll:function(e){if(x.isFunction(e)){return this.each(function(t){x(this).wrapAll(e.call(this,t))
})
}if(this[0]){var t=x(e,this[0].ownerDocument).eq(0).clone(!0);
this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;
while(e.firstChild&&1===e.firstChild.nodeType){e=e.firstChild
}return e
}).append(this)
}return this
},wrapInner:function(e){return x.isFunction(e)?this.each(function(t){x(this).wrapInner(e.call(this,t))
}):this.each(function(){var t=x(this),n=t.contents();
n.length?n.wrapAll(e):t.append(e)
})
},wrap:function(e){var t=x.isFunction(e);
return this.each(function(n){x(this).wrapAll(t?e.call(this,n):e)
})
},unwrap:function(){return this.parent().each(function(){x.nodeName(this,"body")||x(this).replaceWith(this.childNodes)
}).end()
}});
var Pt,Rt,Wt,$t=/alpha\([^)]*\)/i,It=/opacity\s*=\s*([^)]*)/,zt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Ut=/^margin/,Vt=RegExp("^("+w+")(.*)$","i"),Yt=RegExp("^("+w+")(?!px)[a-z%]+$","i"),Jt=RegExp("^([+-])=("+w+")","i"),Gt={BODY:"block"},Qt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];
function tn(e,t){if(t in e){return t
}var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;
while(i--){if(t=en[i]+n,t in e){return t
}}return r
}function nn(e,t){return e=t||e,"none"===x.css(e,"display")||!x.contains(e.ownerDocument,e)
}function rn(e,t){var n,r,i,o=[],a=0,s=e.length;
for(;
s>a;
a++){r=e[a],r.style&&(o[a]=x._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&nn(r)&&(o[a]=x._data(r,"olddisplay",ln(r.nodeName)))):o[a]||(i=nn(r),(n&&"none"!==n||!i)&&x._data(r,"olddisplay",i?n:x.css(r,"display"))))
}for(a=0;
s>a;
a++){r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"))
}return e
}x.fn.extend({css:function(e,n){return x.access(this,function(e,n,r){var i,o,a={},s=0;
if(x.isArray(n)){for(o=Rt(e),i=n.length;
i>s;
s++){a[n[s]]=x.css(e,n[s],!1,o)
}return a
}return r!==t?x.style(e,n,r):x.css(e,n)
},e,n,arguments.length>1)
},show:function(){return rn(this,!0)
},hide:function(){return rn(this)
},toggle:function(e){var t="boolean"==typeof e;
return this.each(function(){(t?e:nn(this))?x(this).show():x(this).hide()
})
}}),x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Wt(e,"opacity");
return""===n?"1":n
}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":x.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=x.camelCase(n),u=e.style;
if(n=x.cssProps[l]||(x.cssProps[l]=tn(u,l)),s=x.cssHooks[n]||x.cssHooks[l],r===t){return s&&"get" in s&&(o=s.get(e,!1,i))!==t?o:u[n]
}if(a=typeof r,"string"===a&&(o=Jt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(x.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||x.cssNumber[l]||(r+="px"),x.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(u[n]="inherit"),s&&"set" in s&&(r=s.set(e,r,i))===t))){try{u[n]=r
}catch(c){}}}},css:function(e,n,r,i){var o,a,s,l=x.camelCase(n);
return n=x.cssProps[l]||(x.cssProps[l]=tn(e.style,l)),s=x.cssHooks[n]||x.cssHooks[l],s&&"get" in s&&(a=s.get(e,!0,r)),a===t&&(a=Wt(e,n,i)),"normal"===a&&n in Kt&&(a=Kt[n]),""===r||r?(o=parseFloat(a),r===!0||x.isNumeric(o)?o||0:a):a
}}),e.getComputedStyle?(Rt=function(t){return e.getComputedStyle(t,null)
},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),l=s?s.getPropertyValue(n)||s[n]:t,u=e.style;
return s&&(""!==l||x.contains(e.ownerDocument,e)||(l=x.style(e,n)),Yt.test(l)&&Ut.test(n)&&(i=u.width,o=u.minWidth,a=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=s.width,u.width=i,u.minWidth=o,u.maxWidth=a)),l
}):a.documentElement.currentStyle&&(Rt=function(e){return e.currentStyle
},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),l=s?s[n]:t,u=e.style;
return null==l&&u&&u[n]&&(l=u[n]),Yt.test(l)&&!zt.test(n)&&(i=u.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),u.left="fontSize"===n?"1em":l,l=u.pixelLeft+"px",u.left=i,a&&(o.left=a)),""===l?"auto":l
});
function on(e,t,n){var r=Vt.exec(t);
return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t
}function an(e,t,n,r,i){var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;
for(;
4>o;
o+=2){"margin"===n&&(a+=x.css(e,n+Zt[o],!0,i)),r?("content"===n&&(a-=x.css(e,"padding"+Zt[o],!0,i)),"margin"!==n&&(a-=x.css(e,"border"+Zt[o]+"Width",!0,i))):(a+=x.css(e,"padding"+Zt[o],!0,i),"padding"!==n&&(a+=x.css(e,"border"+Zt[o]+"Width",!0,i)))
}return a
}function sn(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Rt(e),a=x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,o);
if(0>=i||null==i){if(i=Wt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Yt.test(i)){return i
}r=a&&(x.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0
}return i+an(e,t,n||(a?"border":"content"),r,o)+"px"
}function ln(e){var t=a,n=Gt[e];
return n||(n=un(e,t),"none"!==n&&n||(Pt=(Pt||x("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(Pt[0].contentWindow||Pt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=un(e,t),Pt.detach()),Gt[e]=n),n
}function un(e,t){var n=x(t.createElement(e)).appendTo(t.body),r=x.css(n[0],"display");
return n.remove(),r
}x.each(["height","width"],function(e,n){x.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&Xt.test(x.css(e,"display"))?x.swap(e,Qt,function(){return sn(e,n,i)
}):sn(e,n,i):t
},set:function(e,t,r){var i=r&&Rt(e);
return on(e,t,r?an(e,n,r,x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,i),i):0)
}}
}),x.support.opacity||(x.cssHooks.opacity={get:function(e,t){return It.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":t?"1":""
},set:function(e,t){var n=e.style,r=e.currentStyle,i=x.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";
n.zoom=1,(t>=1||""===t)&&""===x.trim(o.replace($t,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=$t.test(o)?o.replace($t,i):o+" "+i)
}}),x(function(){x.support.reliableMarginRight||(x.cssHooks.marginRight={get:function(e,n){return n?x.swap(e,{display:"inline-block"},Wt,[e,"marginRight"]):t
}}),!x.support.pixelPosition&&x.fn.position&&x.each(["top","left"],function(e,n){x.cssHooks[n]={get:function(e,r){return r?(r=Wt(e,n),Yt.test(r)?x(e).position()[n]+"px":r):t
}}
})
}),x.expr&&x.expr.filters&&(x.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!x.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||x.css(e,"display"))
},x.expr.filters.visible=function(e){return !x.expr.filters.hidden(e)
}),x.each({margin:"",padding:"",border:"Width"},function(e,t){x.cssHooks[e+t]={expand:function(n){var r=0,i={},o="string"==typeof n?n.split(" "):[n];
for(;
4>r;
r++){i[e+Zt[r]+t]=o[r]||o[r-2]||o[0]
}return i
}},Ut.test(e)||(x.cssHooks[e+t].set=on)
});
var cn=/%20/g,pn=/\[\]$/,fn=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,hn=/^(?:input|select|textarea|keygen)/i;
x.fn.extend({serialize:function(){return x.param(this.serializeArray())
},serializeArray:function(){return this.map(function(){var e=x.prop(this,"elements");
return e?x.makeArray(e):this
}).filter(function(){var e=this.type;
return this.name&&!x(this).is(":disabled")&&hn.test(this.nodeName)&&!dn.test(e)&&(this.checked||!Ct.test(e))
}).map(function(e,t){var n=x(this).val();
return null==n?null:x.isArray(n)?x.map(n,function(e){return{name:t.name,value:e.replace(fn,"\r\n")}
}):{name:t.name,value:n.replace(fn,"\r\n")}
}).get()
}}),x.param=function(e,n){var r,i=[],o=function(e,t){t=x.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)
};
if(n===t&&(n=x.ajaxSettings&&x.ajaxSettings.traditional),x.isArray(e)||e.jquery&&!x.isPlainObject(e)){x.each(e,function(){o(this.name,this.value)
})
}else{for(r in e){gn(r,e[r],n,o)
}}return i.join("&").replace(cn,"+")
};
function gn(e,t,n,r){var i;
if(x.isArray(t)){x.each(t,function(t,i){n||pn.test(e)?r(e,i):gn(e+"["+("object"==typeof i?t:"")+"]",i,n,r)
})
}else{if(n||"object"!==x.type(t)){r(e,t)
}else{for(i in t){gn(e+"["+i+"]",t[i],n,r)
}}}}x.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){x.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)
}
}),x.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)
},bind:function(e,t,n){return this.on(e,null,t,n)
},unbind:function(e,t){return this.off(e,null,t)
},delegate:function(e,t,n,r){return this.on(t,e,n,r)
},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)
}});
var mn,yn,vn=x.now(),bn=/\?/,xn=/#.*$/,wn=/([?&])_=[^&]*/,Tn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Cn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nn=/^(?:GET|HEAD)$/,kn=/^\/\//,En=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Sn=x.fn.load,An={},jn={},Dn="*/".concat("*");
try{yn=o.href
}catch(Ln){yn=a.createElement("a"),yn.href="",yn=yn.href
}mn=En.exec(yn.toLowerCase())||[];
function Hn(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");
var r,i=0,o=t.toLowerCase().match(T)||[];
if(x.isFunction(n)){while(r=o[i++]){"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)
}}}
}function qn(e,n,r,i){var o={},a=e===jn;
function s(l){var u;
return o[l]=!0,x.each(e[l]||[],function(e,l){var c=l(n,r,i);
return"string"!=typeof c||a||o[c]?a?!(u=c):t:(n.dataTypes.unshift(c),s(c),!1)
}),u
}return s(n.dataTypes[0])||!o["*"]&&s("*")
}function _n(e,n){var r,i,o=x.ajaxSettings.flatOptions||{};
for(i in n){n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i])
}return r&&x.extend(!0,e,r),e
}x.fn.load=function(e,n,r){if("string"!=typeof e&&Sn){return Sn.apply(this,arguments)
}var i,o,a,s=this,l=e.indexOf(" ");
return l>=0&&(i=e.slice(l,e.length),e=e.slice(0,l)),x.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&x.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(i?x("<div>").append(x.parseHTML(e)).find(i):e)
}).complete(r&&function(e,t){s.each(r,o||[e.responseText,t,e])
}),this
},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){x.fn[t]=function(e){return this.on(t,e)
}
}),x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yn,type:"GET",isLocal:Cn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":x.parseJSON,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?_n(_n(e,x.ajaxSettings),t):_n(x.ajaxSettings,e)
},ajaxPrefilter:Hn(An),ajaxTransport:Hn(jn),ajax:function(e,n){"object"==typeof e&&(n=e,e=t),n=n||{};
var r,i,o,a,s,l,u,c,p=x.ajaxSetup({},n),f=p.context||p,d=p.context&&(f.nodeType||f.jquery)?x(f):x.event,h=x.Deferred(),g=x.Callbacks("once memory"),m=p.statusCode||{},y={},v={},b=0,w="canceled",C={readyState:0,getResponseHeader:function(e){var t;
if(2===b){if(!c){c={};
while(t=Tn.exec(a)){c[t[1].toLowerCase()]=t[2]
}}t=c[e.toLowerCase()]
}return null==t?null:t
},getAllResponseHeaders:function(){return 2===b?a:null
},setRequestHeader:function(e,t){var n=e.toLowerCase();
return b||(e=v[n]=v[n]||e,y[e]=t),this
},overrideMimeType:function(e){return b||(p.mimeType=e),this
},statusCode:function(e){var t;
if(e){if(2>b){for(t in e){m[t]=[m[t],e[t]]
}}else{C.always(e[C.status])
}}return this
},abort:function(e){var t=e||w;
return u&&u.abort(t),k(0,t),this
}};
if(h.promise(C).complete=g.add,C.success=C.done,C.error=C.fail,p.url=((e||p.url||yn)+"").replace(xn,"").replace(kn,mn[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=x.trim(p.dataType||"*").toLowerCase().match(T)||[""],null==p.crossDomain&&(r=En.exec(p.url.toLowerCase()),p.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(mn[3]||("http:"===mn[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=x.param(p.data,p.traditional)),qn(An,p,n,C),2===b){return C
}l=p.global,l&&0===x.active++&&x.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Nn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(bn.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=wn.test(o)?o.replace(wn,"$1_="+vn++):o+(bn.test(o)?"&":"?")+"_="+vn++)),p.ifModified&&(x.lastModified[o]&&C.setRequestHeader("If-Modified-Since",x.lastModified[o]),x.etag[o]&&C.setRequestHeader("If-None-Match",x.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Dn+"; q=0.01":""):p.accepts["*"]);
for(i in p.headers){C.setRequestHeader(i,p.headers[i])
}if(p.beforeSend&&(p.beforeSend.call(f,C,p)===!1||2===b)){return C.abort()
}w="abort";
for(i in {success:1,error:1,complete:1}){C[i](p[i])
}if(u=qn(jn,p,n,C)){C.readyState=1,l&&d.trigger("ajaxSend",[C,p]),p.async&&p.timeout>0&&(s=setTimeout(function(){C.abort("timeout")
},p.timeout));
try{b=1,u.send(y,k)
}catch(N){if(!(2>b)){throw N
}k(-1,N)
}}else{k(-1,"No Transport")
}function k(e,n,r,i){var c,y,v,w,T,N=n;
2!==b&&(b=2,s&&clearTimeout(s),u=t,a=i||"",C.readyState=e>0?4:0,c=e>=200&&300>e||304===e,r&&(w=Mn(p,C,r)),w=On(p,w,C,c),c?(p.ifModified&&(T=C.getResponseHeader("Last-Modified"),T&&(x.lastModified[o]=T),T=C.getResponseHeader("etag"),T&&(x.etag[o]=T)),204===e||"HEAD"===p.type?N="nocontent":304===e?N="notmodified":(N=w.state,y=w.data,v=w.error,c=!v)):(v=N,(e||!N)&&(N="error",0>e&&(e=0))),C.status=e,C.statusText=(n||N)+"",c?h.resolveWith(f,[y,N,C]):h.rejectWith(f,[C,N,v]),C.statusCode(m),m=t,l&&d.trigger(c?"ajaxSuccess":"ajaxError",[C,p,c?y:v]),g.fireWith(f,[C,N]),l&&(d.trigger("ajaxComplete",[C,p]),--x.active||x.event.trigger("ajaxStop")))
}return C
},getJSON:function(e,t,n){return x.get(e,t,n,"json")
},getScript:function(e,n){return x.get(e,t,n,"script")
}}),x.each(["get","post"],function(e,n){x[n]=function(e,r,i,o){return x.isFunction(r)&&(o=o||i,i=r,r=t),x.ajax({url:e,type:n,dataType:o,data:r,success:i})
}
});
function Mn(e,n,r){var i,o,a,s,l=e.contents,u=e.dataTypes;
while("*"===u[0]){u.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"))
}if(o){for(s in l){if(l[s]&&l[s].test(o)){u.unshift(s);
break
}}}if(u[0] in r){a=u[0]
}else{for(s in r){if(!u[0]||e.converters[s+" "+u[0]]){a=s;
break
}i||(i=s)
}a=a||i
}return a?(a!==u[0]&&u.unshift(a),r[a]):t
}function On(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();
if(c[1]){for(a in e.converters){u[a.toLowerCase()]=e.converters[a]
}}o=c.shift();
while(o){if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift()){if("*"===o){o=l
}else{if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a){for(i in u){if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],c.unshift(s[1]));
break
}}}if(a!==!0){if(a&&e["throws"]){t=a(t)
}else{try{t=a(t)
}catch(p){return{state:"parsererror",error:a?p:"No conversion from "+l+" to "+o}
}}}}}}}return{state:"success",data:t}
}x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return x.globalEval(e),e
}}}),x.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)
}),x.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=a.head||x("head")[0]||a.documentElement;
return{send:function(t,i){n=a.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))
},r.insertBefore(n,r.firstChild)
},abort:function(){n&&n.onload(t,!0)
}}
}});
var Fn=[],Bn=/(=)\?(?=&|$)|\?\?/;
x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Fn.pop()||x.expando+"_"+vn++;
return this[e]=!0,e
}}),x.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,l=n.jsonp!==!1&&(Bn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bn.test(n.data)&&"data");
return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=x.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Bn,"$1"+o):n.jsonp!==!1&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||x.error(o+" was not called"),s[0]
},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments
},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,Fn.push(o)),s&&x.isFunction(a)&&a(s[0]),s=a=t
}),"script"):t
});
var Pn,Rn,Wn=0,$n=e.ActiveXObject&&function(){var e;
for(e in Pn){Pn[e](t,!0)
}};
function In(){try{return new e.XMLHttpRequest
}catch(t){}}function zn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")
}catch(t){}}x.ajaxSettings.xhr=e.ActiveXObject?function(){return !this.isLocal&&In()||zn()
}:In,Rn=x.ajaxSettings.xhr(),x.support.cors=!!Rn&&"withCredentials" in Rn,Rn=x.support.ajax=!!Rn,Rn&&x.ajaxTransport(function(n){if(!n.crossDomain||x.support.cors){var r;
return{send:function(i,o){var a,s,l=n.xhr();
if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields){for(s in n.xhrFields){l[s]=n.xhrFields[s]
}}n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");
try{for(s in i){l.setRequestHeader(s,i[s])
}}catch(u){}l.send(n.hasContent&&n.data||null),r=function(e,i){var s,u,c,p;
try{if(r&&(i||4===l.readyState)){if(r=t,a&&(l.onreadystatechange=x.noop,$n&&delete Pn[a]),i){4!==l.readyState&&l.abort()
}else{p={},s=l.status,u=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(p.text=l.responseText);
try{c=l.statusText
}catch(f){c=""
}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=p.text?200:404
}}}catch(d){i||o(-1,d)
}p&&o(s,c,p,u)
},n.async?4===l.readyState?setTimeout(r):(a=++Wn,$n&&(Pn||(Pn={},x(e).unload($n)),Pn[a]=r),l.onreadystatechange=r):r()
},abort:function(){r&&r(t,!0)
}}
}});
var Xn,Un,Vn=/^(?:toggle|show|hide)$/,Yn=RegExp("^(?:([+-])=|)("+w+")([a-z%]*)$","i"),Jn=/queueHooks$/,Gn=[nr],Qn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Yn.exec(t),o=i&&i[3]||(x.cssNumber[e]?"":"px"),a=(x.cssNumber[e]||"px"!==o&&+r)&&Yn.exec(x.css(n.elem,e)),s=1,l=20;
if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;
do{s=s||".5",a/=s,x.style(n.elem,e,a+o)
}while(s!==(s=n.cur()/r)&&1!==s&&--l)
}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n
}]};
function Kn(){return setTimeout(function(){Xn=t
}),Xn=x.now()
}function Zn(e,t,n){var r,i=(Qn[t]||[]).concat(Qn["*"]),o=0,a=i.length;
for(;
a>o;
o++){if(r=i[o].call(n,t,e)){return r
}}}function er(e,t,n){var r,i,o=0,a=Gn.length,s=x.Deferred().always(function(){delete l.elem
}),l=function(){if(i){return !1
}var t=Xn||Kn(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;
for(;
l>a;
a++){u.tweens[a].run(o)
}return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)
},u=s.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Kn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=x.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);
return u.tweens.push(r),r
},stop:function(t){var n=0,r=t?u.tweens.length:0;
if(i){return this
}for(i=!0;
r>n;
n++){u.tweens[n].run(1)
}return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this
}}),c=u.props;
for(tr(c,u.opts.specialEasing);
a>o;
o++){if(r=Gn[o].call(u,e,c,u.opts)){return r
}}return x.map(c,Zn,u),x.isFunction(u.opts.start)&&u.opts.start.call(e,u),x.fx.timer(x.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)
}function tr(e,t){var n,r,i,o,a;
for(n in e){if(r=x.camelCase(n),i=t[r],o=e[n],x.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=x.cssHooks[r],a&&"expand" in a){o=a.expand(o),delete e[r];
for(n in o){n in e||(e[n]=o[n],t[n]=i)
}}else{t[r]=i
}}}x.Animation=x.extend(er,{tweener:function(e,t){x.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");
var n,r=0,i=e.length;
for(;
i>r;
r++){n=e[r],Qn[n]=Qn[n]||[],Qn[n].unshift(t)
}},prefilter:function(e,t){t?Gn.unshift(e):Gn.push(e)
}});
function nr(e,t,n){var r,i,o,a,s,l,u=this,c={},p=e.style,f=e.nodeType&&nn(e),d=x._data(e,"fxshow");
n.queue||(s=x._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()
}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,x.queue(e,"fx").length||s.empty.fire()
})
})),1===e.nodeType&&("height" in t||"width" in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===x.css(e,"display")&&"none"===x.css(e,"float")&&(x.support.inlineBlockNeedsLayout&&"inline"!==ln(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",x.support.shrinkWrapBlocks||u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]
}));
for(r in t){if(i=t[r],Vn.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(f?"hide":"show")){continue
}c[r]=d&&d[r]||x.style(e,r)
}}if(!x.isEmptyObject(c)){d?"hidden" in d&&(f=d.hidden):d=x._data(e,"fxshow",{}),o&&(d.hidden=!f),f?x(e).show():u.done(function(){x(e).hide()
}),u.done(function(){var t;
x._removeData(e,"fxshow");
for(t in c){x.style(e,t,c[t])
}});
for(r in c){a=Zn(f?d[r]:0,r,u),r in d||(d[r]=a.start,f&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))
}}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)
}x.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(x.cssNumber[n]?"":"px")
},cur:function(){var e=rr.propHooks[this.prop];
return e&&e.get?e.get(this):rr.propHooks._default.get(this)
},run:function(e){var t,n=rr.propHooks[this.prop];
return this.pos=t=this.options.duration?x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this
}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;
return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=x.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]
},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[x.cssProps[e.prop]]||x.cssHooks[e.prop])?x.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now
}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)
}},x.each(["toggle","show","hide"],function(e,t){var n=x.fn[t];
x.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)
}
}),x.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)
},animate:function(e,t,n,r){var i=x.isEmptyObject(e),o=x.speed(t,n,r),a=function(){var t=er(this,x.extend({},e),o);
(i||x._data(this,"finish"))&&t.stop(!0)
};
return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)
},stop:function(e,n,r){var i=function(e){var t=e.stop;
delete e.stop,t(r)
};
return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=x.timers,a=x._data(this);
if(n){a[n]&&a[n].stop&&i(a[n])
}else{for(n in a){a[n]&&a[n].stop&&Jn.test(n)&&i(a[n])
}}for(n=o.length;
n--;
){o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1))
}(t||!r)&&x.dequeue(this,e)
})
},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=x._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=x.timers,a=r?r.length:0;
for(n.finish=!0,x.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;
t--;
){o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1))
}for(t=0;
a>t;
t++){r[t]&&r[t].finish&&r[t].finish.call(this)
}delete n.finish
})
}});
function ir(e,t){var n,r={height:e},i=0;
for(t=t?1:0;
4>i;
i+=2-t){n=Zt[i],r["margin"+n]=r["padding"+n]=e
}return t&&(r.opacity=r.width=e),r
}x.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){x.fn[e]=function(e,n,r){return this.animate(t,e,n,r)
}
}),x.speed=function(e,t,n){var r=e&&"object"==typeof e?x.extend({},e):{complete:n||!n&&t||x.isFunction(e)&&e,duration:e,easing:n&&t||t&&!x.isFunction(t)&&t};
return r.duration=x.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in x.fx.speeds?x.fx.speeds[r.duration]:x.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){x.isFunction(r.old)&&r.old.call(this),r.queue&&x.dequeue(this,r.queue)
},r
},x.easing={linear:function(e){return e
},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2
}},x.timers=[],x.fx=rr.prototype.init,x.fx.tick=function(){var e,n=x.timers,r=0;
for(Xn=x.now();
n.length>r;
r++){e=n[r],e()||n[r]!==e||n.splice(r--,1)
}n.length||x.fx.stop(),Xn=t
},x.fx.timer=function(e){e()&&x.timers.push(e)&&x.fx.start()
},x.fx.interval=13,x.fx.start=function(){Un||(Un=setInterval(x.fx.tick,x.fx.interval))
},x.fx.stop=function(){clearInterval(Un),Un=null
},x.fx.speeds={slow:600,fast:200,_default:400},x.fx.step={},x.expr&&x.expr.filters&&(x.expr.filters.animated=function(e){return x.grep(x.timers,function(t){return e===t.elem
}).length
}),x.fn.offset=function(e){if(arguments.length){return e===t?this:this.each(function(t){x.offset.setOffset(this,e,t)
})
}var n,r,o={top:0,left:0},a=this[0],s=a&&a.ownerDocument;
if(s){return n=s.documentElement,x.contains(n,a)?(typeof a.getBoundingClientRect!==i&&(o=a.getBoundingClientRect()),r=or(s),{top:o.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o
}},x.offset={setOffset:function(e,t,n){var r=x.css(e,"position");
"static"===r&&(e.style.position="relative");
var i=x(e),o=i.offset(),a=x.css(e,"top"),s=x.css(e,"left"),l=("absolute"===r||"fixed"===r)&&x.inArray("auto",[a,s])>-1,u={},c={},p,f;
l?(c=i.position(),p=c.top,f=c.left):(p=parseFloat(a)||0,f=parseFloat(s)||0),x.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(u.top=t.top-o.top+p),null!=t.left&&(u.left=t.left-o.left+f),"using" in t?t.using.call(e,u):i.css(u)
}},x.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];
return"fixed"===x.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),x.nodeName(e[0],"html")||(n=e.offset()),n.top+=x.css(e[0],"borderTopWidth",!0),n.left+=x.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-x.css(r,"marginTop",!0),left:t.left-n.left-x.css(r,"marginLeft",!0)}
}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||s;
while(e&&!x.nodeName(e,"html")&&"static"===x.css(e,"position")){e=e.offsetParent
}return e||s
})
}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);
x.fn[e]=function(i){return x.access(this,function(e,i,o){var a=or(e);
return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:(a?a.scrollTo(r?x(a).scrollLeft():o,r?o:x(a).scrollTop()):e[i]=o,t)
},e,i,arguments.length,null)
}
});
function or(e){return x.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1
}x.each({Height:"height",Width:"width"},function(e,n){x.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){x.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");
return x.access(this,function(n,r,i){var o;
return x.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?x.css(n,r,s):x.style(n,r,i,s)
},n,a?i:t,a,null)
}
})
}),x.fn.size=function(){return this.length
},x.fn.andSelf=x.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=x:(e.jQuery=e.$=x,"function"==typeof define&&define.amd&&define("jquery",[],function(){return x
}))
})(window);
(function(c,b,a,f){var d=c(b);
c.fn.lazyload=function(h){var k=this;
var l;
var j={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:b,data_attribute:"source",skip_invisible:true,appear:null,load:null,placeholder:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="};
var g=true;
if(c("body").hasClass("vwModelProfile")){g=false;
VW.radio("modelProfile:galleryImagesReady").subscribe(function(){g=true;
m()
})
}function n(o,r){var q=null;
var t=[];
var s=(o==".imageGallery")?c(r.parents(".item")[0]):c(r[0]);
var p,u;
if(q===null){t=k.filter(function(v){return c(k[v]).parents(".imageGallery").length&&(o==".imageGallery")?c(k[v]).parents(".item.selected").length:c(k[v]).hasClass("selected")
})
}if(q||t.length){q=true;
if(s.hasClass("selected")){r.trigger("appear");
if(o!=".imageGallery"){p=s.next();
u=s.prev()
}else{p=s.next().find(".vwLazy");
u=s.prev().find(".vwLazy")
}if(p.length&&_.indexOf(k,p[0])>-1){c(p[0]).trigger("appear")
}if(u.length&&_.indexOf(k,u[0])>-1){c(u[0]).trigger("appear")
}}}else{q=false;
if(s.prev().hasClass("selected")||s.next().hasClass("selected")){r.trigger("appear")
}}}function m(){var o=0;
var p;
k.each(function(){var q=c(this);
if(j.skip_invisible&&!q.is(":visible")){return
}if(c.abovethetop(this,j)||c.leftofbegin(this,j)){}else{if(!c.belowthefold(this,j)&&!c.rightoffold(this,j)){if(q.parents(".imageGallery").length||q.parents(".storyModule").length){if(q.parents(".imageGallery").length){p=".imageGallery";
if(!g){return false
}}if(q.parents(".storyModule").length){p=".storyModule"
}n(p,q)
}else{q.trigger("appear")
}o=0
}else{if(++o>j.failure_limit){return false
}}}})
}VW.radio("simpleTab:selected").subscribe(m);
VW.radio("matchmaker:tabSelect").subscribe(function(){if(VW.utilities.matchmakerResultsVisible()){b.setTimeout(m,600)
}else{b.setTimeout(m,300)
}});
VW.radio("matchmaker:subFilterChange").subscribe(function(){b.setTimeout(m,300)
});
VW.radio("storyModule:slideChange").subscribe(m);
VW.radio("mediaPlayer:changeItem").subscribe(m);
if(h){if(f!==h.failurelimit){h.failure_limit=h.failurelimit;
delete h.failurelimit
}if(f!==h.effectspeed){h.effect_speed=h.effectspeed;
delete h.effectspeed
}c.extend(j,h)
}l=(j.container===f||j.container===b)?d:c(j.container);
if(0===j.event.indexOf("scroll")){l.bind(j.event,function(){return m()
})
}this.each(function(){var o=this;
var p=c(o);
o.loaded=false;
if(p.attr("src")===f||p.attr("src")===false){if(p.is("img")){p.attr("src",j.placeholder)
}}p.one("appear",function(){if(!this.loaded){if(j.appear){var q=k.length;
j.appear.call(o,q,j)
}c("<img />").bind("load",function(){var s=p.attr("data-"+j.data_attribute);
p.hide();
if(p.is("img")){p.attr("src",s)
}else{p.css("background-image","url('"+s+"')")
}if(p.is("img")){p[j.effect](j.effect_speed,function(){p.attr("style",p.attr("style").replace(/display[^;]+;?/g,""))
})
}else{p.show();
p.attr("style",p.attr("style").replace(/display[^;]+;?/g,""))
}o.loaded=true;
var r=c.grep(k,function(u){return !u.loaded
});
k=c(r);
if(j.load){var t=k.length;
j.load.call(o,t,j)
}}).attr("src",p.attr("data-"+j.data_attribute))
}});
if(0!==j.event.indexOf("scroll")){p.bind(j.event,function(){if(!o.loaded){p.trigger("appear")
}})
}});
d.bind("resize",function(){m()
});
if((/(?:iphone|ipod|ipad).*os 5/gi).test(navigator.appVersion)){d.bind("pageshow",function(o){if(o.originalEvent&&o.originalEvent.persisted){k.each(function(){c(this).trigger("appear")
})
}})
}c(a).ready(function(){m()
});
return this
};
c.belowthefold=function(h,j){var g;
if(j.container===f||j.container===b){g=(b.innerHeight?b.innerHeight:d.height())+d.scrollTop()
}else{g=c(j.container).offset().top+c(j.container).height()
}return g<=c(h).offset().top-j.threshold
};
c.rightoffold=function(g,h){return false
};
c.abovethetop=function(h,j){var g;
if(j.container===f||j.container===b){g=d.scrollTop()
}else{g=c(j.container).offset().top
}return g>=c(h).offset().top+j.threshold+c(h).height()
};
c.leftofbegin=function(g,h){return false
};
c.inviewport=function(g,h){return !c.rightoffold(g,h)&&!c.leftofbegin(g,h)&&!c.belowthefold(g,h)&&!c.abovethetop(g,h)
};
c.extend(c.expr[":"],{"below-the-fold":function(g){return c.belowthefold(g,{threshold:0})
},"above-the-top":function(g){return !c.belowthefold(g,{threshold:0})
},"right-of-screen":function(g){return c.rightoffold(g,{threshold:0})
},"left-of-screen":function(g){return !c.rightoffold(g,{threshold:0})
},"in-viewport":function(g){return c.inviewport(g,{threshold:0})
},"above-the-fold":function(g){return !c.belowthefold(g,{threshold:0})
},"right-of-fold":function(g){return c.rightoffold(g,{threshold:0})
},"left-of-fold":function(g){return !c.rightoffold(g,{threshold:0})
}})
})(jQuery,window,document);
window.Modernizr=function(au,at,ar){function L(){ap.input=function(f){for(var d=0,g=f.length;
d<g;
d++){aa[f[d]]=f[d] in ai
}return aa
}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),ap.inputtypes=function(b){for(var l=0,k,j,g,c=b.length;
l<c;
l++){ai.setAttribute("type",j=b[l]),k=ai.type!=="text",k&&(ai.value=ah,ai.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(j)&&ai.style.WebkitAppearance!==ar?(an.appendChild(ai),g=at.defaultView,k=g.getComputedStyle&&g.getComputedStyle(ai,null).WebkitAppearance!=="textfield"&&ai.offsetHeight!==0,an.removeChild(ai)):/^(search|tel)$/.test(j)||(/^(url|email)$/.test(j)?k=ai.checkValidity&&ai.checkValidity()===!1:/^color$/.test(j)?(an.appendChild(ai),an.offsetWidth,k=ai.value!=ah,an.removeChild(ai)):k=ai.value!=ah)),ab[b[l]]=!!k
}return ab
}("search tel url email datetime date month week time datetime-local number range color".split(" "))
}function N(g,f){var j=g.charAt(0).toUpperCase()+g.substr(1),h=(g+" "+ae.join(j+" ")+j).split(" ");
return O(h,f)
}function O(f,c){for(var g in f){if(aj[f[g]]!==ar){return c=="pfx"?f[g]:!0
}}return !1
}function P(d,c){return !!~(""+d).indexOf(c)
}function Q(d,c){return typeof d===c
}function R(d,c){return S(af.join(d+";")+(c||""))
}function S(b){aj.cssText=b
}var aq="2.0.6",ap={},ao=!0,an=at.documentElement,am=at.head||at.getElementsByTagName("head")[0],al="modernizr",ak=at.createElement(al),aj=ak.style,ai=at.createElement("input"),ah=":)",ag=Object.prototype.toString,af=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),ae="Webkit Moz O ms Khtml".split(" "),ad={svg:"http://www.w3.org/2000/svg"},ac={},ab={},aa={},Z=[],Y=function(b,q,p,o){var n,m,l,g=at.createElement("div");
if(parseInt(p,10)){while(p--){l=at.createElement("div"),l.id=o?o[p]:al+(p+1),g.appendChild(l)
}}n=["&shy;","<style>",b,"</style>"].join(""),g.id=al,g.innerHTML+=n,an.appendChild(g),m=q(g,b),g.parentNode.removeChild(g);
return !!m
},X=function(a){if(au.matchMedia){return matchMedia(a).matches
}var d;
Y("@media "+a+" { #"+al+" { position: absolute; } }",function(c){d=(au.getComputedStyle?getComputedStyle(c,null):c.currentStyle).position=="absolute"
});
return d
},W=function(){function c(h,g){g=g||at.createElement(b[h]||"div"),h="on"+h;
var a=h in g;
a||(g.setAttribute||(g=at.createElement("div")),g.setAttribute&&g.removeAttribute&&(g.setAttribute(h,""),a=Q(g[h],"function"),Q(g[h],ar)||(g[h]=ar),g.removeAttribute(h))),g=null;
return a
}var b={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};
return c
}(),V,U={}.hasOwnProperty,T;
!Q(U,ar)&&!Q(U.call,ar)?T=function(d,c){return U.call(d,c)
}:T=function(d,c){return c in d&&Q(d.constructor.prototype[c],ar)
};
var M=function(j,h){var b=j.join(""),a=h.length;
Y(b,function(o,n){var m=at.styleSheets[at.styleSheets.length-1],l=m.cssRules&&m.cssRules[0]?m.cssRules[0].cssText:m.cssText||"",k=o.childNodes,g={};
while(a--){g[k[a].id]=k[a]
}ap.touch="ontouchstart" in au||g.touch.offsetTop===9,ap.csstransforms3d=g.csstransforms3d.offsetLeft===9,ap.generatedcontent=g.generatedcontent.offsetHeight>=1,ap.fontface=/src/i.test(l)&&l.indexOf(n.split(" ")[0])===0
},a,h)
}(['@font-face {font-family:"font";src:url("https://")}',["@media (",af.join("touch-enabled),("),al,")","{#touch{top:9px;position:absolute}}"].join(""),["@media (",af.join("transform-3d),("),al,")","{#csstransforms3d{left:9px;position:absolute}}"].join(""),['#generatedcontent:after{content:"',ah,'";visibility:hidden}'].join("")],["fontface","touch","csstransforms3d","generatedcontent"]);
ac.flexbox=function(){function k(l,f,n,m){l.style.cssText=af.join(f+":"+n+";")+(m||"")
}function b(l,f,n,m){f+=":",l.style.cssText=(f+af.join(n+";"+f)).slice(0,-f.length)+(m||"")
}var j=at.createElement("div"),h=at.createElement("div");
b(j,"display","box","width:42px;padding:0;"),k(h,"box-flex","1","width:10px;"),j.appendChild(h),an.appendChild(j);
var g=h.offsetWidth===42;
j.removeChild(h),an.removeChild(j);
return g
},ac.canvas=function(){var b=at.createElement("canvas");
return !!b.getContext&&!!b.getContext("2d")
},ac.canvastext=function(){return !!ap.canvas&&!!Q(at.createElement("canvas").getContext("2d").fillText,"function")
},ac.webgl=function(){return !!au.WebGLRenderingContext
},ac.touch=function(){return ap.touch
},ac.geolocation=function(){return !!navigator.geolocation
},ac.postmessage=function(){return !!au.postMessage
},ac.websqldatabase=function(){var a=!!au.openDatabase;
return a
},ac.indexedDB=function(){for(var a=-1,d=ae.length;
++a<d;
){if(au[ae[a].toLowerCase()+"IndexedDB"]){return !0
}}return !!au.indexedDB
},ac.hashchange=function(){return W("hashchange",au)&&(at.documentMode===ar||at.documentMode>7)
},ac.history=function(){return !!au.history&&!!history.pushState
},ac.draganddrop=function(){return W("dragstart")&&W("drop")
},ac.websockets=function(){for(var a=-1,d=ae.length;
++a<d;
){if(au[ae[a]+"WebSocket"]){return !0
}}return"WebSocket" in au
},ac.rgba=function(){S("background-color:rgba(150,255,150,.5)");
return P(aj.backgroundColor,"rgba")
},ac.hsla=function(){S("background-color:hsla(120,40%,100%,.5)");
return P(aj.backgroundColor,"rgba")||P(aj.backgroundColor,"hsla")
},ac.multiplebgs=function(){S("background:url(https://),url(https://),red url(https://)");
return/(url\s*\(.*?){3}/.test(aj.background)
},ac.backgroundsize=function(){return N("backgroundSize")
},ac.borderimage=function(){return N("borderImage")
},ac.borderradius=function(){return N("borderRadius")
},ac.boxshadow=function(){return N("boxShadow")
},ac.textshadow=function(){return at.createElement("div").style.textShadow===""
},ac.opacity=function(){R("opacity:.55");
return/^0.55$/.test(aj.opacity)
},ac.cssanimations=function(){return N("animationName")
},ac.csscolumns=function(){return N("columnCount")
},ac.cssgradients=function(){var f="background-image:",d="gradient(linear,left top,right bottom,from(#9f9),to(white));",g="linear-gradient(left top,#9f9, white);";
S((f+af.join(d+f)+af.join(g+f)).slice(0,-f.length));
return P(aj.backgroundImage,"gradient")
},ac.cssreflections=function(){return N("boxReflect")
},ac.csstransforms=function(){return !!O(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])
},ac.csstransforms3d=function(){var b=!!O(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);
b&&"webkitPerspective" in an.style&&(b=ap.csstransforms3d);
return b
},ac.csstransitions=function(){return N("transitionProperty")
},ac.fontface=function(){return ap.fontface
},ac.generatedcontent=function(){return ap.generatedcontent
},ac.video=function(){var b=at.createElement("video"),h=!1;
try{if(h=!!b.canPlayType){h=new Boolean(h),h.ogg=b.canPlayType('video/ogg; codecs="theora"');
var g='video/mp4; codecs="avc1.42E01E';
h.h264=b.canPlayType(g+'"')||b.canPlayType(g+', mp4a.40.2"'),h.webm=b.canPlayType('video/webm; codecs="vp8, vorbis"')
}}catch(f){}return h
},ac.audio=function(){var b=at.createElement("audio"),g=!1;
try{if(g=!!b.canPlayType){g=new Boolean(g),g.ogg=b.canPlayType('audio/ogg; codecs="vorbis"'),g.mp3=b.canPlayType("audio/mpeg;"),g.wav=b.canPlayType('audio/wav; codecs="1"'),g.m4a=b.canPlayType("audio/x-m4a;")||b.canPlayType("audio/aac;")
}}catch(f){}return g
},ac.localstorage=function(){try{return !!localStorage.getItem
}catch(b){return !1
}},ac.sessionstorage=function(){try{return !!sessionStorage.getItem
}catch(b){return !1
}},ac.webworkers=function(){return !!au.Worker
},ac.applicationcache=function(){return !!au.applicationCache
},ac.svg=function(){return !!at.createElementNS&&!!at.createElementNS(ad.svg,"svg").createSVGRect
},ac.inlinesvg=function(){var b=at.createElement("div");
b.innerHTML="<svg/>";
return(b.firstChild&&b.firstChild.namespaceURI)==ad.svg
},ac.smil=function(){return !!at.createElementNS&&/SVG/.test(ag.call(at.createElementNS(ad.svg,"animate")))
},ac.svgclippaths=function(){return !!at.createElementNS&&/SVG/.test(ag.call(at.createElementNS(ad.svg,"clipPath")))
};
for(var K in ac){T(ac,K)&&(V=K.toLowerCase(),ap[V]=ac[K](),Z.push((ap[V]?"":"no-")+V))
}ap.input||L(),ap.addTest=function(f,c){if(typeof f=="object"){for(var g in f){T(f,g)&&ap.addTest(g,f[g])
}}else{f=f.toLowerCase();
if(ap[f]!==ar){return
}c=typeof c=="boolean"?c:!!c(),an.className+=" "+(c?"":"no-")+f,ap[f]=c
}return ap
},S(""),ak=ai=null,au.attachEvent&&function(){var b=at.createElement("div");
b.innerHTML="<elem></elem>";
return b.childNodes.length!==1
}()&&function(J,I){function c(f){var d=-1;
while(++d<E){f.createElement(F[d])
}}J.iepp=J.iepp||{};
var H=J.iepp,G=H.html5elements||"abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",F=G.split("|"),E=F.length,D=new RegExp("(^|\\s)("+G+")","gi"),C=new RegExp("<(/*)("+G+")","gi"),B=/^\s*[\{\}]\s*$/,A=new RegExp("(^|[^\\n]*?\\s)("+G+")([^\\n]*)({[\\n\\w\\W]*?})","gi"),z=I.createDocumentFragment(),y=I.documentElement,x=y.firstChild,w=I.createElement("body"),v=I.createElement("style"),u=/print|all/,t;
H.getCSS=function(j,d){if(j+""===ar){return""
}var n=-1,m=j.length,l,k=[];
while(++n<m){l=j[n];
if(l.disabled){continue
}d=l.media||d,u.test(d)&&k.push(H.getCSS(l.imports,d),l.cssText),d="all"
}return k.join("")
},H.parseCSS=function(f){var d=[],g;
while((g=A.exec(f))!=null){d.push(((B.exec(g[1])?"\n":g[1])+g[2]+g[3]).replace(D,"$1.iepp_$2")+g[4])
}return d.join("\n")
},H.writeHTML=function(){var b=-1;
t=t||I.body;
while(++b<E){var h=I.getElementsByTagName(F[b]),g=h.length,f=-1;
while(++f<g){h[f].className.indexOf("iepp_")<0&&(h[f].className+=" iepp_"+F[b])
}}z.appendChild(t),y.appendChild(w),w.className=t.className,w.id=t.id,w.innerHTML=t.innerHTML.replace(C,"<$1font")
},H._beforePrint=function(){v.styleSheet.cssText=H.parseCSS(H.getCSS(I.styleSheets,"all")),H.writeHTML()
},H.restoreHTML=function(){w.innerHTML="",y.removeChild(w),y.appendChild(t)
},H._afterPrint=function(){H.restoreHTML(),v.styleSheet.cssText=""
},c(I),c(z);
H.disablePP||(x.insertBefore(v,x.firstChild),v.media="print",v.className="iepp-printshim",J.attachEvent("onbeforeprint",H._beforePrint),J.attachEvent("onafterprint",H._afterPrint))
}(au,at),ap._version=aq,ap._prefixes=af,ap._domPrefixes=ae,ap.mq=X,ap.hasEvent=W,ap.testProp=function(b){return O([b])
},ap.testAllProps=N,ap.testStyles=Y,ap.prefixed=function(b){return N(b,"pfx")
},an.className=an.className.replace(/\bno-js\b/,"")+(ao?" js "+Z.join(" "):"");
return ap
}(this,this.document),function(P,O){function v(){y(!0)
}P.respond={},respond.update=function(){},respond.mediaQueriesSupported=O;
if(!O){var N=P.document,M=N.documentElement,L=[],K=[],J=[],I={},H=30,G=N.getElementsByTagName("head")[0]||M,F=G.getElementsByTagName("link"),E=[],D=function(){var a=F,n=a.length,m=0,l,k,j,h;
for(;
m<n;
m++){l=a[m],k=l.href,j=l.media,h=l.rel&&l.rel.toLowerCase()==="stylesheet",!!k&&h&&!I[k]&&(!/^([a-zA-Z]+?:(\/\/)?(www\.)?)/.test(k)||k.replace(RegExp.$1,"").split("/")[0]===P.location.host?E.push({href:k,media:j}):I[k]=!0)
}C()
},C=function(){if(E.length){var b=E.shift();
x(b.href,function(a){B(a,b.href,b.media),I[b.href]=!0,C()
})
}},B=function(V,U,T){var S=V.match(/@media[^\{]+\{([^\{\}]+\{[^\}\{]+\})+/gi),R=S&&S.length||0,U=U.substring(0,U.lastIndexOf("/")),Q=function(b){return b.replace(/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,"$1"+U+"$2$3")
},u=!R&&T,t=0,s,r,q,p,f;
U.length&&(U+="/"),u&&(R=1);
for(;
t<R;
t++){s=0,u?(r=T,K.push(Q(V))):(r=S[t].match(/@media ([^\{]+)\{([\S\s]+?)$/)&&RegExp.$1,K.push(RegExp.$2&&Q(RegExp.$2))),p=r.split(","),f=p.length;
for(;
s<f;
s++){q=p[s],L.push({media:q.match(/(only\s+)?([a-zA-Z]+)(\sand)?/)&&RegExp.$2,rules:K.length-1,minw:q.match(/\(min\-width:[\s]*([\s]*[0-9]+)px[\s]*\)/)&&parseFloat(RegExp.$1),maxw:q.match(/\(max\-width:[\s]*([\s]*[0-9]+)px[\s]*\)/)&&parseFloat(RegExp.$1)})
}}y()
},A,z,y=function(p){var k="clientWidth",j=M[k],g=N.compatMode==="CSS1Compat"&&j||N.body[k]||j,f={},d=N.createDocumentFragment(),c=F[F.length-1],S=(new Date).getTime();
if(p&&A&&S-A<H){clearTimeout(z),z=setTimeout(y,H)
}else{A=S;
for(var R in L){var Q=L[R];
if(!Q.minw&&!Q.maxw||(!Q.minw||Q.minw&&g>=Q.minw)&&(!Q.maxw||Q.maxw&&g<=Q.maxw)){f[Q.media]||(f[Q.media]=[]),f[Q.media].push(K[Q.rules])
}}for(var R in J){J[R]&&J[R].parentNode===G&&G.removeChild(J[R])
}for(var R in f){var r=N.createElement("style"),q=f[R].join("\n");
r.type="text/css",r.media=R,r.styleSheet?r.styleSheet.cssText=q:r.appendChild(N.createTextNode(q)),d.appendChild(r),J.push(r)
}G.insertBefore(d,c.nextSibling)
}},x=function(f,d){var g=w();
if(!!g){g.open("GET",f,!0),g.onreadystatechange=function(){g.readyState==4&&(g.status==200||g.status==304)&&d(g.responseText)
};
if(g.readyState==4){return
}g.send()
}},w=function(){var g=!1,f=[function(){return new ActiveXObject("Microsoft.XMLHTTP")
},function(){return new XMLHttpRequest
}],j=f.length;
while(j--){try{g=f[j]()
}catch(h){continue
}break
}return function(){return g
}
}();
D(),respond.update=D,P.addEventListener?P.addEventListener("resize",v,!1):P.attachEvent&&P.attachEvent("onresize",v)
}}(this,Modernizr.mq("only all")),function(ap,ao,an){function af(b){return !b||b=="loaded"||b=="complete"
}function ag(){var d=1,c=-1;
while(aa.length- ++c){if(aa[c].s&&!(d=aa[c].r)){break
}}d&&aj()
}function ah(b){var g=ao.createElement("script"),f;
g.src=b.s,g.onreadystatechange=g.onload=function(){!f&&af(g.readyState)&&(f=1,ag(),g.onload=g.onreadystatechange=null)
},ad(function(){f||(f=1,ag())
},L.errorTimeout),b.e?g.onload():ac.parentNode.insertBefore(g,ac)
}function ai(b){var h=ao.createElement("link"),g;
h.href=b.s,h.rel="stylesheet",h.type="text/css";
if(!b.e&&(M||W)){var f=function(c){ad(function(){if(!g){try{c.sheet.cssRules.length?(g=1,ag()):f(c)
}catch(a){a.code==1000||a.message=="security"||a.message=="denied"?(g=1,ad(function(){ag()
},0)):f(c)
}}},0)
};
f(h)
}else{h.onload=function(){g||(g=1,ad(function(){ag()
},0))
},b.e&&h.onload()
}ad(function(){g||(g=1,ag())
},L.errorTimeout),!b.e&&ac.parentNode.insertBefore(h,ac)
}function aj(){var b=aa.shift();
Y=1,b?b.t?ad(function(){b.t=="c"?ai(b):ah(b)
},0):(b(),ag()):Y=0
}function ak(t,s,q,p,n,m){function k(){!g&&af(j.readyState)&&(b.r=g=1,!Y&&ag(),j.onload=j.onreadystatechange=null,ad(function(){Q.removeChild(j)
},0))
}var j=ao.createElement(t),g=0,b={t:q,s:s,e:m};
j.src=j.data=s,!U&&(j.style.display="none"),j.width=j.height="0",t!="object"&&(j.type=q),j.onload=j.onreadystatechange=k,t=="img"?j.onerror=k:t=="script"&&(j.onerror=function(){b.e=b.r=1,aj()
}),aa.splice(p,0,b),Q.insertBefore(j,U?null:ac),ad(function(){g||(Q.removeChild(j),b.r=b.e=g=1,ag())
},L.errorTimeout)
}function al(g,f,j){var h=f=="c"?I:J;
Y=0,f=f||"j",V(g)?ak(h,g,f,this.i++,ae,j):(aa.splice(this.i++,0,g),aa.length==1&&aj());
return this
}function am(){var b=L;
b.loader={load:al,i:0};
return b
}var ae=ao.documentElement,ad=ap.setTimeout,ac=ao.getElementsByTagName("script")[0],ab={}.toString,aa=[],Y=0,W="MozAppearance" in ae.style,U=W&&!!ao.createRange().compareNode,S=W&&!U,Q=U?ae:ac.parentNode,O=ap.opera&&ab.call(ap.opera)=="[object Opera]",M="webkitAppearance" in ae.style,K=M&&"async" in ao.createElement("script"),J=W?"object":O||K?"img":"script",I=M?"img":J,Z=Array.isArray||function(b){return ab.call(b)=="[object Array]"
},X=function(b){return Object(b)===b
},V=function(b){return typeof b=="string"
},T=function(b){return ab.call(b)=="[object Function]"
},R=[],P={},N,L;
L=function(d){function m(p){var o=p.split("!"),v=R.length,u=o.pop(),t=o.length,s={url:u,origUrl:u,prefixes:o},r,q;
for(q=0;
q<t;
q++){r=P[o[q]],r&&(s=r(s))
}for(q=0;
q<v;
q++){s=R[q](s)
}return s
}function n(o,f,t,s,r){var q=m(o),p=q.autoCallback;
if(!q.bypass){f&&(f=T(f)?f:f[o]||f[s]||f[o.split("/").pop().split("?")[0]]);
if(q.instead){return q.instead(o,f,t,s,r)
}t.load(q.url,q.forceCSS||!q.forceJS&&/css$/.test(q.url)?"c":an,q.noexec),(T(f)||T(p))&&t.load(function(){am(),f&&f(q.origUrl,r,s),p&&p(q.origUrl,r,s)
})
}}function c(p,o){function v(b){if(V(b)){n(b,r,o,0,u)
}else{if(X(b)){for(q in b){b.hasOwnProperty(q)&&n(b[q],r,o,q,u)
}}}}var u=!!p.test,t=u?p.yep:p.nope,s=p.load||p.both,r=p.callback,q;
v(t),v(s),p.complete&&o.load(p.complete)
}var l,k,j=this.yepnope.loader;
if(V(d)){n(d,0,j,0)
}else{if(Z(d)){for(l=0;
l<d.length;
l++){k=d[l],V(k)?n(k,0,j,0):Z(k)?L(k):X(k)&&c(k,j)
}}else{X(d)&&c(d,j)
}}},L.addPrefix=function(d,c){P[d]=c
},L.addFilter=function(b){R.push(b)
},L.errorTimeout=10000,ao.readyState==null&&ao.addEventListener&&(ao.readyState="loading",ao.addEventListener("DOMContentLoaded",N=function(){ao.removeEventListener("DOMContentLoaded",N,0),ao.readyState="complete"
},0)),ap.yepnope=am()
}(this,this.document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))
};
(function(f,c,a,g){var b=(navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?true:false);
var d=function(j,h){this.elem=j;
this.$elem=f(j);
this.options=h;
this.metadata=this.$elem.data("stickem-options");
this.$win=b?f(a):f(c)
};
d.prototype={defaults:{item:".stickem",container:".stickem-container",stickClass:"stickit",endStickClass:"stickit-end",offset:0,start:0,onStick:null,onUnstick:null},init:function(){var h=this;
h.config=f.extend({},h.defaults,h.options,h.metadata);
if(h.config.scrollContainer){h.$win=f(h.config.scrollContainer)
}h.setWindowHeight();
h.getItems();
h.bindEvents();
return h
},bindEvents:function(){var h=this;
h.$win.on("scroll.stickem",f.proxy(h.handleScroll,h));
if(!b){h.$win.on("resize.stickem",f.proxy(h.handleResize,h))
}},destroy:function(){var h=this;
h.$win.off("scroll.stickem");
if(!b){h.$win.off("resize.stickem")
}},getItem:function(j,k){var h=this;
var m=f(k);
var l={$elem:m,elemHeight:m.height(),$container:m.parents(h.config.container),isStuck:false,isStuckAtBottom:false};
if(h.windowHeight>l.elemHeight){l.containerHeight=l.$container.outerHeight();
l.containerInner={border:{bottom:parseInt(l.$container.css("border-bottom"),10)||0,top:parseInt(l.$container.css("border-top"),10)||0},padding:{bottom:parseInt(l.$container.css("padding-bottom"),10)||0,top:parseInt(l.$container.css("padding-top"),10)||0}};
l.containerInnerHeight=l.$container.height();
l.containerStart=l.$container.offset().top-h.config.offset+h.config.start+l.containerInner.padding.top+l.containerInner.border.top;
l.scrollFinish=l.containerStart-h.config.start-h.config.offset+(l.containerInnerHeight-l.elemHeight);
if(l.containerInnerHeight>l.elemHeight){h.items.push(l)
}}else{l.$elem.removeClass(h.config.stickClass+" "+h.config.endStickClass)
}},getItems:function(){var h=this;
h.items=[];
h.$elem.find(h.config.item).each(f.proxy(h.getItem,h))
},handleResize:function(){var h=this;
h.getItems();
h.setWindowHeight()
},handleScroll:function(){var j=this;
if(j.items.length>0){var m=j.$win.scrollTop();
for(var k=0,h=j.items.length;
k<h;
k++){var l=j.items[k];
if(m<l.containerStart||m>l.scrollFinish){if(b){if(l.isStuckAtBottom&&m<l.containerStart){l.$elem.removeClass(j.config.endStickClass).addClass(j.config.stickClass)
}}l.$elem.removeClass(j.config.stickClass);
if(m>l.scrollFinish){l.isStuckAtBottom=true;
l.$elem.addClass(j.config.endStickClass)
}l.isStuck=false;
if(j.config.onUnstick){j.config.onUnstick(l)
}}else{if(m>l.containerStart&&m<l.scrollFinish){l.$elem.removeClass(j.config.endStickClass).addClass(j.config.stickClass);
l.isStuck=true;
if(j.config.onStick){j.config.onStick(l)
}}}}}},setWindowHeight:function(){var h=this;
h.windowHeight=h.$win.height()-h.config.offset
}};
d.defaults=d.prototype.defaults;
f.fn.stickem=function(h){this.destroy=function(){this.each(function(){new d(this,h).destroy()
})
};
return this.each(function(){new d(this,h).init()
})
}
})(jQuery,window,document);
/*!
 * jQuery Color Animations v@VERSION
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: @DATE
 */
(function(q,d){var m="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",j=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(r){return[r[1],r[2],r[3],r[4]]
}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(r){return[r[1]*2.55,r[2]*2.55,r[3]*2.55,r[4]]
}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(r){return[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]
}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(r){return[parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16),parseInt(r[3]+r[3],16)]
}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(r){return[r[1],r[2]/100,r[3]/100,r[4]]
}}],f=q.Color=function(s,t,r,u){return new q.Color.fn.parse(s,t,r,u)
},l={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},p={"byte":{floor:true,max:255},percent:{max:1},degrees:{mod:360,floor:true}},o=f.support={},b=q("<p>")[0],a,n=q.each;
b.style.cssText="background-color:rgba(1,1,1,.5)";
o.rgba=b.style.backgroundColor.indexOf("rgba")>-1;
n(l,function(r,s){s.cache="_"+r;
s.props.alpha={idx:3,type:"percent",def:1}
});
function k(s,u,t){var r=p[u.type]||{};
if(s==null){return(t||!u.def)?null:u.def
}s=r.floor?~~s:parseFloat(s);
if(isNaN(s)){return u.def
}if(r.mod){return(s+r.mod)%r.mod
}return 0>s?0:r.max<s?r.max:s
}function g(r){var t=f(),s=t._rgba=[];
r=r.toLowerCase();
n(h,function(y,z){var w,x=z.re.exec(r),v=x&&z.parse(x),u=z.space||"rgba";
if(v){w=t[u](v);
t[l[u].cache]=w[l[u].cache];
s=t._rgba=w._rgba;
return false
}});
if(s.length){if(s.join()==="0,0,0,0"){q.extend(s,a.transparent)
}return t
}return a[r]
}f.fn=q.extend(f.prototype,{parse:function(x,v,r,w){if(x===d){this._rgba=[null,null,null,null];
return this
}if(x.jquery||x.nodeType){x=q(x).css(v);
v=d
}var u=this,t=q.type(x),s=this._rgba=[];
if(v!==d){x=[x,v,r,w];
t="array"
}if(t==="string"){return this.parse(g(x)||a._default)
}if(t==="array"){n(l.rgba.props,function(y,z){s[z.idx]=k(x[z.idx],z)
});
return this
}if(t==="object"){if(x instanceof f){n(l,function(y,z){if(x[z.cache]){u[z.cache]=x[z.cache].slice()
}})
}else{n(l,function(z,A){var y=A.cache;
n(A.props,function(B,C){if(!u[y]&&A.to){if(B==="alpha"||x[B]==null){return
}u[y]=A.to(u._rgba)
}u[y][C.idx]=k(x[B],C,true)
});
if(u[y]&&q.inArray(null,u[y].slice(0,3))<0){u[y][3]=1;
if(A.from){u._rgba=A.from(u[y])
}}})
}return this
}},is:function(t){var r=f(t),u=true,s=this;
n(l,function(v,x){var y,w=r[x.cache];
if(w){y=s[x.cache]||x.to&&x.to(s._rgba)||[];
n(x.props,function(z,A){if(w[A.idx]!=null){u=(w[A.idx]===y[A.idx]);
return u
}})
}return u
});
return u
},_space:function(){var r=[],s=this;
n(l,function(t,u){if(s[u.cache]){r.push(t)
}});
return r.pop()
},transition:function(s,y){var t=f(s),u=t._space(),v=l[u],w=this.alpha()===0?f("transparent"):this,x=w[v.cache]||v.to(w._rgba),r=x.slice();
t=t[v.cache];
n(v.props,function(C,E){var B=E.idx,A=x[B],z=t[B],D=p[E.type]||{};
if(z===null){return
}if(A===null){r[B]=z
}else{if(D.mod){if(z-A>D.mod/2){A+=D.mod
}else{if(A-z>D.mod/2){A-=D.mod
}}}r[B]=k((z-A)*y+A,E)
}});
return this[u](r)
},blend:function(u){if(this._rgba[3]===1){return this
}var t=this._rgba.slice(),s=t.pop(),r=f(u)._rgba;
return f(q.map(t,function(w,x){return(1-s)*r[x]+s*w
}))
},toRgbaString:function(){var s="rgba(",r=q.map(this._rgba,function(t,u){return t==null?(u>2?1:0):t
});
if(r[3]===1){r.pop();
s="rgb("
}return s+r.join()+")"
},toHslaString:function(){var s="hsla(",r=q.map(this.hsla(),function(t,u){if(t==null){t=u>2?1:0
}if(u&&u<3){t=Math.round(t*100)+"%"
}return t
});
if(r[3]===1){r.pop();
s="hsl("
}return s+r.join()+")"
},toHexString:function(r){var s=this._rgba.slice(),t=s.pop();
if(r){s.push(~~(t*255))
}return"#"+q.map(s,function(u){u=(u||0).toString(16);
return u.length===1?"0"+u:u
}).join("")
},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()
}});
f.fn.parse.prototype=f.fn;
function c(t,s,r){r=(r+1)%1;
if(r*6<1){return t+(s-t)*r*6
}if(r*2<1){return s
}if(r*3<2){return t+(s-t)*((2/3)-r)*6
}return t
}l.hsla.to=function(v){if(v[0]==null||v[1]==null||v[2]==null){return[null,null,null,v[3]]
}var t=v[0]/255,y=v[1]/255,z=v[2]/255,B=v[3],A=Math.max(t,y,z),w=Math.min(t,y,z),C=A-w,D=A+w,u=D*0.5,x,E;
if(w===A){x=0
}else{if(t===A){x=(60*(y-z)/C)+360
}else{if(y===A){x=(60*(z-t)/C)+120
}else{x=(60*(t-y)/C)+240
}}}if(C===0){E=0
}else{if(u<=0.5){E=C/D
}else{E=C/(2-D)
}}return[Math.round(x)%360,E,u,B==null?1:B]
};
l.hsla.from=function(w){if(w[0]==null||w[1]==null||w[2]==null){return[null,null,null,w[3]]
}var v=w[0]/360,u=w[1],t=w[2],r=w[3],x=t<=0.5?t*(1+u):t+u-t*u,y=2*t-x;
return[Math.round(c(y,x,v+(1/3))*255),Math.round(c(y,x,v)*255),Math.round(c(y,x,v-(1/3))*255),r]
};
n(l,function(s,u){var t=u.props,r=u.cache,w=u.to,v=u.from;
f.fn[s]=function(B){if(w&&!this[r]){this[r]=w(this._rgba)
}if(B===d){return this[r].slice()
}var y,A=q.type(B),x=(A==="array"||A==="object")?B:arguments,z=this[r].slice();
n(t,function(C,E){var D=x[A==="object"?C:E.idx];
if(D==null){D=z[E.idx]
}z[E.idx]=k(D,E)
});
if(v){y=f(v(z));
y[r]=z;
return y
}else{return f(z)
}};
n(t,function(x,y){if(f.fn[x]){return
}f.fn[x]=function(C){var E=q.type(C),B=(x==="alpha"?(this._hsla?"hsla":"rgba"):s),A=this[B](),D=A[y.idx],z;
if(E==="undefined"){return D
}if(E==="function"){C=C.call(this,D);
E=q.type(C)
}if(C==null&&y.empty){return this
}if(E==="string"){z=j.exec(C);
if(z){C=D+parseFloat(z[2])*(z[1]==="+"?1:-1)
}}A[y.idx]=C;
return this[B](A)
}
})
});
f.hook=function(s){var r=s.split(" ");
n(r,function(t,u){q.cssHooks[u]={set:function(y,z){var w,x,v="";
if(z!=="transparent"&&(q.type(z)!=="string"||(w=g(z)))){z=f(w||z);
if(!o.rgba&&z._rgba[3]!==1){x=u==="backgroundColor"?y.parentNode:y;
while((v===""||v==="transparent")&&x&&x.style){try{v=q.css(x,"backgroundColor");
x=x.parentNode
}catch(A){}}z=z.blend(v&&v!=="transparent"?v:"_default")
}z=z.toRgbaString()
}try{y.style[u]=z
}catch(A){}}};
q.fx.step[u]=function(v){if(!v.colorInit){v.start=f(v.elem,u);
v.end=f(v.end);
v.colorInit=true
}q.cssHooks[u].set(v.elem,v.start.transition(v.end,v.pos))
}
})
};
f.hook(m);
q.cssHooks.borderColor={expand:function(s){var r={};
n(["Top","Right","Bottom","Left"],function(u,t){r["border"+t+"Color"]=s
});
return r
}};
a=q.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}
}(jQuery));
/*! Hammer.JS - v1.0.5 - 2013-04-07
 * http://eightmedia.github.com/hammer.js
 *
 * Copyright (c) 2013 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */
(function(D,l){var y=function(O,N){return new y.Instance(O,N||{})
};
y.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};
y.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled;
y.HAS_TOUCHEVENTS=("ontouchstart" in D);
y.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i;
y.NO_MOUSEEVENTS=y.HAS_TOUCHEVENTS&&navigator.userAgent.match(y.MOBILE_REGEX);
y.EVENT_TYPES={};
y.DIRECTION_DOWN="down";
y.DIRECTION_LEFT="left";
y.DIRECTION_UP="up";
y.DIRECTION_RIGHT="right";
y.POINTER_MOUSE="mouse";
y.POINTER_TOUCH="touch";
y.POINTER_PEN="pen";
y.EVENT_START="start";
y.EVENT_MOVE="move";
y.EVENT_END="end";
y.DOCUMENT=document;
y.plugins={};
y.READY=false;
function f(){if(y.READY){return
}y.event.determineEventTypes();
for(var N in y.gestures){if(y.gestures.hasOwnProperty(N)){y.detection.register(y.gestures[N])
}}y.event.onTouch(y.DOCUMENT,y.EVENT_MOVE,y.detection.detect);
y.event.onTouch(y.DOCUMENT,y.EVENT_END,y.detection.detect);
y.READY=true
}y.Instance=function(P,O){var N=this;
f();
this.element=P;
this.enabled=true;
this.options=y.utils.extend(y.utils.extend({},y.defaults),O||{});
if(this.options.stop_browser_behavior){y.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior)
}y.event.onTouch(P,y.EVENT_START,function(Q){if(N.enabled){y.detection.startDetect(N,Q)
}});
return this
};
y.Instance.prototype={on:function E(O,P){var Q=O.split(" ");
for(var N=0;
N<Q.length;
N++){this.element.addEventListener(Q[N],P,false)
}return this
},off:function q(O,P){var Q=O.split(" ");
for(var N=0;
N<Q.length;
N++){this.element.removeEventListener(Q[N],P,false)
}return this
},trigger:function I(O,Q){var P=y.DOCUMENT.createEvent("Event");
P.initEvent(O,true,true);
P.gesture=Q;
var N=this.element;
if(y.utils.hasParent(Q.target,N)){N=Q.target
}N.dispatchEvent(P);
return this
},enable:function d(N){this.enabled=N;
return this
}};
var H=null;
var n=false;
var j=false;
y.event={bindDom:function(P,R,Q){var O=R.split(" ");
for(var N=0;
N<O.length;
N++){P.addEventListener(O[N],Q,false)
}},onTouch:function B(P,O,Q){var N=this;
this.bindDom(P,y.EVENT_TYPES[O],function R(T){var U=T.type.toLowerCase();
if(U.match(/mouse/)&&j){return
}else{if(U.match(/touch/)||U.match(/pointerdown/)||(U.match(/mouse/)&&T.which===1)){n=true
}}if(U.match(/touch|pointer/)){j=true
}var S=0;
if(n){if(y.HAS_POINTEREVENTS&&O!=y.EVENT_END){S=y.PointerEvent.updatePointer(O,T)
}else{if(U.match(/touch/)){S=T.touches.length
}else{if(!j){S=U.match(/up/)?0:1
}}}if(S>0&&O==y.EVENT_END){O=y.EVENT_MOVE
}else{if(!S){O=y.EVENT_END
}}if(!S&&H!==null){T=H
}else{H=T
}Q.call(y.detection,N.collectEventData(P,O,T));
if(y.HAS_POINTEREVENTS&&O==y.EVENT_END){S=y.PointerEvent.updatePointer(O,T)
}}if(!S){H=null;
n=false;
j=false;
y.PointerEvent.reset()
}})
},determineEventTypes:function G(){var N;
if(y.HAS_POINTEREVENTS){N=y.PointerEvent.getEvents()
}else{if(y.NO_MOUSEEVENTS){N=["touchstart","touchmove","touchend touchcancel"]
}else{N=["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"]
}}y.EVENT_TYPES[y.EVENT_START]=N[0];
y.EVENT_TYPES[y.EVENT_MOVE]=N[1];
y.EVENT_TYPES[y.EVENT_END]=N[2]
},getTouchList:function u(N){if(y.HAS_POINTEREVENTS){return y.PointerEvent.getTouchList()
}else{if(N.touches){return N.touches
}else{return[{identifier:1,pageX:N.pageX,pageY:N.pageY,target:N.target}]
}}},collectEventData:function L(P,O,Q){var R=this.getTouchList(Q,O);
var N=y.POINTER_TOUCH;
if(Q.type.match(/mouse/)||y.PointerEvent.matchType(y.POINTER_MOUSE,Q)){N=y.POINTER_MOUSE
}return{center:y.utils.getCenter(R),timeStamp:new Date().getTime(),target:Q.target,touches:R,eventType:O,pointerType:N,srcEvent:Q,preventDefault:function(){if(this.srcEvent.preventManipulation){this.srcEvent.preventManipulation()
}if(this.srcEvent.preventDefault){this.srcEvent.preventDefault()
}},stopPropagation:function(){this.srcEvent.stopPropagation()
},stopDetect:function(){return y.detection.stopDetect()
}}
}};
y.PointerEvent={pointers:{},getTouchList:function(){var N=this;
var O=[];
Object.keys(N.pointers).sort().forEach(function(P){O.push(N.pointers[P])
});
return O
},updatePointer:function(O,N){if(O==y.EVENT_END){this.pointers={}
}else{N.identifier=N.pointerId;
this.pointers[N.pointerId]=N
}return Object.keys(this.pointers).length
},matchType:function(N,P){if(!P.pointerType){return false
}var O={};
O[y.POINTER_MOUSE]=(P.pointerType==P.MSPOINTER_TYPE_MOUSE||P.pointerType==y.POINTER_MOUSE);
O[y.POINTER_TOUCH]=(P.pointerType==P.MSPOINTER_TYPE_TOUCH||P.pointerType==y.POINTER_TOUCH);
O[y.POINTER_PEN]=(P.pointerType==P.MSPOINTER_TYPE_PEN||P.pointerType==y.POINTER_PEN);
return O[N]
},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]
},reset:function(){this.pointers={}
}};
y.utils={extend:function k(N,P,Q){for(var O in P){if(N[O]!==l&&Q){continue
}N[O]=P[O]
}return N
},hasParent:function(O,N){while(O){if(O==N){return true
}O=O.parentNode
}return false
},getCenter:function z(Q){var R=[],P=[];
for(var O=0,N=Q.length;
O<N;
O++){R.push(Q[O].pageX);
P.push(Q[O].pageY)
}return{pageX:((Math.min.apply(Math,R)+Math.max.apply(Math,R))/2),pageY:((Math.min.apply(Math,P)+Math.max.apply(Math,P))/2)}
},getVelocity:function a(N,P,O){return{x:Math.abs(P/N)||0,y:Math.abs(O/N)||0}
},getAngle:function p(P,O){var Q=O.pageY-P.pageY,N=O.pageX-P.pageX;
return Math.atan2(Q,N)*180/Math.PI
},getDirection:function m(P,O){var N=Math.abs(P.pageX-O.pageX),Q=Math.abs(P.pageY-O.pageY);
if(N>=Q){return P.pageX-O.pageX>0?y.DIRECTION_LEFT:y.DIRECTION_RIGHT
}else{return P.pageY-O.pageY>0?y.DIRECTION_UP:y.DIRECTION_DOWN
}},getDistance:function o(P,O){var N=O.pageX-P.pageX,Q=O.pageY-P.pageY;
return Math.sqrt((N*N)+(Q*Q))
},getScale:function x(O,N){if(O.length>=2&&N.length>=2){return this.getDistance(N[0],N[1])/this.getDistance(O[0],O[1])
}return 1
},getRotation:function v(O,N){if(O.length>=2&&N.length>=2){return this.getAngle(N[1],N[0])-this.getAngle(O[1],O[0])
}return 0
},isVertical:function C(N){return(N==y.DIRECTION_UP||N==y.DIRECTION_DOWN)
},stopDefaultBrowserBehavior:function c(P,O){var S,R=["webkit","khtml","moz","ms","o",""];
if(!O||!P.style){return
}for(var N=0;
N<R.length;
N++){for(var Q in O){if(O.hasOwnProperty(Q)){S=Q;
if(R[N]){S=R[N]+S.substring(0,1).toUpperCase()+S.substring(1)
}P.style[S]=O[Q]
}}}if(O.userSelect=="none"){P.onselectstart=function(){return false
}
}}};
y.detection={gestures:[],current:null,previous:null,stopped:false,startDetect:function A(O,N){if(this.current){return
}this.stopped=false;
this.current={inst:O,startEvent:y.utils.extend({},N),lastEvent:false,name:""};
this.detect(N)
},detect:function s(Q){if(!this.current||this.stopped){return
}Q=this.extendEventData(Q);
var R=this.current.inst.options;
for(var P=0,N=this.gestures.length;
P<N;
P++){var O=this.gestures[P];
if(!this.stopped&&R[O.name]!==false){if(O.handler.call(O,Q,this.current.inst)===false){this.stopDetect();
break
}}}if(this.current){this.current.lastEvent=Q
}if(Q.eventType==y.EVENT_END&&!Q.touches.length-1){this.stopDetect()
}return Q
},stopDetect:function b(){this.previous=y.utils.extend({},this.current);
this.current=null;
this.stopped=true
},extendEventData:function w(R){var S=this.current.startEvent;
if(S&&(R.touches.length!=S.touches.length||R.touches===S.touches)){S.touches=[];
for(var P=0,N=R.touches.length;
P<N;
P++){S.touches.push(y.utils.extend({},R.touches[P]))
}}var O=R.timeStamp-S.timeStamp,U=R.center.pageX-S.center.pageX,T=R.center.pageY-S.center.pageY,Q=y.utils.getVelocity(O,U,T);
y.utils.extend(R,{deltaTime:O,deltaX:U,deltaY:T,velocityX:Q.x,velocityY:Q.y,distance:y.utils.getDistance(S.center,R.center),angle:y.utils.getAngle(S.center,R.center),direction:y.utils.getDirection(S.center,R.center),scale:y.utils.getScale(S.touches,R.touches),rotation:y.utils.getRotation(S.touches,R.touches),startEvent:S});
return R
},register:function g(O){var N=O.defaults||{};
if(N[O.name]===l){N[O.name]=true
}y.utils.extend(y.defaults,N,true);
O.index=O.index||1000;
this.gestures.push(O);
this.gestures.sort(function(Q,P){if(Q.index<P.index){return -1
}if(Q.index>P.index){return 1
}return 0
});
return this.gestures
}};
y.gestures=y.gestures||{};
y.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function K(N,O){switch(N.eventType){case y.EVENT_START:clearTimeout(this.timer);
y.detection.current.name=this.name;
this.timer=setTimeout(function(){if(y.detection.current.name=="hold"){O.trigger("hold",N)
}},O.options.hold_timeout);
break;
case y.EVENT_MOVE:if(N.distance>O.options.hold_threshold){clearTimeout(this.timer)
}break;
case y.EVENT_END:clearTimeout(this.timer);
break
}}};
y.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:true,doubletap_distance:20,doubletap_interval:300},handler:function F(P,Q){if(P.eventType==y.EVENT_END){var O=y.detection.previous,N=false;
if(P.deltaTime>Q.options.tap_max_touchtime||P.distance>Q.options.tap_max_distance){return
}if(O&&O.name=="tap"&&(P.timeStamp-O.lastEvent.timeStamp)<Q.options.doubletap_interval&&P.distance<Q.options.doubletap_distance){Q.trigger("doubletap",P);
N=true
}if(!N||Q.options.tap_always){y.detection.current.name="tap";
Q.trigger(y.detection.current.name,P)
}}}};
y.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:0.7},handler:function M(N,O){if(N.eventType==y.EVENT_END){if(O.options.swipe_max_touches>0&&N.touches.length>O.options.swipe_max_touches){return
}if(N.velocityX>O.options.swipe_velocity||N.velocityY>O.options.swipe_velocity){O.trigger(this.name,N);
O.trigger(this.name+N.direction,N)
}}}};
y.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:false,drag_block_vertical:false,drag_lock_to_axis:false,drag_lock_min_distance:25},triggered:false,handler:function t(N,O){if(y.detection.current.name!=this.name&&this.triggered){O.trigger(this.name+"end",N);
this.triggered=false;
return
}if(O.options.drag_max_touches>0&&N.touches.length>O.options.drag_max_touches){return
}switch(N.eventType){case y.EVENT_START:this.triggered=false;
break;
case y.EVENT_MOVE:if(N.distance<O.options.drag_min_distance&&y.detection.current.name!=this.name){return
}y.detection.current.name=this.name;
if(y.detection.current.lastEvent.drag_locked_to_axis||(O.options.drag_lock_to_axis&&O.options.drag_lock_min_distance<=N.distance)){N.drag_locked_to_axis=true
}var P=y.detection.current.lastEvent.direction;
if(N.drag_locked_to_axis&&P!==N.direction){if(y.utils.isVertical(P)){N.direction=(N.deltaY<0)?y.DIRECTION_UP:y.DIRECTION_DOWN
}else{N.direction=(N.deltaX<0)?y.DIRECTION_LEFT:y.DIRECTION_RIGHT
}}if(!this.triggered){O.trigger(this.name+"start",N);
this.triggered=true
}O.trigger(this.name,N);
O.trigger(this.name+N.direction,N);
if((O.options.drag_block_vertical&&y.utils.isVertical(N.direction))||(O.options.drag_block_horizontal&&!y.utils.isVertical(N.direction))){N.preventDefault()
}break;
case y.EVENT_END:if(this.triggered){O.trigger(this.name+"end",N)
}this.triggered=false;
break
}}};
y.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:0.01,transform_min_rotation:1,transform_always_block:false},triggered:false,handler:function r(P,Q){if(y.detection.current.name!=this.name&&this.triggered){Q.trigger(this.name+"end",P);
this.triggered=false;
return
}if(P.touches.length<2){return
}if(Q.options.transform_always_block){P.preventDefault()
}switch(P.eventType){case y.EVENT_START:this.triggered=false;
break;
case y.EVENT_MOVE:var O=Math.abs(1-P.scale);
var N=Math.abs(P.rotation);
if(O<Q.options.transform_min_scale&&N<Q.options.transform_min_rotation){return
}y.detection.current.name=this.name;
if(!this.triggered){Q.trigger(this.name+"start",P);
this.triggered=true
}Q.trigger(this.name,P);
if(N>Q.options.transform_min_rotation){Q.trigger("rotate",P)
}if(O>Q.options.transform_min_scale){Q.trigger("pinch",P);
Q.trigger("pinch"+((P.scale<1)?"in":"out"),P)
}break;
case y.EVENT_END:if(this.triggered){Q.trigger(this.name+"end",P)
}this.triggered=false;
break
}}};
y.gestures.Touch={name:"touch",index:-Infinity,defaults:{prevent_default:false,prevent_mouseevents:false},handler:function h(N,O){if(O.options.prevent_mouseevents&&N.pointerType==y.POINTER_MOUSE){N.stopDetect();
return
}if(O.options.prevent_default){N.preventDefault()
}if(N.eventType==y.EVENT_START){O.trigger(this.name,N)
}}};
y.gestures.Release={name:"release",index:Infinity,handler:function J(N,O){if(N.eventType==y.EVENT_END){O.trigger(this.name,N)
}}};
if(typeof module==="object"&&typeof module.exports==="object"){module.exports=y
}else{D.Hammer=y;
if(typeof D.define==="function"&&D.define.amd){D.define("hammer",[],function(){return y
})
}}})(this);
(function(a,b){if(a===b){return
}Hammer.event.bindDom=function(c,f,d){a(c).on(f,function(g){var h=g.originalEvent||g;
if(h.pageX===b){h.pageX=g.pageX;
h.pageY=g.pageY
}if(!h.target){h.target=g.target
}if(h.which===b){h.which=h.button
}if(!h.preventDefault){h.preventDefault=g.preventDefault
}if(!h.stopPropagation){h.stopPropagation=g.stopPropagation
}d.call(this,h)
})
};
Hammer.Instance.prototype.on=function(c,d){return a(this.element).on(c,d)
};
Hammer.Instance.prototype.off=function(c,d){return a(this.element).off(c,d)
};
Hammer.Instance.prototype.trigger=function(c,f){var d=a(this.element);
if(d.has(f.target).length){d=a(f.target)
}return d.trigger({type:c,gesture:f})
};
a.fn.hammer=function(c){return this.each(function(){var d=a(this);
var f=d.data("hammer");
if(!f){d.data("hammer",new Hammer(this,c||{}))
}else{if(f&&c){Hammer.utils.extend(f.options,c)
}}})
}
})(window.jQuery||window.Zepto);
(function(f,g,d){if(typeof module!=="undefined"){module.exports=d(f,g)
}else{if(typeof define==="function"&&typeof define.amd==="object"){define(d)
}else{g[f]=d(f,g)
}}})("radio",this,function(d,g){function f(a){f.$.channel(a);
return f.$
}f.$={version:"0.2",channelName:"",channels:[],broadcast:function(){var k,a=this.channels[this.channelName],m=a.length,c,b,l;
for(k=0;
k<m;
k++){c=a[k];
if((typeof(c)==="object")&&(c.length)){b=c[0];
l=c[1]||g
}if(!_.isUndefined(b)){b.apply(l,arguments)
}}return this
},channel:function(b){var a=this.channels;
if(!a[b]){a[b]=[]
}this.channelName=b;
return this
},subscribe:function(){var k=arguments,a=this.channels[this.channelName],c,l=k.length,b,m=[];
for(c=0;
c<l;
c++){m=k[c];
b=(typeof(m)==="function")?[m]:m;
if((typeof(b)==="object")&&(b.length)){a.push(b)
}}return this
},unsubscribe:function(){var j=arguments,b,c,q=this.channels[this.channelName],l=j.length,o=q.length,a=0,p;
for(b=0;
b<l;
b++){a=0;
o=q.length;
for(c=0;
c<o;
c++){p=c-a;
if(q[p][0]===j[b]){q.splice(p,1);
a++
}}}return this
}};
return f
});
(function(q){var k,b,g="0.4.2",d="hasOwnProperty",m=/[\.\/]/,v="*",c=function(){},f=function(a,h){return a-h
},j={n:{}},p=function(F,w){F+="";
var u,E=b,G=Array.prototype.slice.call(arguments,2),r=p.listeners(F),y=0,C=[],A={},l=[],B=k;
k=F,b=0;
for(var z=0,D=r.length;
D>z;
z++){"zIndex" in r[z]&&(C.push(r[z].zIndex),0>r[z].zIndex&&(A[r[z].zIndex]=r[z]))
}for(C.sort(f);
0>C[y];
){if(u=A[C[y++]],l.push(u.apply(w,G)),b){return b=E,l
}}for(z=0;
D>z;
z++){if(u=r[z],"zIndex" in u){if(u.zIndex==C[y]){if(l.push(u.apply(w,G)),b){break
}do{if(y++,u=A[C[y]],u&&l.push(u.apply(w,G)),b){break
}}while(u)
}else{A[u.zIndex]=u
}}else{if(l.push(u.apply(w,G)),b){break
}}}return b=E,k=B,l.length?l:null
};
p._events=j,p.listeners=function(F){var B,a,y,w,s,x,E,D,A=F.split(m),h=j,C=[h],z=[];
for(w=0,s=A.length;
s>w;
w++){for(D=[],x=0,E=C.length;
E>x;
x++){for(h=C[x].n,a=[h[A[w]],h[v]],y=2;
y--;
){B=a[y],B&&(D.push(B),z=z.concat(B.f||[]))
}}C=D
}return z
},p.on=function(h,u){if(h+="","function"!=typeof u){return function(){}
}for(var o=h.split(m),a=j,w=0,l=o.length;
l>w;
w++){a=a.n,a=a.hasOwnProperty(o[w])&&a[o[w]]||(a[o[w]]={n:{}})
}for(a.f=a.f||[],w=0,l=a.f.length;
l>w;
w++){if(a.f[w]==u){return c
}}return a.f.push(u),function(n){+n==+n&&(u.zIndex=+n)
}
},p.f=function(a){var h=[].slice.call(arguments,1);
return function(){p.apply(null,[a,null].concat(h).concat([].slice.call(arguments,0)))
}
},p.stop=function(){b=1
},p.nt=function(a){return a?RegExp("(?:\\.|\\/|^)"+a+"(?:\\.|\\/|$)").test(k):k
},p.nts=function(){return k.split(m)
},p.off=p.unbind=function(D,z){if(!D){return p._events=j={n:{}},void 0
}var a,u,n,s,B,y,h,A=D.split(m),w=[j];
for(s=0,B=A.length;
B>s;
s++){for(y=0;
w.length>y;
y+=n.length-2){if(n=[y,1],a=w[y].n,A[s]!=v){a[A[s]]&&n.push(a[A[s]])
}else{for(u in a){a[d](u)&&n.push(a[u])
}}w.splice.apply(w,n)
}}for(s=0,B=w.length;
B>s;
s++){for(a=w[s];
a.n;
){if(z){if(a.f){for(y=0,h=a.f.length;
h>y;
y++){if(a.f[y]==z){a.f.splice(y,1);
break
}}!a.f.length&&delete a.f
}for(u in a.n){if(a.n[d](u)&&a.n[u].f){var C=a.n[u].f;
for(y=0,h=C.length;
h>y;
y++){if(C[y]==z){C.splice(y,1);
break
}}!C.length&&delete a.n[u].f
}}}else{delete a.f;
for(u in a.n){a.n[d](u)&&a.n[u].f&&delete a.n[u].f
}}a=a.n
}}},p.once=function(a,l){var h=function(){return p.unbind(a,h),l.apply(this,arguments)
};
return p.on(a,h)
},p.version=g,p.toString=function(){return"You are running Eve "+g
},"undefined"!=typeof module&&module.exports?module.exports=p:"undefined"!=typeof define?define("eve",[],function(){return p
}):q.eve=p
})(this),function(a,b){"function"==typeof define&&define.amd?define(["eve"],function(c){return b(a,c)
}):b(a,a.eve)
}(this,function(aG,a1){function aI(b){if(aI.is(b,"function")){return a6?b():a1.on("raphael.DOMload",b)
}if(aI.is(b,bB)){return aI._engine.create[bs](aI,b.splice(0,3+aI.is(b[0],bf))).add(b)
}var a=Array.prototype.slice.call(arguments,0);
if(aI.is(a[a.length-1],"function")){var c=a.pop();
return a6?c.call(aI._engine.create[bs](aI,a)):a1.on("raphael.DOMload",function(){c.call(aI._engine.create[bs](aI,a))
})
}return aI._engine.create[bs](aI,arguments)
}function aV(a){if(Object(a)!==a){return a
}var c=new a.constructor;
for(var b in a){a[bK](b)&&(c[b]=aV(a[b]))
}return c
}function aO(b,d){for(var c=0,a=b.length;
a>c;
c++){if(b[c]===d){return b.push(b.splice(c,1)[0])
}}}function a7(b,d,c){function a(){var g=Array.prototype.slice.call(arguments,0),h=g.join(""),j=a.cache=a.cache||{},f=a.count=a.count||[];
return j[bK](h)?(aO(f,h),c?c(j[h]):j[h]):(f.length>=1000&&delete j[f.shift()],f.push(h),j[h]=b[bs](d,g),c?c(j[h]):j[h])
}return a
}function aH(){return this.hex
}function aN(d,g){for(var f=[],c=0,h=d.length;
h-2*!g>c;
c+=2){var b=[{x:+d[c-2],y:+d[c-1]},{x:+d[c],y:+d[c+1]},{x:+d[c+2],y:+d[c+3]},{x:+d[c+4],y:+d[c+5]}];
g?c?h-4==c?b[3]={x:+d[0],y:+d[1]}:h-2==c&&(b[2]={x:+d[0],y:+d[1]},b[3]={x:+d[2],y:+d[3]}):b[0]={x:+d[h-2],y:+d[h-1]}:h-4==c?b[3]=b[2]:c||(b[0]={x:+d[c],y:+d[c+1]}),f.push(["C",(-b[0].x+6*b[1].x+b[2].x)/6,(-b[0].y+6*b[1].y+b[2].y)/6,(b[1].x+6*b[2].x-b[3].x)/6,(b[1].y+6*b[2].y-b[3].y)/6,b[2].x,b[2].y])
}return f
}function aS(d,h,g,c,j){var b=-3*h+9*g-9*c+3*j,f=d*b+6*h-12*g+6*c;
return d*f-3*h+3*g
}function aW(q,I,z,E,C,L,w,B,F){null==F&&(F=1),F=F>1?1:0>F?0:F;
for(var l=F/2,K=12,H=[-0.1252,0.1252,-0.3678,0.3678,-0.5873,0.5873,-0.7699,0.7699,-0.9041,0.9041,-0.9816,0.9816],A=[0.2491,0.2491,0.2335,0.2335,0.2032,0.2032,0.1601,0.1601,0.1069,0.1069,0.0472,0.0472],J=0,G=0;
K>G;
G++){var j=l*H[G]+l,k=aS(j,q,z,C,w),b=aS(j,I,E,L,B),D=k*k+b*b;
J+=A[G]*aK.sqrt(D)
}return l*J
}function aF(A,v,b,m,j,y,B,h,k){if(!(0>k||k>aW(A,v,b,m,j,y,B,h))){var z,x=1,q=x/2,g=x-q,w=0.01;
for(z=aW(A,v,b,m,j,y,B,h,g);
bh(z-k)>w;
){q/=2,g+=(k>z?1:-1)*q,z=aW(A,v,b,m,j,y,B,h,g)
}return g
}}function a3(C,x,b,q,k,A,D,j){if(!(bG(C,b)<bq(k,D)||bq(C,b)>bG(k,D)||bG(x,q)<bq(A,j)||bq(x,q)>bG(A,j))){var m=(C*q-x*b)*(k-D)-(C-b)*(k*j-A*D),v=(C*q-x*b)*(A-j)-(x-q)*(k*j-A*D),B=(C-b)*(A-j)-(x-q)*(k-D);
if(B){var z=m/B,w=v/B,g=+z.toFixed(2),y=+w.toFixed(2);
if(!(+bq(C,b).toFixed(2)>g||g>+bG(C,b).toFixed(2)||+bq(k,D).toFixed(2)>g||g>+bG(k,D).toFixed(2)||+bq(x,q).toFixed(2)>y||y>+bG(x,q).toFixed(2)||+bq(A,j).toFixed(2)>y||y>+bG(A,j).toFixed(2))){return{x:z,y:w}
}}}}function a0(D,Q,N){var J=aI.bezierBBox(D),V=aI.bezierBBox(Q);
if(!aI.isBBoxIntersect(J,V)){return N?0:[]
}for(var E=aW.apply(0,D),I=aW.apply(0,Q),L=~~(E/5),A=~~(I/5),P=[],H=[],R={},O=N?0:[],q=0;
L+1>q;
q++){var z=aI.findDotsAtSegment.apply(aI,D.concat(q/L));
P.push({x:z.x,y:z.y,t:q/L})
}for(q=0;
A+1>q;
q++){z=aI.findDotsAtSegment.apply(aI,Q.concat(q/A)),H.push({x:z.x,y:z.y,t:q/A})
}for(q=0;
L>q;
q++){for(var j=0;
A>j;
j++){var K=P[q],U=P[q+1],W=H[j],r=H[j+1],M=0.001>bh(U.x-K.x)?"y":"x",F=0.001>bh(r.x-W.x)?"y":"x",G=a3(K.x,K.y,U.x,U.y,W.x,W.y,r.x,r.y);
if(G){if(R[G.x.toFixed(4)]==G.y.toFixed(4)){continue
}R[G.x.toFixed(4)]=G.y.toFixed(4);
var h=K.t+bh((G[M]-K[M])/(U[M]-K[M]))*(U.t-K.t),c=W.t+bh((G[F]-W[F])/(r[F]-W[F]))*(r.t-W.t);
h>=0&&1>=h&&c>=0&&1>=c&&(N?O++:O.push({x:G.x,y:G.y,t1:h,t2:c}))
}}}return O
}function aM(A,N,K){A=aI._path2curve(A),N=aI._path2curve(N);
for(var G,R,B,F,I,L,z,P,E,O,M=K?0:[],j=0,r=A.length;
r>j;
j++){var f=A[j];
if("M"==f[0]){G=I=f[1],R=L=f[2]
}else{"C"==f[0]?(E=[G,R].concat(f.slice(1)),G=E[6],R=E[7]):(E=[G,R,G,R,I,L,I,L],G=I,R=L);
for(var H=0,Q=N.length;
Q>H;
H++){var S=N[H];
if("M"==S[0]){B=z=S[1],F=P=S[2]
}else{"C"==S[0]?(O=[B,F].concat(S.slice(1)),B=O[6],F=O[7]):(O=[B,F,B,F,z,P,z,P],B=z,F=P);
var q=a0(E,O,K);
if(K){M+=q
}else{for(var J=0,D=q.length;
D>J;
J++){q[J].segment1=j,q[J].segment2=H,q[J].bez1=E,q[J].bez2=O
}M=M.concat(q)
}}}}}return M
}function a2(d,g,f,c,h,b){null!=d?(this.a=+d,this.b=+g,this.c=+f,this.d=+c,this.e=+h,this.f=+b):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)
}function aZ(){return this.x+az+this.y+az+this.width+"  "+this.height
}function aB(C,x,b,q,k,A){function D(a){return((z*a+B)*a+v)*a
}function j(a,d){var c=m(a,d);
return((y*c+g)*c+w)*c
}function m(h,s){var p,f,E,d,u,c;
for(E=h,c=0;
8>c;
c++){if(d=D(E)-h,s>bh(d)){return E
}if(u=(3*z*E+2*B)*E+v,0.000001>bh(u)){break
}E-=d/u
}if(p=0,f=1,E=h,p>E){return p
}if(E>f){return f
}for(;
f>p;
){if(d=D(E),s>bh(d-h)){return E
}h>d?p=E:f=E,E=(f-p)/2+p
}return E
}var v=3*x,B=3*(q-x)-v,z=1-v-B,w=3*b,g=3*(k-b)-w,y=1-w-g;
return j(C,1/(200*A))
}function aD(b,d){var c=[],a={};
if(this.ms=d,this.times=1,b){for(var f in b){b[bK](f)&&(a[bw(f)]=b[f],c.push(bw(f)))
}c.sort(aJ)
}this.anim=a,this.top=c[c.length-1],this.percents=c
}function aA(U,ch,cc,cn,X,be){cc=bw(cc);
var ce,ci,Q,cl,ck,ar,cj=U.ms,P={},J={},cd={};
if(cn){for(co=0,cf=aE.length;
cf>co;
co++){var cm=aE[co];
if(cm.el.id==ch.id&&cm.anim==U){cm.percent!=cc?(aE.splice(co,1),Q=1):ci=cm,ch.attr(cm.totalOrigin);
break
}}}else{cn=+J
}for(var co=0,cf=U.percents.length;
cf>co;
co++){if(U.percents[co]==cc||U.percents[co]>cn*U.top){cc=U.percents[co],ck=U.percents[co-1]||0,cj=cj/U.top*(cc-ck),cl=U.percents[co+1],ce=U.anim[cc];
break
}cn&&ch.attr(U.anim[U.percents[co]])
}if(ce){if(ci){ci.initstatus=cn,ci.start=new Date-ci.ms*cn
}else{for(var Y in ce){if(ce[bK](Y)&&(aQ[bK](Y)||ch.paper.customAttributes[bK](Y))){switch(P[Y]=ch.attr(Y),null==P[Y]&&(P[Y]=b8[Y]),J[Y]=ce[Y],aQ[Y]){case bf:cd[Y]=(J[Y]-P[Y])/cj;
break;
case"colour":P[Y]=aI.getRGB(P[Y]);
var w=aI.getRGB(J[Y]);
cd[Y]={r:(w.r-P[Y].r)/cj,g:(w.g-P[Y].g)/cj,b:(w.b-P[Y].b)/cj};
break;
case"path":var r=ak(P[Y],J[Y]),ae=r[1];
for(P[Y]=r[0],cd[Y]=[],co=0,cf=P[Y].length;
cf>co;
co++){cd[Y][co]=[0];
for(var E=1,G=P[Y][co].length;
G>E;
E++){cd[Y][co][E]=(ae[co][E]-P[Y][co][E])/cj
}}break;
case"transform":var F=ch._,H=bI(F[Y],J[Y]);
if(H){for(P[Y]=H.from,J[Y]=H.to,cd[Y]=[],cd[Y].real=!0,co=0,cf=P[Y].length;
cf>co;
co++){for(cd[Y][co]=[P[Y][co][0]],E=1,G=P[Y][co].length;
G>E;
E++){cd[Y][co][E]=(J[Y][co][E]-P[Y][co][E])/cj
}}}else{var x=ch.matrix||new a2,K={_:{transform:F.transform},getBBox:function(){return ch.getBBox(1)
}};
P[Y]=[x.a,x.b,x.c,x.d,x.e,x.f],ah(K,J[Y]),J[Y]=K._.transform,cd[Y]=[(K.matrix.a-x.a)/cj,(K.matrix.b-x.b)/cj,(K.matrix.c-x.c)/cj,(K.matrix.d-x.d)/cj,(K.matrix.e-x.e)/cj,(K.matrix.f-x.f)/cj]
}break;
case"csv":var cg=bE(ce[Y])[bp](aC),Z=bE(P[Y])[bp](aC);
if("clip-rect"==Y){for(P[Y]=Z,cd[Y]=[],co=Z.length;
co--;
){cd[Y][co]=(cg[co]-P[Y][co])/cj
}}J[Y]=cg;
break;
default:for(cg=[][bF](ce[Y]),Z=[][bF](P[Y]),cd[Y]=[],co=ch.paper.customAttributes[Y].length;
co--;
){cd[Y][co]=((cg[co]||0)-(Z[co]||0))/cj
}}}}var W=ce.easing,B=aI.easing_formulas[W];
if(!B){if(B=bE(W).match(bo),B&&5==B.length){var d=B;
B=function(a){return aB(a,+d[1],+d[2],+d[3],+d[4],cj)
}
}else{B=aq
}}if(ar=ce.start||U.start||+new Date,cm={anim:U,percent:cc,timestamp:ar,start:ar+(U.del||0),status:0,initstatus:cn||0,stop:!1,ms:cj,easing:B,from:P,diff:cd,to:J,el:ch,callback:ce.callback,prev:ck,next:cl,repeat:be||U.times,origin:ch.attr(),totalOrigin:X},aE.push(cm),cn&&!ci&&!Q&&(cm.stop=!0,cm.start=new Date-cj*cn,1==aE.length)){return ba()
}Q&&(cm.start=new Date-cm.ms*cn),1==aE.length&&b2(ba)
}a1("raphael.anim.start."+ch.id,ch,U)
}}function aP(a){for(var b=0;
aE.length>b;
b++){aE[b].el.paper==a&&aE.splice(b--,1)
}}aI.version="2.1.0",aI.eve=a1;
var a6,a8,aC=/[, ]+/,aT={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},bJ=/\{(\d+)\}/g,bK="hasOwnProperty",bl={doc:document,win:aG},bj={was:Object.prototype[bK].call(bl.win,"Raphael"),is:bl.win.Raphael},bM=function(){this.ca=this.customAttributes={}
},bs="apply",bF="concat",bv="ontouchstart" in bl.win||bl.win.DocumentTouch&&bl.doc instanceof DocumentTouch,bu="",az=" ",bE=String,bp="split",bm="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[bp](az),by={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},aU=bE.prototype.toLowerCase,aK=Math,bG=aK.max,bq=aK.min,bh=aK.abs,bc=aK.pow,bD=aK.PI,bf="number",bd="string",bB="array",bi=Object.prototype.toString,bX=(aI._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),bb={NaN:1,Infinity:1,"-Infinity":1},bo=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,bx=aK.round,bw=parseFloat,bH=parseInt,ad=bE.prototype.toUpperCase,b8=aI._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},aQ=aI._availableAnimAttrs={blur:bf,"clip-rect":"csv",cx:bf,cy:bf,fill:"colour","fill-opacity":bf,"font-size":bf,height:bf,opacity:bf,path:"path",r:bf,rx:bf,ry:bf,stroke:"colour","stroke-opacity":bf,"stroke-width":bf,transform:"transform",width:bf,x:bf,y:bf},bz=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,bP={hs:1,rg:1},bV=/,?([achlmqrstvxz]),?/gi,aX=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,b6=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,br=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,a4=(aI._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),aJ=function(a,b){return bw(a)-bw(b)
},b4=function(){},aq=function(a){return a
},an=aI._rectPath=function(b,d,c,a,f){return f?[["M",b+f,d],["l",c-2*f,0],["a",f,f,0,0,1,f,f],["l",0,a-2*f],["a",f,f,0,0,1,-f,f],["l",2*f-c,0],["a",f,f,0,0,1,-f,-f],["l",0,2*f-a],["a",f,f,0,0,1,f,-f],["z"]]:[["M",b,d],["l",c,0],["l",0,a],["l",-c,0],["z"]]
},bR=function(b,d,c,a){return null==a&&(a=c),[["M",b,d],["m",0,-a],["a",c,a,0,1,1,0,2*a],["a",c,a,0,1,1,0,-2*a],["z"]]
},ca=aI._getPath={path:function(a){return a.attr("path")
},circle:function(a){var b=a.attrs;
return bR(b.cx,b.cy,b.r)
},ellipse:function(a){var b=a.attrs;
return bR(b.cx,b.cy,b.rx,b.ry)
},rect:function(a){var b=a.attrs;
return an(b.x,b.y,b.width,b.height,b.r)
},image:function(a){var b=a.attrs;
return an(b.x,b.y,b.width,b.height)
},text:function(a){var b=a._getBBox();
return an(b.x,b.y,b.width,b.height)
},set:function(a){var b=a._getBBox();
return an(b.x,b.y,b.width,b.height)
}},au=aI.mapPath=function(k,h){if(!h){return k
}var b,g,d,j,m,c,f;
for(k=ak(k),d=0,m=k.length;
m>d;
d++){for(f=k[d],j=1,c=f.length;
c>j;
j+=2){b=h.x(f[j],f[j+1]),g=h.y(f[j],f[j+1]),f[j]=b,f[j+1]=g
}}return k
};
if(aI._g=bl,aI.type=bl.win.SVGAngle||bl.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==aI.type){var bY,bT=bl.doc.createElement("div");
if(bT.innerHTML='<v:shape adj="1"/>',bY=bT.firstChild,bY.style.behavior="url(#default#VML)",!bY||"object"!=typeof bY.adj){return aI.type=bu
}bT=null
}aI.svg=!(aI.vml="VML"==aI.type),aI._Paper=bM,aI.fn=a8=bM.prototype=aI.prototype,aI._id=0,aI._oid=0,aI.is=function(a,b){return b=aU.call(b),"finite"==b?!bb[bK](+a):"array"==b?a instanceof Array:"null"==b&&null===a||b==typeof a&&null!==a||"object"==b&&a===Object(a)||"array"==b&&Array.isArray&&Array.isArray(a)||bi.call(a).slice(8,-1).toLowerCase()==b
},aI.angle=function(f,h,d,k,c,g){if(null==c){var j=f-d,b=h-k;
return j||b?(180+180*aK.atan2(-b,-j)/bD+360)%360:0
}return aI.angle(f,h,c,g)-aI.angle(d,k,c,g)
},aI.rad=function(a){return a%360*bD/180
},aI.deg=function(a){return 180*a/bD%360
},aI.snapTo=function(d,f,c){if(c=aI.is(c,"finite")?c:10,aI.is(d,bB)){for(var g=d.length;
g--;
){if(c>=bh(d[g]-f)){return d[g]
}}}else{d=+d;
var b=f%d;
if(c>b){return f-b
}if(b>d-c){return f-b+d
}}return f
},aI.createUUID=function(a,b){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(a,b).toUpperCase()
}
}(/[xy]/g,function(a){var c=0|16*aK.random(),b="x"==a?c:8|3&c;
return b.toString(16)
}),aI.setWindow=function(a){a1("raphael.setWindow",aI,bl.win,a),bl.win=a,bl.doc=bl.win.document,aI._engine.initWin&&aI._engine.initWin(bl.win)
};
var bk=function(c){if(aI.vml){var f,b=/^\s+|\s+$/g;
try{var h=new ActiveXObject("htmlfile");
h.write("<body>"),h.close(),f=h.body
}catch(d){f=createPopup().document.body
}var g=f.createTextRange();
bk=a7(function(j){try{f.style.color=bE(j).replace(b,bu);
var k=g.queryCommandValue("ForeColor");
return k=(255&k)<<16|65280&k|(16711680&k)>>>16,"#"+("000000"+k.toString(16)).slice(-6)
}catch(l){return"none"
}})
}else{var a=bl.doc.createElement("i");
a.title="Raphal Colour Picker",a.style.display="none",bl.doc.body.appendChild(a),bk=a7(function(j){return a.style.color=j,bl.doc.defaultView.getComputedStyle(a,bu).getPropertyValue("color")
})
}return bk(c)
},ac=function(){return"hsb("+[this.h,this.s,this.b]+")"
},aj=function(){return"hsl("+[this.h,this.s,this.l]+")"
},af=function(){return this.hex
},bt=function(b,c,a){if(null==c&&aI.is(b,"object")&&"r" in b&&"g" in b&&"b" in b&&(a=b.b,c=b.g,b=b.r),null==c&&aI.is(b,bd)){var d=aI.getRGB(b);
b=d.r,c=d.g,a=d.b
}return(b>1||c>1||a>1)&&(b/=255,c/=255,a/=255),[b,c,a]
},bS=function(d,f,c,g){d*=255,f*=255,c*=255;
var b={r:d,g:f,b:c,hex:aI.rgb(d,f,c),toString:af};
return aI.is(g,"finite")&&(b.opacity=g),b
};
aI.color=function(a){var b;
return aI.is(a,"object")&&"h" in a&&"s" in a&&"b" in a?(b=aI.hsb2rgb(a),a.r=b.r,a.g=b.g,a.b=b.b,a.hex=b.hex):aI.is(a,"object")&&"h" in a&&"s" in a&&"l" in a?(b=aI.hsl2rgb(a),a.r=b.r,a.g=b.g,a.b=b.b,a.hex=b.hex):(aI.is(a,"string")&&(a=aI.getRGB(a)),aI.is(a,"object")&&"r" in a&&"g" in a&&"b" in a?(b=aI.rgb2hsl(a),a.h=b.h,a.s=b.s,a.l=b.l,b=aI.rgb2hsb(a),a.v=b.b):(a={hex:"none"},a.r=a.g=a.b=a.h=a.s=a.v=a.l=-1)),a.toString=af,a
},aI.hsb2rgb=function(k,h,b,g){this.is(k,"object")&&"h" in k&&"s" in k&&"b" in k&&(b=k.b,h=k.s,k=k.h,g=k.o),k*=360;
var d,j,m,c,f;
return k=k%360/60,f=b*h,c=f*(1-bh(k%2-1)),d=j=m=b-f,k=~~k,d+=[f,c,0,0,c,f][k],j+=[c,f,f,c,0,0][k],m+=[0,0,c,f,f,c][k],bS(d,j,m,g)
},aI.hsl2rgb=function(k,h,b,g){this.is(k,"object")&&"h" in k&&"s" in k&&"l" in k&&(b=k.l,h=k.s,k=k.h),(k>1||h>1||b>1)&&(k/=360,h/=100,b/=100),k*=360;
var d,j,m,c,f;
return k=k%360/60,f=2*h*(0.5>b?b:1-b),c=f*(1-bh(k%2-1)),d=j=m=b-f/2,k=~~k,d+=[f,c,0,0,c,f][k],j+=[c,f,f,c,0,0][k],m+=[0,0,c,f,f,c][k],bS(d,j,m,g)
},aI.rgb2hsb=function(d,h,g){g=bt(d,h,g),d=g[0],h=g[1],g=g[2];
var c,j,b,f;
return b=bG(d,h,g),f=b-bq(d,h,g),c=0==f?null:b==d?(h-g)/f:b==h?(g-d)/f+2:(d-h)/f+4,c=60*((c+360)%6)/360,j=0==f?0:f/b,{h:c,s:j,b:b,toString:ac}
},aI.rgb2hsl=function(k,h,b){b=bt(k,h,b),k=b[0],h=b[1],b=b[2];
var g,d,j,m,c,f;
return m=bG(k,h,b),c=bq(k,h,b),f=m-c,g=0==f?null:m==k?(h-b)/f:m==h?(b-k)/f+2:(k-h)/f+4,g=60*((g+360)%6)/360,j=(m+c)/2,d=0==f?0:0.5>j?f/(2*j):f/(2-2*j),{h:g,s:d,l:j,toString:aj}
},aI._path2string=function(){return this.join(",").replace(bV,"$1")
},aI._preload=function(a,c){var b=bl.doc.createElement("img");
b.style.cssText="position:absolute;left:-9999em;top:-9999em",b.onload=function(){c.call(this),this.onload=null,bl.doc.body.removeChild(this)
},b.onerror=function(){bl.doc.body.removeChild(this)
},bl.doc.body.appendChild(b),b.src=a
},aI.getRGB=a7(function(f){if(!f||(f=bE(f)).indexOf("-")+1){return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:aH}
}if("none"==f){return{r:-1,g:-1,b:-1,hex:"none",toString:aH}
}!(bP[bK](f.toLowerCase().substring(0,2))||"#"==f.charAt())&&(f=bk(f));
var j,d,m,c,k,b,g=f.match(bX);
return g?(g[2]&&(m=bH(g[2].substring(5),16),d=bH(g[2].substring(3,5),16),j=bH(g[2].substring(1,3),16)),g[3]&&(m=bH((k=g[3].charAt(3))+k,16),d=bH((k=g[3].charAt(2))+k,16),j=bH((k=g[3].charAt(1))+k,16)),g[4]&&(b=g[4][bp](bz),j=bw(b[0]),"%"==b[0].slice(-1)&&(j*=2.55),d=bw(b[1]),"%"==b[1].slice(-1)&&(d*=2.55),m=bw(b[2]),"%"==b[2].slice(-1)&&(m*=2.55),"rgba"==g[1].toLowerCase().slice(0,4)&&(c=bw(b[3])),b[3]&&"%"==b[3].slice(-1)&&(c/=100)),g[5]?(b=g[5][bp](bz),j=bw(b[0]),"%"==b[0].slice(-1)&&(j*=2.55),d=bw(b[1]),"%"==b[1].slice(-1)&&(d*=2.55),m=bw(b[2]),"%"==b[2].slice(-1)&&(m*=2.55),("deg"==b[0].slice(-3)||""==b[0].slice(-1))&&(j/=360),"hsba"==g[1].toLowerCase().slice(0,4)&&(c=bw(b[3])),b[3]&&"%"==b[3].slice(-1)&&(c/=100),aI.hsb2rgb(j,d,m,c)):g[6]?(b=g[6][bp](bz),j=bw(b[0]),"%"==b[0].slice(-1)&&(j*=2.55),d=bw(b[1]),"%"==b[1].slice(-1)&&(d*=2.55),m=bw(b[2]),"%"==b[2].slice(-1)&&(m*=2.55),("deg"==b[0].slice(-3)||""==b[0].slice(-1))&&(j/=360),"hsla"==g[1].toLowerCase().slice(0,4)&&(c=bw(b[3])),b[3]&&"%"==b[3].slice(-1)&&(c/=100),aI.hsl2rgb(j,d,m,c)):(g={r:j,g:d,b:m,toString:aH},g.hex="#"+(16777216|m|d<<8|j<<16).toString(16).slice(1),aI.is(c,"finite")&&(g.opacity=c),g)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:aH}
},aI),aI.hsb=a7(function(b,c,a){return aI.hsb2rgb(b,c,a).hex
}),aI.hsl=a7(function(b,c,a){return aI.hsl2rgb(b,c,a).hex
}),aI.rgb=a7(function(a,c,b){return"#"+(16777216|b|c<<8|a<<16).toString(16).slice(1)
}),aI.getColor=function(a){var c=this.getColor.start=this.getColor.start||{h:0,s:1,b:a||0.75},b=this.hsb2rgb(c.h,c.s,c.b);
return c.h+=0.075,c.h>1&&(c.h=0,c.s-=0.2,0>=c.s&&(this.getColor.start={h:0,s:1,b:c.b})),b.hex
},aI.getColor.reset=function(){delete this.start
},aI.parsePathString=function(b){if(!b){return null
}var c=cb(b);
if(c.arr){return b5(c.arr)
}var a={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},d=[];
return aI.is(b,bB)&&aI.is(b[0],bB)&&(d=b5(b)),d.length||bE(b).replace(aX,function(g,k,j){var f=[],h=k.toLowerCase();
if(j.replace(br,function(l,m){m&&f.push(+m)
}),"m"==h&&f.length>2&&(d.push([k][bF](f.splice(0,2))),h="l",k="m"==k?"l":"L"),"r"==h){d.push([k][bF](f))
}else{for(;
f.length>=a[h]&&(d.push([k][bF](f.splice(0,a[h]))),a[h]);
){}}}),d.toString=aI._path2string,c.arr=b5(d),d
},aI.parseTransformString=a7(function(a){if(!a){return null
}var b=[];
return aI.is(a,bB)&&aI.is(a[0],bB)&&(b=b5(a)),b.length||bE(a).replace(b6,function(d,f,c){var g=[];
aU.call(f),c.replace(br,function(h,j){j&&g.push(+j)
}),b.push([f][bF](g))
}),b.toString=aI._path2string,b
});
var cb=function(a){var b=cb.ps=cb.ps||{};
return b[a]?b[a].sleep=100:b[a]={sleep:100},setTimeout(function(){for(var c in b){b[bK](c)&&c!=a&&(b[c].sleep--,!b[c].sleep&&delete b[c])
}}),b[a]
};
aI.findDotsAtSegment=function(D,R,G,N,J,V,E,I,L){var O=1-L,B=bc(O,3),T=bc(O,2),Q=L*L,H=Q*L,S=B*D+3*T*L*G+3*O*L*L*J+H*E,P=B*R+3*T*L*N+3*O*L*L*V+H*I,q=D+2*L*(G-D)+Q*(J-2*G+D),A=R+2*L*(N-R)+Q*(V-2*N+R),j=G+2*L*(J-G)+Q*(E-2*J+G),K=N+2*L*(V-N)+Q*(I-2*V+N),U=O*D+L*G,W=O*R+L*N,z=O*J+L*E,M=O*V+L*I,F=90-180*aK.atan2(q-j,A-K)/bD;
return(q>j||K>A)&&(F+=180),{x:S,y:P,m:{x:q,y:A},n:{x:j,y:K},start:{x:U,y:W},end:{x:z,y:M},alpha:F}
},aI.bezierBBox=function(m,j,f,c,k,p,b,d){aI.is(m,"array")||(m=[m,j,f,c,k,p,b,d]);
var g=a5.apply(null,m);
return{x:g.min.x,y:g.min.y,x2:g.max.x,y2:g.max.y,width:g.max.x-g.min.x,height:g.max.y-g.min.y}
},aI.isPointInsideBBox=function(a,c,b){return c>=a.x&&a.x2>=c&&b>=a.y&&a.y2>=b
},aI.isBBoxIntersect=function(b,c){var a=aI.isPointInsideBBox;
return a(c,b.x,b.y)||a(c,b.x2,b.y)||a(c,b.x,b.y2)||a(c,b.x2,b.y2)||a(b,c.x,c.y)||a(b,c.x2,c.y)||a(b,c.x,c.y2)||a(b,c.x2,c.y2)||(b.x<c.x2&&b.x>c.x||c.x<b.x2&&c.x>b.x)&&(b.y<c.y2&&b.y>c.y||c.y<b.y2&&c.y>b.y)
},aI.pathIntersection=function(a,b){return aM(a,b)
},aI.pathIntersectionNumber=function(a,b){return aM(a,b,1)
},aI.isPointInsidePath=function(b,c,a){var d=aI.pathBBox(b);
return aI.isPointInsideBBox(d,c,a)&&1==aM(b,[["M",c,a],["H",d.x2+10]],1)%2
},aI._removedFactory=function(a){return function(){a1("raphael.log",null,"Raphal: you are calling to method "+a+" of removed object",a)
}
};
var bZ=aI.pathBBox=function(H){var A=cb(H);
if(A.bbox){return aV(A.bbox)
}if(!H){return{x:0,y:0,width:0,height:0,x2:0,y2:0}
}H=ak(H);
for(var b,m=0,E=0,I=[],k=[],q=0,w=H.length;
w>q;
q++){if(b=H[q],"M"==b[0]){m=b[1],E=b[2],I.push(m),k.push(E)
}else{var G=a5(m,E,b[1],b[2],b[3],b[4],b[5],b[6]);
I=I[bF](G.min.x,G.max.x),k=k[bF](G.min.y,G.max.y),m=b[5],E=b[6]
}}var C=bq[bs](0,I),z=bq[bs](0,k),j=bG[bs](0,I),B=bG[bs](0,k),y=j-C,D=B-z,F={x:C,y:z,x2:j,y2:B,width:y,height:D,cx:C+y/2,cy:z+D/2};
return A.bbox=aV(F),F
},b5=function(a){var b=aV(a);
return b.toString=aI._path2string,b
},bW=aI._pathToRelative=function(G){var z=cb(G);
if(z.rel){return b5(z.rel)
}aI.is(G,bB)&&aI.is(G&&G[0],bB)||(G=aI.parsePathString(G));
var q=[],k=0,D=0,H=0,j=0,m=0;
"M"==G[0][0]&&(k=G[0][1],D=G[0][2],H=k,j=D,m++,q.push(["M",k,D]));
for(var r=m,F=G.length;
F>r;
r++){var B=q[r]=[],y=G[r];
if(y[0]!=aU.call(y[0])){switch(B[0]=aU.call(y[0]),B[0]){case"a":B[1]=y[1],B[2]=y[2],B[3]=y[3],B[4]=y[4],B[5]=y[5],B[6]=+(y[6]-k).toFixed(3),B[7]=+(y[7]-D).toFixed(3);
break;
case"v":B[1]=+(y[1]-D).toFixed(3);
break;
case"m":H=y[1],j=y[2];
default:for(var b=1,A=y.length;
A>b;
b++){B[b]=+(y[b]-(b%2?k:D)).toFixed(3)
}}}else{B=q[r]=[],"m"==y[0]&&(H=y[1]+k,j=y[2]+D);
for(var w=0,C=y.length;
C>w;
w++){q[r][w]=y[w]
}}var E=q[r].length;
switch(q[r][0]){case"z":k=H,D=j;
break;
case"h":k+=+q[r][E-1];
break;
case"v":D+=+q[r][E-1];
break;
default:k+=+q[r][E-2],D+=+q[r][E-1]
}}return q.toString=aI._path2string,z.rel=b5(q),q
},ap=aI._pathToAbsolute=function(q){var G=cb(q);
if(G.abs){return b5(G.abs)
}if(aI.is(q,bB)&&aI.is(q&&q[0],bB)||(q=aI.parsePathString(q)),!q||!q.length){return[["M",0,0]]
}var C=[],z=0,J=0,r=0,B=0,D=0;
"M"==q[0][0]&&(z=+q[0][1],J=+q[0][2],r=z,B=J,D++,C[0]=["M",z,J]);
for(var o,I,F=3==q.length&&"M"==q[0][0]&&"R"==q[1][0].toUpperCase()&&"Z"==q[2][0].toUpperCase(),w=D,H=q.length;
H>w;
w++){if(C.push(o=[]),I=q[w],I[0]!=ad.call(I[0])){switch(o[0]=ad.call(I[0]),o[0]){case"A":o[1]=I[1],o[2]=I[2],o[3]=I[3],o[4]=I[4],o[5]=I[5],o[6]=+(I[6]+z),o[7]=+(I[7]+J);
break;
case"V":o[1]=+I[1]+J;
break;
case"H":o[1]=+I[1]+z;
break;
case"R":for(var E=[z,J][bF](I.slice(1)),j=2,k=E.length;
k>j;
j++){E[j]=+E[j]+z,E[++j]=+E[j]+J
}C.pop(),C=C[bF](aN(E,F));
break;
case"M":r=+I[1]+z,B=+I[2]+J;
default:for(j=1,k=I.length;
k>j;
j++){o[j]=+I[j]+(j%2?z:J)
}}}else{if("R"==I[0]){E=[z,J][bF](I.slice(1)),C.pop(),C=C[bF](aN(E,F)),o=["R"][bF](I.slice(-2))
}else{for(var b=0,A=I.length;
A>b;
b++){o[b]=I[b]
}}}switch(o[0]){case"Z":z=r,J=B;
break;
case"H":z=o[1];
break;
case"V":J=o[1];
break;
case"M":r=o[o.length-2],B=o[o.length-1];
default:z=o[o.length-2],J=o[o.length-1]
}}return C.toString=aI._path2string,G.abs=b5(C),C
},ai=function(b,d,c,a){return[b,d,c,a,c,a]
},b9=function(d,h,g,c,k,b){var f=1/3,j=2/3;
return[f*d+j*g,f*h+j*c,f*k+j*g,f*b+j*c,k,b]
},bN=function(cn,cB,cp,cx,cs,co,cr,cu,cy,cm){var cD,cA=120*bD/180,cq=bD/180*(+cs||0),cC=[],cz=a7(function(c,f,d){var b=c*aK.cos(d)-f*aK.sin(d),g=c*aK.sin(d)+f*aK.cos(d);
return{x:b,y:g}
});
if(cm){ce=cm[0],cf=cm[1],ck=cm[2],cv=cm[3]
}else{cD=cz(cn,cB,-cq),cn=cD.x,cB=cD.y,cD=cz(cu,cy,-cq),cu=cD.x,cy=cD.y;
var cj=(aK.cos(bD/180*cs),aK.sin(bD/180*cs),(cn-cu)/2),cl=(cB-cy)/2,ci=cj*cj/(cp*cp)+cl*cl/(cx*cx);
ci>1&&(ci=aK.sqrt(ci),cp=ci*cp,cx=ci*cx);
var ct=cp*cp,cE=cx*cx,cF=(co==cr?-1:1)*aK.sqrt(bh((ct*cE-ct*cl*cl-cE*cj*cj)/(ct*cl*cl+cE*cj*cj))),ck=cF*cp*cl/cx+(cn+cu)/2,cv=cF*-cx*cj/cp+(cB+cy)/2,ce=aK.asin(((cB-cv)/cx).toFixed(9)),cf=aK.asin(((cy-cv)/cx).toFixed(9));
ce=ck>cn?bD-ce:ce,cf=ck>cu?bD-cf:cf,0>ce&&(ce=2*bD+ce),0>cf&&(cf=2*bD+cf),cr&&ce>cf&&(ce-=2*bD),!cr&&cf>ce&&(cf-=2*bD)
}var K=cf-ce;
if(bh(K)>cA){var J=cf,cg=cu,V=cy;
cf=ce+cA*(cr&&cf>ce?1:-1),cu=ck+cp*aK.cos(cf),cy=cv+cx*aK.sin(cf),cC=bN(cu,cy,cp,cx,cs,0,cr,cg,V,[cf,J,ck,cv])
}K=cf-ce;
var ae=aK.cos(ce),Z=aK.sin(ce),ch=aK.cos(cf),cc=aK.sin(cf),P=aK.tan(K/4),ar=4/3*cp*P,cw=4/3*cx*P,cd=[cn,cB],Q=[cn+ar*Z,cB-cw*ae],a=[cu+ar*cc,cy-cw*ch],E=[cu,cy];
if(Q[0]=2*cd[0]-Q[0],Q[1]=2*cd[1]-Q[1],cm){return[Q,a,E][bF](cC)
}cC=[Q,a,E][bF](cC).join()[bp](",");
for(var q=[],be=0,G=cC.length;
G>be;
be++){q[be]=be%2?cz(cC[be-1],cC[be],cq).y:cz(cC[be],cC[be+1],cq).x
}return q
},ag=function(p,k,b,g,d,m,q,c,f){var j=1-f;
return{x:bc(j,3)*p+3*bc(j,2)*f*b+3*j*f*f*d+bc(f,3)*q,y:bc(j,3)*k+3*bc(j,2)*f*g+3*j*f*f*m+bc(f,3)*c}
},a5=a7(function(E,z,b,v,m,C,F,k){var q,w=m-2*b+E-(F-2*m+b),D=2*(b-E)-2*(m-b),B=E-b,y=(-D+aK.sqrt(D*D-4*w*B))/2/w,j=(-D-aK.sqrt(D*D-4*w*B))/2/w,A=[z,k],x=[E,F];
return bh(y)>"1e12"&&(y=0.5),bh(j)>"1e12"&&(j=0.5),y>0&&1>y&&(q=ag(E,z,b,v,m,C,F,k,y),x.push(q.x),A.push(q.y)),j>0&&1>j&&(q=ag(E,z,b,v,m,C,F,k,j),x.push(q.x),A.push(q.y)),w=C-2*v+z-(k-2*C+v),D=2*(v-z)-2*(C-v),B=z-v,y=(-D+aK.sqrt(D*D-4*w*B))/2/w,j=(-D-aK.sqrt(D*D-4*w*B))/2/w,bh(y)>"1e12"&&(y=0.5),bh(j)>"1e12"&&(j=0.5),y>0&&1>y&&(q=ag(E,z,b,v,m,C,F,k,y),x.push(q.x),A.push(q.y)),j>0&&1>j&&(q=ag(E,z,b,v,m,C,F,k,j),x.push(q.x),A.push(q.y)),{min:{x:bq[bs](0,x),y:bq[bs](0,A)},max:{x:bG[bs](0,x),y:bG[bs](0,A)}}
}),ak=aI._path2curve=a7(function(E,z){var b=!z&&cb(E);
if(!z&&b.curve){return b5(b.curve)
}for(var v=ap(E),m=z&&ap(z),C={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},F={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},k=(function(c,f){var d,a;
if(!c){return["C",f.x,f.y,f.x,f.y,f.x,f.y]
}switch(!(c[0] in {T:1,Q:1})&&(f.qx=f.qy=null),c[0]){case"M":f.X=c[1],f.Y=c[2];
break;
case"A":c=["C"][bF](bN[bs](0,[f.x,f.y][bF](c.slice(1))));
break;
case"S":d=f.x+(f.x-(f.bx||f.x)),a=f.y+(f.y-(f.by||f.y)),c=["C",d,a][bF](c.slice(1));
break;
case"T":f.qx=f.x+(f.x-(f.qx||f.x)),f.qy=f.y+(f.y-(f.qy||f.y)),c=["C"][bF](b9(f.x,f.y,f.qx,f.qy,c[1],c[2]));
break;
case"Q":f.qx=c[1],f.qy=c[2],c=["C"][bF](b9(f.x,f.y,c[1],c[2],c[3],c[4]));
break;
case"L":c=["C"][bF](ai(f.x,f.y,c[1],c[2]));
break;
case"H":c=["C"][bF](ai(f.x,f.y,c[1],f.y));
break;
case"V":c=["C"][bF](ai(f.x,f.y,f.x,c[1]));
break;
case"Z":c=["C"][bF](ai(f.x,f.y,f.X,f.Y))
}return c
}),q=function(a,d){if(a[d].length>7){a[d].shift();
for(var c=a[d];
c.length;
){a.splice(d++,0,["C"][bF](c.splice(0,6)))
}a.splice(d,1),B=bG(v.length,m&&m.length||0)
}},w=function(d,h,g,c,f){d&&h&&"M"==d[f][0]&&"M"!=h[f][0]&&(h.splice(f,0,["M",c.x,c.y]),g.bx=0,g.by=0,g.x=d[f][1],g.y=d[f][2],B=bG(v.length,m&&m.length||0))
},D=0,B=bG(v.length,m&&m.length||0);
B>D;
D++){v[D]=k(v[D],C),q(v,D),m&&(m[D]=k(m[D],F)),m&&q(m,D),w(v,m,C,F,D),w(m,v,F,C,D);
var y=v[D],j=m&&m[D],A=y.length,x=m&&j.length;
C.x=y[A-2],C.y=y[A-1],C.bx=bw(y[A-4])||C.x,C.by=bw(y[A-3])||C.y,F.bx=m&&(bw(j[x-4])||F.x),F.by=m&&(bw(j[x-3])||F.y),F.x=m&&j[x-2],F.y=m&&j[x-1]
}return m||(b.curve=b5(v)),m?[v,m]:v
},null,b5),bA=(aI._parseDots=a7(function(p){for(var j=[],f=0,c=p.length;
c>f;
f++){var k={},q=p[f].match(/^([^:]*):?([\d\.]*)/);
if(k.color=aI.getRGB(q[1]),k.color.error){return null
}k.color=k.color.hex,q[2]&&(k.offset=q[2]+"%"),j.push(k)
}for(f=1,c=j.length-1;
c>f;
f++){if(!j[f].offset){for(var b=bw(j[f-1].offset||0),d=0,g=f+1;
c>g;
g++){if(j[g].offset){d=j[g].offset;
break
}}d||(d=100,g=c),d=bw(d);
for(var m=(d-b)/(g-f+1);
g>f;
f++){b+=m,j[f].offset=b+"%"
}}}return j
}),aI._tear=function(a,b){a==b.top&&(b.top=a.prev),a==b.bottom&&(b.bottom=a.next),a.next&&(a.next.prev=a.prev),a.prev&&(a.prev.next=a.next)
}),ao=(aI._tofront=function(a,b){b.top!==a&&(bA(a,b),a.next=null,a.prev=b.top,b.top.next=a,b.top=a)
},aI._toback=function(a,b){b.bottom!==a&&(bA(a,b),a.next=b.bottom,a.prev=null,b.bottom.prev=a,b.bottom=a)
},aI._insertafter=function(a,c,b){bA(a,b),c==b.top&&(b.top=a),c.next&&(c.next.prev=a),a.next=c.next,a.prev=c,c.next=a
},aI._insertbefore=function(a,c,b){bA(a,b),c==b.bottom&&(b.bottom=a),c.prev&&(c.prev.next=a),a.prev=c.prev,c.prev=a,a.next=c
},aI.toMatrix=function(b,d){var c=bZ(b),a={_:{transform:bu},getBBox:function(){return c
}};
return ah(a,d),a.matrix
}),ah=(aI.transformPath=function(a,b){return au(a,ao(a,b))
},aI._extractTransform=function(A,M){if(null==M){return A._.transform
}M=bE(M).replace(/\.{3}|\u2026/g,A._.transform||bu);
var I=aI.parseTransformString(M),E=0,P=0,B=0,D=1,G=1,J=A._,z=new a2;
if(J.transform=I||[],I){for(var N=0,L=I.length;
L>N;
N++){var C,K,j,r,d,F=I[N],O=F.length,Q=bE(F[0]).toLowerCase(),q=F[0]!=Q,H=q?z.invert():0;
"t"==Q&&3==O?q?(C=H.x(0,0),K=H.y(0,0),j=H.x(F[1],F[2]),r=H.y(F[1],F[2]),z.translate(j-C,r-K)):z.translate(F[1],F[2]):"r"==Q?2==O?(d=d||A.getBBox(1),z.rotate(F[1],d.x+d.width/2,d.y+d.height/2),E+=F[1]):4==O&&(q?(j=H.x(F[2],F[3]),r=H.y(F[2],F[3]),z.rotate(F[1],j,r)):z.rotate(F[1],F[2],F[3]),E+=F[1]):"s"==Q?2==O||3==O?(d=d||A.getBBox(1),z.scale(F[1],F[O-1],d.x+d.width/2,d.y+d.height/2),D*=F[1],G*=F[O-1]):5==O&&(q?(j=H.x(F[3],F[4]),r=H.y(F[3],F[4]),z.scale(F[1],F[2],j,r)):z.scale(F[1],F[2],F[3],F[4]),D*=F[1],G*=F[2]):"m"==Q&&7==O&&z.add(F[1],F[2],F[3],F[4],F[5],F[6]),J.dirtyT=1,A.matrix=z
}}A.matrix=z,J.sx=D,J.sy=G,J.deg=E,J.dx=P=z.e,J.dy=B=z.f,1==D&&1==G&&!E&&J.bbox?(J.bbox.x+=+P,J.bbox.y+=+B):J.dirtyT=1
}),aR=function(a){var b=a[0];
switch(b.toLowerCase()){case"t":return[b,0,0];
case"m":return[b,1,0,0,1,0,0];
case"r":return 4==a.length?[b,0,a[2],a[3]]:[b,0];
case"s":return 5==a.length?[b,1,1,a[3],a[4]]:3==a.length?[b,1,1]:[b,1]
}},bI=aI._equaliseTransform=function(p,j){j=bE(j).replace(/\.{3}|\u2026/g,p),p=aI.parseTransformString(p)||[],j=aI.parseTransformString(j)||[];
for(var f,c,k,q,b=bG(p.length,j.length),d=[],g=[],m=0;
b>m;
m++){if(k=p[m]||aR(j[m]),q=j[m]||aR(k),k[0]!=q[0]||"r"==k[0].toLowerCase()&&(k[2]!=q[2]||k[3]!=q[3])||"s"==k[0].toLowerCase()&&(k[3]!=q[3]||k[4]!=q[4])){return
}for(d[m]=[],g[m]=[],f=0,c=bG(k.length,q.length);
c>f;
f++){f in k&&(d[m][f]=k[f]),f in q&&(g[m][f]=q[f])
}}return{from:d,to:g}
};
aI._getContainer=function(d,f,c,g){var b;
return b=null!=g||aI.is(d,"object")?d:bl.doc.getElementById(d),null!=b?b.tagName?null==f?{container:b,width:b.style.pixelWidth||b.offsetWidth,height:b.style.pixelHeight||b.offsetHeight}:{container:b,width:f,height:c}:{container:1,x:d,y:f,width:c,height:g}:void 0
},aI.pathToRelative=bW,aI._engine={},aI.path2curve=ak,aI.matrix=function(d,g,f,c,h,b){return new a2(d,g,f,c,h,b)
},function(b){function c(d){return d[0]*d[0]+d[1]*d[1]
}function a(d){var f=aK.sqrt(c(d));
d[0]&&(d[0]/=f),d[1]&&(d[1]/=f)
}b.add=function(z,v,d,m,j,x){var A,g,k,p,y=[[],[],[]],w=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],q=[[z,d,j],[v,m,x],[0,0,1]];
for(z&&z instanceof a2&&(q=[[z.a,z.c,z.e],[z.b,z.d,z.f],[0,0,1]]),A=0;
3>A;
A++){for(g=0;
3>g;
g++){for(p=0,k=0;
3>k;
k++){p+=w[A][k]*q[k][g]
}y[A][g]=p
}}this.a=y[0][0],this.b=y[1][0],this.c=y[0][1],this.d=y[1][1],this.e=y[0][2],this.f=y[1][2]
},b.invert=function(){var d=this,f=d.a*d.d-d.b*d.c;
return new a2(d.d/f,-d.b/f,-d.c/f,d.a/f,(d.c*d.f-d.d*d.e)/f,(d.b*d.e-d.a*d.f)/f)
},b.clone=function(){return new a2(this.a,this.b,this.c,this.d,this.e,this.f)
},b.translate=function(d,f){this.add(1,0,0,1,d,f)
},b.scale=function(f,h,g,d){null==h&&(h=f),(g||d)&&this.add(1,0,0,1,g,d),this.add(f,0,0,h,0,0),(g||d)&&this.add(1,0,0,1,-g,-d)
},b.rotate=function(g,h,f){g=aI.rad(g),h=h||0,f=f||0;
var j=+aK.cos(g).toFixed(9),d=+aK.sin(g).toFixed(9);
this.add(j,d,-d,j,h,f),this.add(1,0,0,1,-h,-f)
},b.x=function(d,f){return d*this.a+f*this.c+this.e
},b.y=function(d,f){return d*this.b+f*this.d+this.f
},b.get=function(d){return +this[bE.fromCharCode(97+d)].toFixed(4)
},b.toString=function(){return aI.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()
},b.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"
},b.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]
},b.split=function(){var f={};
f.dx=this.e,f.dy=this.f;
var h=[[this.a,this.c],[this.b,this.d]];
f.scalex=aK.sqrt(c(h[0])),a(h[0]),f.shear=h[0][0]*h[1][0]+h[0][1]*h[1][1],h[1]=[h[1][0]-h[0][0]*f.shear,h[1][1]-h[0][1]*f.shear],f.scaley=aK.sqrt(c(h[1])),a(h[1]),f.shear/=f.scaley;
var d=-h[0][1],g=h[1][1];
return 0>g?(f.rotate=aI.deg(aK.acos(g)),0>d&&(f.rotate=360-f.rotate)):f.rotate=aI.deg(aK.asin(d)),f.isSimple=!(+f.shear.toFixed(9)||f.scalex.toFixed(9)!=f.scaley.toFixed(9)&&f.rotate),f.isSuperSimple=!+f.shear.toFixed(9)&&f.scalex.toFixed(9)==f.scaley.toFixed(9)&&!f.rotate,f.noRotation=!+f.shear.toFixed(9)&&!f.rotate,f
},b.toTransformString=function(d){var f=d||this[bp]();
return f.isSimple?(f.scalex=+f.scalex.toFixed(4),f.scaley=+f.scaley.toFixed(4),f.rotate=+f.rotate.toFixed(4),(f.dx||f.dy?"t"+[f.dx,f.dy]:bu)+(1!=f.scalex||1!=f.scaley?"s"+[f.scalex,f.scaley,0,0]:bu)+(f.rotate?"r"+[f.rotate,0,0]:bu)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]
}
}(a2.prototype);
var a9=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);
a8.safari="Apple Computer, Inc."==navigator.vendor&&(a9&&4>a9[1]||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&a9&&8>a9[1]?function(){var a=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});
setTimeout(function(){a.remove()
})
}:b4;
for(var ab=function(){this.returnValue=!1
},b7=function(){return this.originalEvent.preventDefault()
},ax=function(){this.cancelBubble=!0
},al=function(){return this.originalEvent.stopPropagation()
},bU=function(){return bl.doc.addEventListener?function(d,g,f,c){var h=bv&&by[g]?by[g]:g,b=function(v){var k=bl.doc.documentElement.scrollTop||bl.doc.body.scrollTop,q=bl.doc.documentElement.scrollLeft||bl.doc.body.scrollLeft,r=v.clientX+q,j=v.clientY+k;
if(bv&&by[bK](g)){for(var p=0,m=v.targetTouches&&v.targetTouches.length;
m>p;
p++){if(v.targetTouches[p].target==d){var t=v;
v=v.targetTouches[p],v.originalEvent=t,v.preventDefault=b7,v.stopPropagation=al;
break
}}}return f.call(c,v,r,j)
};
return d.addEventListener(h,b,!1),function(){return d.removeEventListener(h,b,!1),!0
}
}:bl.doc.attachEvent?function(d,g,f,c){var h=function(k){k=k||bl.win.event;
var m=bl.doc.documentElement.scrollTop||bl.doc.body.scrollTop,o=bl.doc.documentElement.scrollLeft||bl.doc.body.scrollLeft,j=k.clientX+o,l=k.clientY+m;
return k.preventDefault=k.preventDefault||ab,k.stopPropagation=k.stopPropagation||ax,f.call(c,k,j,l)
};
d.attachEvent("on"+g,h);
var b=function(){return d.detachEvent("on"+g,h),!0
};
return b
}:void 0
}(),bO=[],bC=function(B){for(var b,q=B.clientX,k=B.clientY,z=bl.doc.documentElement.scrollTop||bl.doc.body.scrollTop,C=bl.doc.documentElement.scrollLeft||bl.doc.body.scrollLeft,j=bO.length;
j--;
){if(b=bO[j],bv){for(var m,v=B.touches.length;
v--;
){if(m=B.touches[v],m.identifier==b.el._drag.id){q=m.clientX,k=m.clientY,(B.originalEvent?B.originalEvent:B).preventDefault();
break
}}}else{B.preventDefault()
}var A,y=b.el.node,w=y.nextSibling,g=y.parentNode,x=y.style.display;
bl.win.opera&&g.removeChild(y),y.style.display="none",A=b.el.paper.getElementByPoint(q,k),y.style.display=x,bl.win.opera&&(w?g.insertBefore(y,w):g.appendChild(y)),A&&a1("raphael.drag.over."+b.el.id,b.el,A),q+=C,k+=z,a1("raphael.drag.move."+b.el.id,b.move_scope||b.el,q-b.el._drag.x,k-b.el._drag.y,q,k,B)
}},b1=function(b){aI.unmousemove(bC).unmouseup(b1);
for(var a,c=bO.length;
c--;
){a=bO[c],a.el._drag={},a1("raphael.drag.end."+a.el.id,a.end_scope||a.start_scope||a.move_scope||a.el,b)
}bO=[]
},av=aI.el={},aY=bm.length;
aY--;
){(function(a){aI[a]=av[a]=function(c,b){return aI.is(c,"function")&&(this.events=this.events||[],this.events.push({name:a,f:c,unbind:bU(this.shape||this.node||bl.doc,a,c,b||this)})),this
},aI["un"+a]=av["un"+a]=function(c){for(var b=this.events||[],d=b.length;
d--;
){b[d].name!=a||!aI.is(c,"undefined")&&b[d].f!=c||(b[d].unbind(),b.splice(d,1),!b.length&&delete this.events)
}return this
}
})(bm[aY])
}av.data=function(d,c){var f=a4[this.id]=a4[this.id]||{};
if(0==arguments.length){return f
}if(1==arguments.length){if(aI.is(d,"object")){for(var b in d){d[bK](b)&&this.data(b,d[b])
}return this
}return a1("raphael.data.get."+this.id,this,f[d],d),f[d]
}return f[d]=c,a1("raphael.data.set."+this.id,this,c,d),this
},av.removeData=function(a){return null==a?a4[this.id]={}:a4[this.id]&&delete a4[this.id][a],this
},av.getData=function(){return aV(a4[this.id]||{})
},av.hover=function(b,d,c,a){return this.mouseover(b,c).mouseout(d,a||c)
},av.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)
};
var at=[];
av.drag=function(f,d,j,c,g,h){function b(a){(a.originalEvent||a).preventDefault();
var m=bl.doc.documentElement.scrollTop||bl.doc.body.scrollTop,k=bl.doc.documentElement.scrollLeft||bl.doc.body.scrollLeft;
this._drag.x=a.clientX+k,this._drag.y=a.clientY+m,this._drag.id=a.identifier,!bO.length&&aI.mousemove(bC).mouseup(b1),bO.push({el:this,move_scope:c,start_scope:g,end_scope:h}),d&&a1.on("raphael.drag.start."+this.id,d),f&&a1.on("raphael.drag.move."+this.id,f),j&&a1.on("raphael.drag.end."+this.id,j),a1("raphael.drag.start."+this.id,g||c||this,a.clientX+k,a.clientY+m,a)
}return this._drag={},at.push({el:this,start:b}),this.mousedown(b),this
},av.onDragOver=function(a){a?a1.on("raphael.drag.over."+this.id,a):a1.unbind("raphael.drag.over."+this.id)
},av.undrag=function(){for(var a=at.length;
a--;
){at[a].el==this&&(this.unmousedown(at[a].start),at.splice(a,1),a1.unbind("raphael.drag.*."+this.id))
}!at.length&&aI.unmousemove(bC).unmouseup(b1),bO=[]
},a8.circle=function(b,c,a){var d=aI._engine.circle(this,b||0,c||0,a||0);
return this.__set__&&this.__set__.push(d),d
},a8.rect=function(d,g,c,h,b){var f=aI._engine.rect(this,d||0,g||0,c||0,h||0,b||0);
return this.__set__&&this.__set__.push(f),f
},a8.ellipse=function(d,f,c,g){var b=aI._engine.ellipse(this,d||0,f||0,c||0,g||0);
return this.__set__&&this.__set__.push(b),b
},a8.path=function(a){a&&!aI.is(a,bd)&&!aI.is(a[0],bB)&&(a+=bu);
var b=aI._engine.path(aI.format[bs](aI,arguments),this);
return this.__set__&&this.__set__.push(b),b
},a8.image=function(d,g,c,h,b){var f=aI._engine.image(this,d||"about:blank",g||0,c||0,h||0,b||0);
return this.__set__&&this.__set__.push(f),f
},a8.text=function(b,c,a){var d=aI._engine.text(this,b||0,c||0,bE(a));
return this.__set__&&this.__set__.push(d),d
},a8.set=function(a){!aI.is(a,"array")&&(a=Array.prototype.splice.call(arguments,0,arguments.length));
var b=new aw(a);
return this.__set__&&this.__set__.push(b),b.paper=this,b.type="set",b
},a8.setStart=function(a){this.__set__=a||this.set()
},a8.setFinish=function(){var a=this.__set__;
return delete this.__set__,a
},a8.setSize=function(a,b){return aI._engine.setSize.call(this,a,b)
},a8.setViewBox=function(d,f,c,g,b){return aI._engine.setViewBox.call(this,d,f,c,g,b)
},a8.top=a8.bottom=null,a8.raphael=aI;
var bn=function(k){var h=k.getBoundingClientRect(),b=k.ownerDocument,g=b.body,d=b.documentElement,j=d.clientTop||g.clientTop||0,m=d.clientLeft||g.clientLeft||0,c=h.top+(bl.win.pageYOffset||d.scrollTop||g.scrollTop)-j,f=h.left+(bl.win.pageXOffset||d.scrollLeft||g.scrollLeft)-m;
return{y:c,x:f}
};
a8.getElementByPoint=function(d,h){var g=this,c=g.canvas,k=bl.doc.elementFromPoint(d,h);
if(bl.win.opera&&"svg"==k.tagName){var b=bn(c),f=c.createSVGRect();
f.x=d-b.x,f.y=h-b.y,f.width=f.height=1;
var j=c.getIntersectionList(f,null);
j.length&&(k=j[j.length-1])
}if(!k){return null
}for(;
k.parentNode&&k!=c.parentNode&&!k.raphael;
){k=k.parentNode
}return k==g.canvas.parentNode&&(k=c),k=k&&k.raphael?g.getById(k.raphaelid):null
},a8.getElementsByBBox=function(a){var b=this.set();
return this.forEach(function(c){aI.isBBoxIntersect(c.getBBox(),a)&&b.push(c)
}),b
},a8.getById=function(a){for(var b=this.bottom;
b;
){if(b.id==a){return b
}b=b.next
}return null
},a8.forEach=function(a,c){for(var b=this.bottom;
b;
){if(a.call(c,b)===!1){return this
}b=b.next
}return this
},a8.getElementsByPoint=function(a,c){var b=this.set();
return this.forEach(function(d){d.isPointInside(a,c)&&b.push(d)
}),b
},av.isPointInside=function(b,c){var a=this.realPath=this.realPath||ca[this.type](this);
return aI.isPointInsidePath(a,b,c)
},av.getBBox=function(a){if(this.removed){return{}
}var b=this._;
return a?((b.dirty||!b.bboxwt)&&(this.realPath=ca[this.type](this),b.bboxwt=bZ(this.realPath),b.bboxwt.toString=aZ,b.dirty=0),b.bboxwt):((b.dirty||b.dirtyT||!b.bbox)&&((b.dirty||!this.realPath)&&(b.bboxwt=0,this.realPath=ca[this.type](this)),b.bbox=bZ(au(this.realPath,this.matrix)),b.bbox.toString=aZ,b.dirty=b.dirtyT=0),b.bbox)
},av.clone=function(){if(this.removed){return null
}var a=this.paper[this.type]().attr(this.attr());
return this.__set__&&this.__set__.push(a),a
},av.glow=function(d){if("text"==this.type){return null
}d=d||{};
var h={width:(d.width||10)+(+this.attr("stroke-width")||1),fill:d.fill||!1,opacity:d.opacity||0.5,offsetx:d.offsetx||0,offsety:d.offsety||0,color:d.color||"#000"},g=h.width/2,c=this.paper,j=c.set(),b=this.realPath||ca[this.type](this);
b=this.matrix?au(b,this.matrix):b;
for(var f=1;
g+1>f;
f++){j.push(c.path(b).attr({stroke:h.color,fill:h.fill?h.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(h.width/g*f).toFixed(3),opacity:+(h.opacity/g).toFixed(3)}))
}return j.insertBefore(this).translate(h.offsetx,h.offsety)
};
var aa=function(m,h,g,d,k,p,b,f,j){return null==j?aW(m,h,g,d,k,p,b,f):aI.findDotsAtSegment(m,h,g,d,k,p,b,f,aF(m,h,g,d,k,p,b,f,j))
},b3=function(a,b){return function(r,m,z){r=ak(r);
for(var B,k,q,t,A,y="",w={},j=0,x=0,v=r.length;
v>x;
x++){if(q=r[x],"M"==q[0]){B=+q[1],k=+q[2]
}else{if(t=aa(B,k,q[1],q[2],q[3],q[4],q[5],q[6]),j+t>m){if(b&&!w.start){if(A=aa(B,k,q[1],q[2],q[3],q[4],q[5],q[6],m-j),y+=["C"+A.start.x,A.start.y,A.m.x,A.m.y,A.x,A.y],z){return y
}w.start=y,y=["M"+A.x,A.y+"C"+A.n.x,A.n.y,A.end.x,A.end.y,q[5],q[6]].join(),j+=t,B=+q[5],k=+q[6];
continue
}if(!a&&!b){return A=aa(B,k,q[1],q[2],q[3],q[4],q[5],q[6],m-j),{x:A.x,y:A.y,alpha:A.alpha}
}}j+=t,B=+q[5],k=+q[6]
}y+=q.shift()+q
}return w.end=y,A=a?j:b?w:aI.findDotsAtSegment(B,k,q[0],q[1],q[2],q[3],q[4],q[5],1),A.alpha&&(A={x:A.x,y:A.y,alpha:A.alpha}),A
}
},ay=b3(1),bg=b3(),bL=b3(0,1);
aI.getTotalLength=ay,aI.getPointAtLength=bg,aI.getSubpath=function(b,d,c){if(0.000001>this.getTotalLength(b)-c){return bL(b,d).end
}var a=bL(b,c,1);
return d?bL(a,d).end:a
},av.getTotalLength=function(){return"path"==this.type?this.node.getTotalLength?this.node.getTotalLength():ay(this.attrs.path):void 0
},av.getPointAtLength=function(a){return"path"==this.type?bg(this.attrs.path,a):void 0
},av.getSubpath=function(a,b){return"path"==this.type?aI.getSubpath(this.attrs.path,a,b):void 0
};
var bQ=aI.easing_formulas={linear:function(a){return a
},"<":function(a){return bc(a,1.7)
},">":function(a){return bc(a,0.48)
},"<>":function(d){var h=0.48-d/1.04,g=aK.sqrt(0.1734+h*h),c=g-h,k=bc(bh(c),1/3)*(0>c?-1:1),b=-g-h,f=bc(bh(b),1/3)*(0>b?-1:1),j=k+f+0.5;
return 3*(1-j)*j*j+j*j*j
},backIn:function(a){var b=1.70158;
return a*a*((b+1)*a-b)
},backOut:function(a){a-=1;
var b=1.70158;
return a*a*((b+1)*a+b)+1
},elastic:function(a){return a==!!a?a:bc(2,-10*a)*aK.sin((a-0.075)*2*bD/0.3)+1
},bounce:function(b){var d,c=7.5625,a=2.75;
return 1/a>b?d=c*b*b:2/a>b?(b-=1.5/a,d=c*b*b+0.75):2.5/a>b?(b-=2.25/a,d=c*b*b+0.9375):(b-=2.625/a,d=c*b*b+0.984375),d
}};
bQ.easeIn=bQ["ease-in"]=bQ["<"],bQ.easeOut=bQ["ease-out"]=bQ[">"],bQ.easeInOut=bQ["ease-in-out"]=bQ["<>"],bQ["back-in"]=bQ.backIn,bQ["back-out"]=bQ.backOut;
var aE=[],b2=aG.requestAnimationFrame||aG.webkitRequestAnimationFrame||aG.mozRequestAnimationFrame||aG.oRequestAnimationFrame||aG.msRequestAnimationFrame||function(a){setTimeout(a,16)
},ba=function(){for(var z=+new Date,J=0;
aE.length>J;
J++){var F=aE[J];
if(!F.el.removed&&!F.paused){var Q,A,E=z-F.start,H=F.ms,K=F.easing,y=F.from,O=F.diff,M=F.to,D=(F.t,F.el),N={},L={};
if(F.initstatus?(E=(F.initstatus*F.anim.top-F.prev)/(F.percent-F.prev)*H,F.status=F.initstatus,delete F.initstatus,F.stop&&aE.splice(J--,1)):F.status=(F.prev+(F.percent-F.prev)*(E/H))/F.anim.top,!(0>E)){if(H>E){var j=K(E/H);
for(var r in y){if(y[bK](r)){switch(aQ[r]){case bf:Q=+y[r]+j*H*O[r];
break;
case"colour":Q="rgb("+[aL(bx(y[r].r+j*H*O[r].r)),aL(bx(y[r].g+j*H*O[r].g)),aL(bx(y[r].b+j*H*O[r].b))].join(",")+")";
break;
case"path":Q=[];
for(var G=0,P=y[r].length;
P>G;
G++){Q[G]=[y[r][G][0]];
for(var R=1,q=y[r][G].length;
q>R;
R++){Q[G][R]=+y[r][G][R]+j*H*O[r][G][R]
}Q[G]=Q[G].join(az)
}Q=Q.join(az);
break;
case"transform":if(O[r].real){for(Q=[],G=0,P=y[r].length;
P>G;
G++){for(Q[G]=[y[r][G][0]],R=1,q=y[r][G].length;
q>R;
R++){Q[G][R]=y[r][G][R]+j*H*O[r][G][R]
}}}else{var I=function(a){return +y[r][a]+j*H*O[r][a]
};
Q=[["m",I(0),I(1),I(2),I(3),I(4),I(5)]]
}break;
case"csv":if("clip-rect"==r){for(Q=[],G=4;
G--;
){Q[G]=+y[r][G]+j*H*O[r][G]
}}break;
default:var B=[][bF](y[r]);
for(Q=[],G=D.paper.customAttributes[r].length;
G--;
){Q[G]=+B[G]+j*H*O[r][G]
}}N[r]=Q
}}D.attr(N),function(b,c,a){setTimeout(function(){a1("raphael.anim.frame."+b,c,a)
})
}(D.id,D,F.anim)
}else{if(function(b,a,c){setTimeout(function(){a1("raphael.anim.frame."+a.id,a,c),a1("raphael.anim.finish."+a.id,a,c),aI.is(b,"function")&&b.call(a)
})
}(F.callback,D,F.anim),D.attr(M),aE.splice(J--,1),F.repeat>1&&!F.next){for(A in M){M[bK](A)&&(L[A]=F.totalOrigin[A])
}F.el.attr(L),aA(F.anim,F.el,F.anim.percents[0],null,F.totalOrigin,F.repeat-1)
}F.next&&!F.stop&&aA(F.anim,F.el,F.next,null,F.totalOrigin,F.repeat)
}}}}aI.svg&&D&&D.paper&&D.paper.safari(),aE.length&&b2(ba)
},aL=function(a){return a>255?255:0>a?0:a
};
av.animateWith=function(p,j,f,c,k,q){var b=this;
if(b.removed){return q&&q.call(b),b
}var d=f instanceof aD?f:aI.animation(f,c,k,q);
aA(d,b,d.percents[0],null,b.attr());
for(var g=0,m=aE.length;
m>g;
g++){if(aE[g].anim==j&&aE[g].el==p){aE[m-1].start=aE[g].start;
break
}}return b
},av.onAnimation=function(a){return a?a1.on("raphael.anim.frame."+this.id,a):a1.unbind("raphael.anim.frame."+this.id),this
},aD.prototype.delay=function(a){var b=new aD(this.anim,this.ms);
return b.times=this.times,b.del=+a||0,b
},aD.prototype.repeat=function(a){var b=new aD(this.anim,this.ms);
return b.del=this.del,b.times=aK.floor(bG(a,0))||1,b
},aI.animation=function(d,g,c,j){if(d instanceof aD){return d
}(aI.is(c,"function")||!c)&&(j=j||c||null,c=null),d=Object(d),g=+g||0;
var b,f,h={};
for(f in d){d[bK](f)&&bw(f)!=f&&bw(f)+"%"!=f&&(b=!0,h[f]=d[f])
}return b?(c&&(h.easing=c),j&&(h.callback=j),new aD({100:h},g)):new aD(d,g)
},av.animate=function(d,g,c,h){var b=this;
if(b.removed){return h&&h.call(b),b
}var f=d instanceof aD?d:aI.animation(d,g,c,h);
return aA(f,b,f.percents[0],null,b.attr()),b
},av.setTime=function(a,b){return a&&null!=b&&this.status(a,bq(b,a.ms)/a.ms),this
},av.status=function(d,g){var f,c,h=[],b=0;
if(null!=g){return aA(d,this,-1,bq(g,1)),this
}for(f=aE.length;
f>b;
b++){if(c=aE[b],c.el.id==this.id&&(!d||c.anim==d)){if(d){return c.status
}h.push({anim:c.anim,status:c.status})
}}return d?0:h
},av.pause=function(a){for(var b=0;
aE.length>b;
b++){aE[b].el.id!=this.id||a&&aE[b].anim!=a||a1("raphael.anim.pause."+this.id,this,aE[b].anim)!==!1&&(aE[b].paused=!0)
}return this
},av.resume=function(b){for(var c=0;
aE.length>c;
c++){if(aE[c].el.id==this.id&&(!b||aE[c].anim==b)){var a=aE[c];
a1("raphael.anim.resume."+this.id,this,a.anim)!==!1&&(delete a.paused,this.status(a.anim,a.status))
}}return this
},av.stop=function(a){for(var b=0;
aE.length>b;
b++){aE[b].el.id!=this.id||a&&aE[b].anim!=a||a1("raphael.anim.stop."+this.id,this,aE[b].anim)!==!1&&aE.splice(b--,1)
}return this
},a1.on("raphael.remove",aP),a1.on("raphael.clear",aP),av.toString=function(){return"Raphals object"
};
var aw=function(a){if(this.items=[],this.length=0,this.type="set",a){for(var c=0,b=a.length;
b>c;
c++){!a[c]||a[c].constructor!=av.constructor&&a[c].constructor!=aw||(this[this.items.length]=this.items[this.items.length]=a[c],this.length++)
}}},b0=aw.prototype;
b0.push=function(){for(var b,d,c=0,a=arguments.length;
a>c;
c++){b=arguments[c],!b||b.constructor!=av.constructor&&b.constructor!=aw||(d=this.items.length,this[d]=this.items[d]=b,this.length++)
}return this
},b0.pop=function(){return this.length&&delete this[this.length--],this.items.pop()
},b0.forEach=function(b,d){for(var c=0,a=this.items.length;
a>c;
c++){if(b.call(d,this.items[c],c)===!1){return this
}}return this
};
for(var am in av){av[bK](am)&&(b0[am]=function(a){return function(){var b=arguments;
return this.forEach(function(c){c[a][bs](c,b)
})
}
}(am))
}return b0.attr=function(d,g){if(d&&aI.is(d,bB)&&aI.is(d[0],"object")){for(var c=0,h=d.length;
h>c;
c++){this.items[c].attr(d[c])
}}else{for(var b=0,f=this.items.length;
f>b;
b++){this.items[b].attr(d,g)
}}return this
},b0.clear=function(){for(;
this.length;
){this.pop()
}},b0.splice=function(d,h){d=0>d?bG(this.length+d,0):d,h=bG(0,bq(this.length-d,h));
var g,c=[],j=[],b=[];
for(g=2;
arguments.length>g;
g++){b.push(arguments[g])
}for(g=0;
h>g;
g++){j.push(this[d+g])
}for(;
this.length-d>g;
g++){c.push(this[d+g])
}var f=b.length;
for(g=0;
f+c.length>g;
g++){this.items[d+g]=this[d+g]=f>g?b[g]:c[g-f]
}for(g=this.items.length=this.length-=h-f;
this[g];
){delete this[g++]
}return new aw(j)
},b0.exclude=function(a){for(var c=0,b=this.length;
b>c;
c++){if(this[c]==a){return this.splice(c,1),!0
}}},b0.animate=function(p,j,f,c){(aI.is(f,"function")||!f)&&(c=f||null);
var k,q,b=this.items.length,d=b,g=this;
if(!b){return this
}c&&(q=function(){!--b&&c.call(g)
}),f=aI.is(f,bd)?f:q;
var m=aI.animation(p,j,f,q);
for(k=this.items[--d].animate(m);
d--;
){this.items[d]&&!this.items[d].removed&&this.items[d].animateWith(k,m,m),this.items[d]&&!this.items[d].removed||b--
}return this
},b0.insertAfter=function(a){for(var b=this.items.length;
b--;
){this.items[b].insertAfter(a)
}return this
},b0.getBBox=function(){for(var d=[],g=[],f=[],c=[],h=this.items.length;
h--;
){if(!this.items[h].removed){var b=this.items[h].getBBox();
d.push(b.x),g.push(b.y),f.push(b.x+b.width),c.push(b.y+b.height)
}}return d=bq[bs](0,d),g=bq[bs](0,g),f=bG[bs](0,f),c=bG[bs](0,c),{x:d,y:g,x2:f,y2:c,width:f-d,height:c-g}
},b0.clone=function(a){a=this.paper.set();
for(var c=0,b=this.items.length;
b>c;
c++){a.push(this.items[c].clone())
}return a
},b0.toString=function(){return"Raphals set"
},b0.glow=function(a){var b=this.paper.set();
return this.forEach(function(d){var c=d.glow(a);
null!=c&&c.forEach(function(f){b.push(f)
})
}),b
},b0.isPointInside=function(a,c){var b=!1;
return this.forEach(function(d){return d.isPointInside(a,c)?(console.log("runned"),b=!0,!1):void 0
}),b
},aI.registerFont=function(d){if(!d.face){return d
}this.fonts=this.fonts||{};
var h={w:d.w,face:{},glyphs:{}},g=d.face["font-family"];
for(var c in d.face){d.face[bK](c)&&(h.face[c]=d.face[c])
}if(this.fonts[g]?this.fonts[g].push(h):this.fonts[g]=[h],!d.svg){h.face["units-per-em"]=bH(d.face["units-per-em"],10);
for(var j in d.glyphs){if(d.glyphs[bK](j)){var b=d.glyphs[j];
if(h.glyphs[j]={w:b.w,k:{},d:b.d&&"M"+b.d.replace(/[mlcxtrv]/g,function(a){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[a]||"M"
})+"z"},b.k){for(var f in b.k){b[bK](f)&&(h.glyphs[j].k[f]=b.k[f])
}}}}}return d
},a8.getFont=function(p,j,f,c){if(c=c||"normal",f=f||"normal",j=+j||{normal:400,bold:700,lighter:300,bolder:800}[j]||400,aI.fonts){var k=aI.fonts[p];
if(!k){var q=RegExp("(^|\\s)"+p.replace(/[^\w\d\s+!~.:_-]/g,bu)+"(\\s|$)","i");
for(var b in aI.fonts){if(aI.fonts[bK](b)&&q.test(b)){k=aI.fonts[b];
break
}}}var d;
if(k){for(var g=0,m=k.length;
m>g&&(d=k[g],d.face["font-weight"]!=j||d.face["font-style"]!=f&&d.face["font-style"]||d.face["font-stretch"]!=c);
g++){}}return d
}},a8.print=function(z,L,H,D,P,A,C,F){A=A||"middle",C=bG(bq(C||0,1),-1),F=bG(bq(F||1,3),1);
var I,w=bE(H)[bp](bu),N=0,K=0,B=bu;
if(aI.is(D,"string")&&(D=this.getFont(D)),D){I=(P||16)/D.face["units-per-em"];
for(var M=D.face.bbox[bp](aC),J=+M[0],q=M[3]-M[1],r=0,j=+M[1]+("baseline"==A?q+ +D.face.descent:q/2),E=0,O=w.length;
O>E;
E++){if("\n"==w[E]){N=0,G=0,K=0,r+=q*F
}else{var Q=K&&D.glyphs[w[E-1]]||{},G=D.glyphs[w[E]];
N+=K?(Q.w||D.w)+(Q.k&&Q.k[w[E]]||0)+D.w*C:0,K=1
}G&&G.d&&(B+=aI.transformPath(G.d,["t",N*I,r*I,"s",I,I,J,j,"t",(z-J)/I,(L-j)/I]))
}}return this.path(B).attr({fill:"#000",stroke:"none"})
},a8.add=function(d){if(aI.is(d,"array")){for(var f,c=this.set(),g=0,b=d.length;
b>g;
g++){f=d[g]||{},aT[bK](f.type)&&c.push(this[f.type]().attr(f))
}}return c
},aI.format=function(b,c){var a=aI.is(c,bB)?[0][bF](c):arguments;
return b&&aI.is(b,bd)&&a.length-1&&(b=b.replace(bJ,function(d,f){return null==a[++f]?bu:a[f]
})),b||bu
},aI.fullfill=function(){var a=/\{([^\}]+)\}/g,c=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,b=function(f,g,d){var h=d;
return g.replace(c,function(l,n,m,k,j){n=n||k,h&&(n in h&&(h=h[n]),"function"==typeof h&&j&&(h=h()))
}),h=(null==h||h==d?f:h)+""
};
return function(f,d){return(f+"").replace(a,function(g,h){return b(g,h,d)
})
}
}(),aI.ninja=function(){return bj.was?bl.win.Raphael=bj.is:delete Raphael,aI
},aI.st=b0,function(b,c,a){function d(){/in/.test(b.readyState)?setTimeout(d,9):aI.eve("raphael.DOMload")
}null==b.readyState&&b.addEventListener&&(b.addEventListener(c,a=function(){b.removeEventListener(c,a,!1),b.readyState="complete"
},!1),b.readyState="loading"),d()
}(document,"DOMContentLoaded"),a1.on("raphael.DOMload",function(){a6=!0
}),function(){if(aI.svg){var G="hasOwnProperty",X=String,R=parseFloat,N=parseInt,ar=Math,H=ar.max,M=ar.abs,P=ar.pow,U=/[, ]+/,F=aI.eve,Z="",W=" ",L="http://www.w3.org/1999/xlink",Y={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},V={};
aI.toString=function(){return"Your browser supports SVG.\nYou are running Raphal "+this.version
};
var z=function(c,d){if(d){"string"==typeof c&&(c=z(c));
for(var b in d){d[G](b)&&("xlink:"==b.substring(0,6)?c.setAttributeNS(L,b.substring(6),X(d[b])):c.setAttribute(b,X(d[b])))
}}else{c=aI._g.doc.createElementNS("http://www.w3.org/2000/svg",c),c.style&&(c.style.webkitTapHighlightColor="rgba(0,0,0,0)")
}return c
},E=function(ch,l){var x="linear",cg=ch.id+l,B=0.5,c=0.5,S=ch.node,A=ch.paper,cf=S.style,cc=aI._g.doc.getElementById(cg);
if(!cc){if(l=X(l).replace(aI._radial_gradient,function(b,f,d){if(x="radial",f&&d){B=R(f),c=R(d);
var g=2*(c>0.5)-1;
P(B-0.5,2)+P(c-0.5,2)>0.25&&(c=ar.sqrt(0.25-P(B-0.5,2))*g+0.5)&&0.5!=c&&(c=c.toFixed(5)-0.00001*g)
}return Z
}),l=l.split(/\s*\-\s*/),"linear"==x){var o=l.shift();
if(o=-R(o),isNaN(o)){return null
}var T=[0,0,ar.cos(aI.rad(o)),ar.sin(aI.rad(o))],ce=1/(H(M(T[2]),M(T[3]))||1);
T[2]*=ce,T[3]*=ce,0>T[2]&&(T[0]=-T[2],T[2]=0),0>T[3]&&(T[1]=-T[3],T[3]=0)
}var cd=aI._parseDots(l);
if(!cd){return null
}if(cg=cg.replace(/[\(\)\s,\xb0#]/g,"_"),ch.gradient&&cg!=ch.gradient.id&&(A.defs.removeChild(ch.gradient),delete ch.gradient),!ch.gradient){cc=z(x+"Gradient",{id:cg}),ch.gradient=cc,z(cc,"radial"==x?{fx:B,fy:c}:{x1:T[0],y1:T[1],x2:T[2],y2:T[3],gradientTransform:ch.matrix.invert()}),A.defs.appendChild(cc);
for(var s=0,a=cd.length;
a>s;
s++){cc.appendChild(z("stop",{offset:cd[s].offset?cd[s].offset:s?"100%":"0%","stop-color":cd[s].color||"#fff"}))
}}}return z(S,{fill:"url(#"+cg+")",opacity:1,"fill-opacity":1}),cf.fill=Z,cf.opacity=1,cf.fillOpacity=1,1
},r=function(a){var b=a.getBBox(1);
z(a.pattern,{patternTransform:a.matrix.invert()+" translate("+b.x+","+b.y+")"})
},O=function(cq,cm,cu){if("path"==cq.type){for(var cg,cl,co,cr,ce,cs=X(cm).toLowerCase().split("-"),ck=cq.paper,cd=cu?"end":"start",x=cq.node,cn=cq.attrs,ct=cn["stroke-width"],cv=cs.length,cc="classic",cp=3,ch=3,ci=5;
cv--;
){switch(cs[cv]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":cc=cs[cv];
break;
case"wide":ch=5;
break;
case"narrow":ch=2;
break;
case"long":cp=5;
break;
case"short":cp=2
}}if("open"==cc?(cp+=2,ch+=2,ci+=2,co=1,cr=cu?4:1,ce={fill:"none",stroke:cn.stroke}):(cr=co=cp/2,ce={fill:cn.stroke,stroke:"none"}),cq._.arrows?cu?(cq._.arrows.endPath&&V[cq._.arrows.endPath]--,cq._.arrows.endMarker&&V[cq._.arrows.endMarker]--):(cq._.arrows.startPath&&V[cq._.arrows.startPath]--,cq._.arrows.startMarker&&V[cq._.arrows.startMarker]--):cq._.arrows={},"none"!=cc){var d="raphael-marker-"+cc,c="raphael-marker-"+cd+cc+cp+ch;
aI._g.doc.getElementById(d)?V[d]++:(ck.defs.appendChild(z(z("path"),{"stroke-linecap":"round",d:Y[cc],id:d})),V[d]=1);
var cj,g=aI._g.doc.getElementById(c);
g?(V[c]++,cj=g.getElementsByTagName("use")[0]):(g=z(z("marker"),{id:c,markerHeight:ch,markerWidth:cp,orient:"auto",refX:cr,refY:ch/2}),cj=z(z("use"),{"xlink:href":"#"+d,transform:(cu?"rotate(180 "+cp/2+" "+ch/2+") ":Z)+"scale("+cp/ci+","+ch/ci+")","stroke-width":(1/((cp/ci+ch/ci)/2)).toFixed(4)}),g.appendChild(cj),ck.defs.appendChild(g),V[c]=1),z(cj,ce);
var cf=co*("diamond"!=cc&&"oval"!=cc);
cu?(cg=cq._.arrows.startdx*ct||0,cl=aI.getTotalLength(cn.path)-cf*ct):(cg=cf*ct,cl=aI.getTotalLength(cn.path)-(cq._.arrows.enddx*ct||0)),ce={},ce["marker-"+cd]="url(#"+c+")",(cl||cg)&&(ce.d=aI.getSubpath(cn.path,cg,cl)),z(x,ce),cq._.arrows[cd+"Path"]=d,cq._.arrows[cd+"Marker"]=c,cq._.arrows[cd+"dx"]=cf,cq._.arrows[cd+"Type"]=cc,cq._.arrows[cd+"String"]=cm
}else{cu?(cg=cq._.arrows.startdx*ct||0,cl=aI.getTotalLength(cn.path)-cg):(cg=0,cl=aI.getTotalLength(cn.path)-(cq._.arrows.enddx*ct||0)),cq._.arrows[cd+"Path"]&&z(x,{d:aI.getSubpath(cn.path,cg,cl)}),delete cq._.arrows[cd+"Path"],delete cq._.arrows[cd+"Marker"],delete cq._.arrows[cd+"dx"],delete cq._.arrows[cd+"Type"],delete cq._.arrows[cd+"String"]
}for(ce in V){if(V[G](ce)&&!V[ce]){var t=aI._g.doc.getElementById(ce);
t&&t.parentNode.removeChild(t)
}}}},ae={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},be=function(d,g,c){if(g=ae[X(g).toLowerCase()]){for(var k=d.attrs["stroke-width"]||"1",b={round:k,square:k,butt:0}[d.attrs["stroke-linecap"]||c["stroke-linecap"]]||0,f=[],h=g.length;
h--;
){f[h]=g[h]*k+(h%2?1:-1)*b
}z(d.node,{"stroke-dasharray":f.join(",")})
}},D=function(ce,cj){var cc=ce.node,v=ce.attrs,cg=cc.style.visibility;
cc.style.visibility="hidden";
for(var ch in cj){if(cj[G](ch)){if(!aI._availableAttrs[G](ch)){continue
}var cf=cj[ch];
switch(v[ch]=cf,ch){case"blur":ce.blur(cf);
break;
case"href":case"title":case"target":var ci=cc.parentNode;
if("a"!=ci.tagName.toLowerCase()){var s=z("a");
ci.insertBefore(s,cc),s.appendChild(cc),ci=s
}"target"==ch?ci.setAttributeNS(L,"show","blank"==cf?"new":cf):ci.setAttributeNS(L,ch,cf);
break;
case"cursor":cc.style.cursor=cf;
break;
case"transform":ce.transform(cf);
break;
case"arrow-start":O(ce,cf);
break;
case"arrow-end":O(ce,cf,1);
break;
case"clip-rect":var cd=X(cf).split(U);
if(4==cd.length){ce.clip&&ce.clip.parentNode.parentNode.removeChild(ce.clip.parentNode);
var y=z("clipPath"),h=z("rect");
y.id=aI.createUUID(),z(h,{x:cd[0],y:cd[1],width:cd[2],height:cd[3]}),y.appendChild(h),ce.paper.defs.appendChild(y),z(cc,{"clip-path":"url(#"+y.id+")"}),ce.clip=h
}if(!cf){var c=cc.getAttribute("clip-path");
if(c){var C=aI._g.doc.getElementById(c.replace(/(^url\(#|\)$)/g,Z));
C&&C.parentNode.removeChild(C),z(cc,{"clip-path":Z}),delete ce.clip
}}break;
case"path":"path"==ce.type&&(z(cc,{d:cf?v.path=aI._pathToAbsolute(cf):"M0,0"}),ce._.dirty=1,ce._.arrows&&("startString" in ce._.arrows&&O(ce,ce._.arrows.startString),"endString" in ce._.arrows&&O(ce,ce._.arrows.endString,1)));
break;
case"width":if(cc.setAttribute(ch,cf),ce._.dirty=1,!v.fx){break
}ch="x",cf=v.x;
case"x":v.fx&&(cf=-v.x-(v.width||0));
case"rx":if("rx"==ch&&"rect"==ce.type){break
}case"cx":cc.setAttribute(ch,cf),ce.pattern&&r(ce),ce._.dirty=1;
break;
case"height":if(cc.setAttribute(ch,cf),ce._.dirty=1,!v.fy){break
}ch="y",cf=v.y;
case"y":v.fy&&(cf=-v.y-(v.height||0));
case"ry":if("ry"==ch&&"rect"==ce.type){break
}case"cy":cc.setAttribute(ch,cf),ce.pattern&&r(ce),ce._.dirty=1;
break;
case"r":"rect"==ce.type?z(cc,{rx:cf,ry:cf}):cc.setAttribute(ch,cf),ce._.dirty=1;
break;
case"src":"image"==ce.type&&cc.setAttributeNS(L,"href",cf);
break;
case"stroke-width":(1!=ce._.sx||1!=ce._.sy)&&(cf/=H(M(ce._.sx),M(ce._.sy))||1),ce.paper._vbSize&&(cf*=ce.paper._vbSize),cc.setAttribute(ch,cf),v["stroke-dasharray"]&&be(ce,v["stroke-dasharray"],cj),ce._.arrows&&("startString" in ce._.arrows&&O(ce,ce._.arrows.startString),"endString" in ce._.arrows&&O(ce,ce._.arrows.endString,1));
break;
case"stroke-dasharray":be(ce,cf,cj);
break;
case"fill":var m=X(cf).match(aI._ISURL);
if(m){y=z("pattern");
var x=z("image");
y.id=aI.createUUID(),z(y,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),z(x,{x:0,y:0,"xlink:href":m[1]}),y.appendChild(x),function(a){aI._preload(m[1],function(){var d=this.offsetWidth,b=this.offsetHeight;
z(a,{width:d,height:b}),z(x,{width:d,height:b}),ce.paper.safari()
})
}(y),ce.paper.defs.appendChild(y),z(cc,{fill:"url(#"+y.id+")"}),ce.pattern=y,ce.pattern&&r(ce);
break
}var o=aI.getRGB(cf);
if(o.error){if(("circle"==ce.type||"ellipse"==ce.type||"r"!=X(cf).charAt())&&E(ce,cf)){if("opacity" in v||"fill-opacity" in v){var n=aI._g.doc.getElementById(cc.getAttribute("fill").replace(/^url\(#|\)$/g,Z));
if(n){var p=n.getElementsByTagName("stop");
z(p[p.length-1],{"stop-opacity":("opacity" in v?v.opacity:1)*("fill-opacity" in v?v["fill-opacity"]:1)})
}}v.gradient=cf,v.fill="none";
break
}}else{delete cj.gradient,delete v.gradient,!aI.is(v.opacity,"undefined")&&aI.is(cj.opacity,"undefined")&&z(cc,{opacity:v.opacity}),!aI.is(v["fill-opacity"],"undefined")&&aI.is(cj["fill-opacity"],"undefined")&&z(cc,{"fill-opacity":v["fill-opacity"]})
}o[G]("opacity")&&z(cc,{"fill-opacity":o.opacity>1?o.opacity/100:o.opacity});
case"stroke":o=aI.getRGB(cf),cc.setAttribute(ch,o.hex),"stroke"==ch&&o[G]("opacity")&&z(cc,{"stroke-opacity":o.opacity>1?o.opacity/100:o.opacity}),"stroke"==ch&&ce._.arrows&&("startString" in ce._.arrows&&O(ce,ce._.arrows.startString),"endString" in ce._.arrows&&O(ce,ce._.arrows.endString,1));
break;
case"gradient":("circle"==ce.type||"ellipse"==ce.type||"r"!=X(cf).charAt())&&E(ce,cf);
break;
case"opacity":v.gradient&&!v[G]("stroke-opacity")&&z(cc,{"stroke-opacity":cf>1?cf/100:cf});
case"fill-opacity":if(v.gradient){n=aI._g.doc.getElementById(cc.getAttribute("fill").replace(/^url\(#|\)$/g,Z)),n&&(p=n.getElementsByTagName("stop"),z(p[p.length-1],{"stop-opacity":cf}));
break
}default:"font-size"==ch&&(cf=N(cf,10)+"px");
var t=ch.replace(/(\-.)/g,function(a){return a.substring(1).toUpperCase()
});
cc.style[t]=cf,ce._.dirty=1,cc.setAttribute(ch,cf)
}}}I(ce,cj),cc.style.visibility=cg
},Q=1.2,I=function(m,y){if("text"==m.type&&(y[G]("text")||y[G]("font")||y[G]("font-size")||y[G]("x")||y[G]("y"))){var C=m.attrs,c=m.node,k=c.firstChild?N(aI._g.doc.defaultView.getComputedStyle(c.firstChild,Z).getPropertyValue("font-size"),10):10;
if(y[G]("text")){for(C.text=y.text;
c.firstChild;
){c.removeChild(c.firstChild)
}for(var n,B=X(y.text).split("\n"),w=[],b=0,x=B.length;
x>b;
b++){n=z("tspan"),b&&z(n,{dy:k*Q,x:C.x}),n.appendChild(aI._g.doc.createTextNode(B[b])),c.appendChild(n),w[b]=n
}}else{for(w=c.getElementsByTagName("tspan"),b=0,x=w.length;
x>b;
b++){b?z(w[b],{dy:k*Q,x:C.x}):z(w[0],{dy:0})
}}z(c,{x:C.x,y:C.y}),m._.dirty=1;
var t=m._getBBox(),A=C.y-(t.y+t.height/2);
A&&aI.is(A,"finite")&&z(w[0],{dy:A})
}},J=function(a,b){this[0]=this.node=a,a.raphael=!0,this.id=aI._oid++,a.raphaelid=this.id,this.matrix=aI.matrix(),this.realPath=null,this.paper=b,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!b.bottom&&(b.bottom=this),this.prev=b.top,b.top&&(b.top.next=this),b.top=this,this.next=null
},q=aI.el;
J.prototype=q,q.constructor=J,aI._engine.path=function(b,d){var c=z("path");
d.canvas&&d.canvas.appendChild(c);
var a=new J(c,d);
return a.type="path",D(a,{fill:"none",stroke:"#000",path:b}),a
},q.rotate=function(c,d,f){if(this.removed){return this
}if(c=X(c).split(U),c.length-1&&(d=R(c[1]),f=R(c[2])),c=R(c[0]),null==f&&(d=f),null==d||null==f){var b=this.getBBox(1);
d=b.x+b.width/2,f=b.y+b.height/2
}return this.transform(this._.transform.concat([["r",c,d,f]])),this
},q.scale=function(c,f,g,b){if(this.removed){return this
}if(c=X(c).split(U),c.length-1&&(f=R(c[1]),g=R(c[2]),b=R(c[3])),c=R(c[0]),null==f&&(f=c),null==b&&(g=b),null==g||null==b){var d=this.getBBox(1)
}return g=null==g?d.x+d.width/2:g,b=null==b?d.y+d.height/2:b,this.transform(this._.transform.concat([["s",c,f,g,b]])),this
},q.translate=function(a,b){return this.removed?this:(a=X(a).split(U),a.length-1&&(b=R(a[1])),a=R(a[0])||0,b=+b||0,this.transform(this._.transform.concat([["t",a,b]])),this)
},q.transform=function(b){var a=this._;
if(null==b){return a.transform
}if(aI._extractTransform(this,b),this.clip&&z(this.clip,{transform:this.matrix.invert()}),this.pattern&&r(this),this.node&&z(this.node,{transform:this.matrix}),1!=a.sx||1!=a.sy){var c=this.attrs[G]("stroke-width")?this.attrs["stroke-width"]:1;
this.attr({"stroke-width":c})
}return this
},q.hide=function(){return !this.removed&&this.paper.safari(this.node.style.display="none"),this
},q.show=function(){return !this.removed&&this.paper.safari(this.node.style.display=""),this
},q.remove=function(){if(!this.removed&&this.node.parentNode){var a=this.paper;
a.__set__&&a.__set__.exclude(this),F.unbind("raphael.*.*."+this.id),this.gradient&&a.defs.removeChild(this.gradient),aI._tear(this,a),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);
for(var b in this){this[b]="function"==typeof this[b]?aI._removedFactory(b):null
}this.removed=!0
}},q._getBBox=function(){if("none"==this.node.style.display){this.show();
var a=!0
}var c={};
try{c=this.node.getBBox()
}catch(b){}finally{c=c||{}
}return a&&this.hide(),c
},q.attr=function(w,t){if(this.removed){return this
}if(null==w){var k={};
for(var A in this.attrs){this.attrs[G](A)&&(k[A]=this.attrs[A])
}return k.gradient&&"none"==k.fill&&(k.fill=k.gradient)&&delete k.gradient,k.transform=this._.transform,k
}if(null==t&&aI.is(w,"string")){if("fill"==w&&"none"==this.attrs.fill&&this.attrs.gradient){return this.attrs.gradient
}if("transform"==w){return this._.transform
}for(var B=w.split(U),h={},m=0,y=B.length;
y>m;
m++){w=B[m],h[w]=w in this.attrs?this.attrs[w]:aI.is(this.paper.customAttributes[w],"function")?this.paper.customAttributes[w].def:aI._availableAttrs[w]
}return y-1?h:h[B[0]]
}if(null==t&&aI.is(w,"array")){for(h={},m=0,y=w.length;
y>m;
m++){h[w[m]]=this.attr(w[m])
}return h
}if(null!=t){var v={};
v[w]=t
}else{null!=w&&aI.is(w,"object")&&(v=w)
}for(var b in v){F("raphael.attr."+b+"."+this.id,this,v[b])
}for(b in this.paper.customAttributes){if(this.paper.customAttributes[G](b)&&v[G](b)&&aI.is(this.paper.customAttributes[b],"function")){var x=this.paper.customAttributes[b].apply(this,[].concat(v[b]));
this.attrs[b]=v[b];
for(var u in x){x[G](u)&&(v[u]=x[u])
}}}return D(this,v),this
},q.toFront=function(){if(this.removed){return this
}"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);
var a=this.paper;
return a.top!=this&&aI._tofront(this,a),this
},q.toBack=function(){if(this.removed){return this
}var a=this.node.parentNode;
return"a"==a.tagName.toLowerCase()?a.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):a.firstChild!=this.node&&a.insertBefore(this.node,this.node.parentNode.firstChild),aI._toback(this,this.paper),this.paper,this
},q.insertAfter=function(a){if(this.removed){return this
}var b=a.node||a[a.length-1].node;
return b.nextSibling?b.parentNode.insertBefore(this.node,b.nextSibling):b.parentNode.appendChild(this.node),aI._insertafter(this,a,this.paper),this
},q.insertBefore=function(a){if(this.removed){return this
}var b=a.node||a[0].node;
return b.parentNode.insertBefore(this.node,b),aI._insertbefore(this,a,this.paper),this
},q.blur=function(b){var c=this;
if(0!==+b){var a=z("filter"),d=z("feGaussianBlur");
c.attrs.blur=b,a.id=aI.createUUID(),z(d,{stdDeviation:+b||1.5}),a.appendChild(d),c.paper.defs.appendChild(a),c._blur=a,z(c.node,{filter:"url(#"+a.id+")"})
}else{c._blur&&(c._blur.parentNode.removeChild(c._blur),delete c._blur,delete c.attrs.blur),c.node.removeAttribute("filter")
}return c
},aI._engine.circle=function(d,g,f,c){var h=z("circle");
d.canvas&&d.canvas.appendChild(h);
var b=new J(h,d);
return b.attrs={cx:g,cy:f,r:c,fill:"none",stroke:"#000"},b.type="circle",z(h,b.attrs),b
},aI._engine.rect=function(d,h,g,c,l,b){var f=z("rect");
d.canvas&&d.canvas.appendChild(f);
var k=new J(f,d);
return k.attrs={x:h,y:g,width:c,height:l,r:b||0,rx:b||0,ry:b||0,fill:"none",stroke:"#000"},k.type="rect",z(f,k.attrs),k
},aI._engine.ellipse=function(d,h,g,c,k){var b=z("ellipse");
d.canvas&&d.canvas.appendChild(b);
var f=new J(b,d);
return f.attrs={cx:h,cy:g,rx:c,ry:k,fill:"none",stroke:"#000"},f.type="ellipse",z(b,f.attrs),f
},aI._engine.image=function(d,h,g,c,l,b){var f=z("image");
z(f,{x:g,y:c,width:l,height:b,preserveAspectRatio:"none"}),f.setAttributeNS(L,"href",h),d.canvas&&d.canvas.appendChild(f);
var k=new J(f,d);
return k.attrs={x:g,y:c,width:l,height:b,src:h},k.type="image",k
},aI._engine.text=function(d,g,c,h){var b=z("text");
d.canvas&&d.canvas.appendChild(b);
var f=new J(b,d);
return f.attrs={x:g,y:c,"text-anchor":"middle",text:h,font:aI._availableAttrs.font,stroke:"none",fill:"#000"},f.type="text",D(f,f.attrs),f
},aI._engine.setSize=function(a,b){return this.width=a||this.width,this.height=b||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this
},aI._engine.create=function(){var p=aI._getContainer.apply(0,arguments),k=p&&p.container,f=p.x,c=p.y,m=p.width,u=p.height;
if(!k){throw Error("SVG container not found.")
}var b,d=z("svg"),g="overflow:hidden;";
return f=f||0,c=c||0,m=m||512,u=u||342,z(d,{height:u,version:1.1,width:m,xmlns:"http://www.w3.org/2000/svg"}),1==k?(d.style.cssText=g+"position:absolute;left:"+f+"px;top:"+c+"px",aI._g.doc.body.appendChild(d),b=1):(d.style.cssText=g+"position:relative",k.firstChild?k.insertBefore(d,k.firstChild):k.appendChild(d)),k=new aI._Paper,k.width=m,k.height=u,k.canvas=d,k.clear(),k._left=k._top=0,b&&(k.renderfix=function(){}),k.renderfix(),k
},aI._engine.setViewBox=function(v,p,b,k,f){F("raphael.setViewBox",this,this._viewBox,[v,p,b,k,f]);
var u,d,g=H(b/this.width,k/this.height),m=this.top,s=f?"meet":"xMinYMin";
for(null==v?(this._vbSize&&(g=1),delete this._vbSize,u="0 0 "+this.width+W+this.height):(this._vbSize=g,u=v+W+p+W+b+W+k),z(this.canvas,{viewBox:u,preserveAspectRatio:s});
g&&m;
){d="stroke-width" in m.attrs?m.attrs["stroke-width"]:1,m.attr({"stroke-width":d}),m._.dirty=1,m._.dirtyT=1,m=m.prev
}return this._viewBox=[v,p,b,k,!!f],this
},aI.prototype.renderfix=function(){var d,g=this.canvas,f=g.style;
try{d=g.getScreenCTM()||g.createSVGMatrix()
}catch(c){d=g.createSVGMatrix()
}var h=-d.e%1,b=-d.f%1;
(h||b)&&(h&&(this._left=(this._left+h)%1,f.left=this._left+"px"),b&&(this._top=(this._top+b)%1,f.top=this._top+"px"))
},aI.prototype.clear=function(){aI.eve("raphael.clear",this);
for(var a=this.canvas;
a.firstChild;
){a.removeChild(a.firstChild)
}this.bottom=this.top=null,(this.desc=z("desc")).appendChild(aI._g.doc.createTextNode("Created with Raphal "+aI.version)),a.appendChild(this.desc),a.appendChild(this.defs=z("defs"))
},aI.prototype.remove=function(){F("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);
for(var a in this){this[a]="function"==typeof this[a]?aI._removedFactory(a):null
}};
var j=aI.st;
for(var K in q){q[G](K)&&!j[G](K)&&(j[K]=function(a){return function(){var b=arguments;
return this.forEach(function(c){c[a].apply(c,b)
})
}
}(K))
}}}(),function(){if(aI.vml){var Q="hasOwnProperty",cg=String,cc=parseFloat,Z=Math,ck=Z.round,R=Z.max,Y=Z.min,ar=Z.abs,cd="fill",O=/[, ]+/,ci=aI.eve,cf=" progid:DXImageTransform.Microsoft",X=" ",ch="",ce={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},I=/([clmz]),?([^clmz]*)/gi,K=/ progid:\S+Blur\([^\)]+\)/g,H=/-?[^,\s-]+/g,ae="position:absolute;left:0;top:0;width:1px;height:1px",cj=21600,cl={path:1,rect:1,image:1},J={circle:1,ellipse:1},be=function(y){var g=/[ahqstv]/gi,b=aI._pathToAbsolute;
if(cg(y).match(g)&&(b=aI._path2curve),g=/[clmz]/g,b==aI._pathToAbsolute&&!cg(y).match(g)){var z=cg(y).replace(I,function(f,o,l){var c=[],u="m"==o.toLowerCase(),h=ce[o];
return l.replace(H,function(n){u&&2==c.length&&(h+=c+ce["m"==o?"l":"L"],c=[]),c.push(ck(n*cj))
}),h+c
});
return z
}var a,d,k=b(y);
z=[];
for(var x=0,p=k.length;
p>x;
x++){a=k[x],d=k[x][0].toLowerCase(),"z"==d&&(d="x");
for(var m=1,w=a.length;
w>m;
m++){d+=ck(a[m]*cj)+(m!=w-1?",":ch)
}z.push(d)
}return z.join(X)
},U=function(b,c,a){var d=aI.matrix();
return d.rotate(-b,0.5,0.5),{dx:d.x(c,a),dy:d.y(c,a)}
},V=function(T,A,b,p,k,M){var cm=T._,h=T.matrix,S=cm.fillpos,C=T.node,z=C.style,B=1,w="",L=cj/A,N=cj/b;
if(z.visibility="hidden",A&&b){if(C.coordsize=ar(L)+X+ar(N),z.rotation=M*(0>A*b?-1:1),M){var E=U(M,p,k);
p=E.dx,k=E.dy
}if(0>A&&(w+="x"),0>b&&(w+=" y")&&(B=-1),z.flip=w,C.coordorigin=p*-L+X+k*-N,S||cm.fillsize){var l=C.getElementsByTagName(cd);
l=l&&l[0],C.removeChild(l),S&&(E=U(M,h.x(S[0],S[1]),h.y(S[0],S[1])),l.position=E.dx*B+X+E.dy*B),cm.fillsize&&(l.size=cm.fillsize[0]*ar(A)+X+cm.fillsize[1]*ar(b)),C.appendChild(l)
}z.visibility="visible"
}};
aI.toString=function(){return"Your browser doesnt support SVG. Falling down to VML.\nYou are running Raphal "+this.version
};
var q=function(v,b,g){for(var d=cg(b).toLowerCase().split("-"),m=g?"end":"start",w=d.length,c="classic",f="medium",k="medium";
w--;
){switch(d[w]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":c=d[w];
break;
case"wide":case"narrow":k=d[w];
break;
case"long":case"short":f=d[w]
}}var p=v.node.getElementsByTagName("stroke")[0];
p[m+"arrow"]=c,p[m+"arrowlength"]=f,p[m+"arrowwidth"]=k
},j=function(cy,cA){cy.attrs=cy.attrs||{};
var cE=cy.node,cD=cy.attrs,cC=cE.style,cp=cl[cy.type]&&(cA.x!=cD.x||cA.y!=cD.y||cA.width!=cD.width||cA.height!=cD.height||cA.cx!=cD.cx||cA.cy!=cD.cy||cA.rx!=cD.rx||cA.ry!=cD.ry||cA.r!=cD.r),cs=J[cy.type]&&(cD.cx!=cA.cx||cD.cy!=cA.cy||cD.r!=cA.r||cD.rx!=cA.rx||cD.ry!=cA.ry),cn=cy;
for(var cz in cA){cA[Q](cz)&&(cD[cz]=cA[cz])
}if(cp&&(cD.path=aI._getPath[cy.type](cy),cy._.dirty=1),cA.href&&(cE.href=cA.href),cA.title&&(cE.title=cA.title),cA.target&&(cE.target=cA.target),cA.cursor&&(cC.cursor=cA.cursor),"blur" in cA&&cy.blur(cA.blur),(cA.path&&"path"==cy.type||cp)&&(cE.path=be(~cg(cD.path).toLowerCase().indexOf("r")?aI._pathToAbsolute(cD.path):cD.path),"image"==cy.type&&(cy._.fillpos=[cD.x,cD.y],cy._.fillsize=[cD.width,cD.height],V(cy,1,1,0,0,0))),"transform" in cA&&cy.transform(cA.transform),cs){var cw=+cD.cx,p=+cD.cy,B=+cD.rx||+cD.r||0,cu=+cD.ry||+cD.r||0;
cE.path=aI.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",ck((cw-B)*cj),ck((p-cu)*cj),ck((cw+B)*cj),ck((p+cu)*cj),ck(cw*cj)),cy._.dirty=1
}if("clip-rect" in cA){var L=cg(cA["clip-rect"]).split(O);
if(4==L.length){L[2]=+L[2]+ +L[0],L[3]=+L[3]+ +L[1];
var S=cE.clipRect||aI._g.doc.createElement("div"),ct=S.style;
ct.clip=aI.format("rect({1}px {2}px {3}px {0}px)",L),cE.clipRect||(ct.position="absolute",ct.top=0,ct.left=0,ct.width=cy.paper.width+"px",ct.height=cy.paper.height+"px",cE.parentNode.insertBefore(S,cE),S.appendChild(cE),cE.clipRect=S)
}cA["clip-rect"]||cE.clipRect&&(cE.clipRect.style.clip="auto")
}if(cy.textpath){var w=cy.textpath.style;
cA.font&&(w.font=cA.font),cA["font-family"]&&(w.fontFamily='"'+cA["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,ch)+'"'),cA["font-size"]&&(w.fontSize=cA["font-size"]),cA["font-weight"]&&(w.fontWeight=cA["font-weight"]),cA["font-style"]&&(w.fontStyle=cA["font-style"])
}if("arrow-start" in cA&&q(cn,cA["arrow-start"]),"arrow-end" in cA&&q(cn,cA["arrow-end"],1),null!=cA.opacity||null!=cA["stroke-width"]||null!=cA.fill||null!=cA.src||null!=cA.stroke||null!=cA["stroke-width"]||null!=cA["stroke-opacity"]||null!=cA["fill-opacity"]||null!=cA["stroke-dasharray"]||null!=cA["stroke-miterlimit"]||null!=cA["stroke-linejoin"]||null!=cA["stroke-linecap"]){var t=cE.getElementsByTagName(cd),co=!1;
if(t=t&&t[0],!t&&(co=t=F(cd)),"image"==cy.type&&cA.src&&(t.src=cA.src),cA.fill&&(t.on=!0),(null==t.on||"none"==cA.fill||null===cA.fill)&&(t.on=!1),t.on&&cA.fill){var cB=cg(cA.fill).match(aI._ISURL);
if(cB){t.parentNode==cE&&cE.removeChild(t),t.rotate=!0,t.src=cB[1],t.type="tile";
var cx=cy.getBBox(1);
t.position=cx.x+X+cx.y,cy._.fillpos=[cx.x,cx.y],aI._preload(cB[1],function(){cy._.fillsize=[this.offsetWidth,this.offsetHeight]
})
}else{t.color=aI.getRGB(cA.fill).hex,t.src=ch,t.type="solid",aI.getRGB(cA.fill).error&&(cn.type in {circle:1,ellipse:1}||"r"!=cg(cA.fill).charAt())&&W(cn,cA.fill,t)&&(cD.fill="none",cD.gradient=cA.fill,t.rotate=!1)
}}if("fill-opacity" in cA||"opacity" in cA){var cv=((+cD["fill-opacity"]+1||2)-1)*((+cD.opacity+1||2)-1)*((+aI.getRGB(cA.fill).o+1||2)-1);
cv=Y(R(cv,0),1),t.opacity=cv,t.src&&(t.color="none")
}cE.appendChild(t);
var A=cE.getElementsByTagName("stroke")&&cE.getElementsByTagName("stroke")[0],k=!1;
!A&&(k=A=F("stroke")),(cA.stroke&&"none"!=cA.stroke||cA["stroke-width"]||null!=cA["stroke-opacity"]||cA["stroke-dasharray"]||cA["stroke-miterlimit"]||cA["stroke-linejoin"]||cA["stroke-linecap"])&&(A.on=!0),("none"==cA.stroke||null===cA.stroke||null==A.on||0==cA.stroke||0==cA["stroke-width"])&&(A.on=!1);
var b=aI.getRGB(cA.stroke);
A.on&&cA.stroke&&(A.color=b.hex),cv=((+cD["stroke-opacity"]+1||2)-1)*((+cD.opacity+1||2)-1)*((+b.o+1||2)-1);
var cr=0.75*(cc(cA["stroke-width"])||1);
if(cv=Y(R(cv,0),1),null==cA["stroke-width"]&&(cr=cD["stroke-width"]),cA["stroke-width"]&&(A.weight=cr),cr&&1>cr&&(cv*=cr)&&(A.weight=1),A.opacity=cv,cA["stroke-linejoin"]&&(A.joinstyle=cA["stroke-linejoin"]||"miter"),A.miterlimit=cA["stroke-miterlimit"]||8,cA["stroke-linecap"]&&(A.endcap="butt"==cA["stroke-linecap"]?"flat":"square"==cA["stroke-linecap"]?"square":"round"),cA["stroke-dasharray"]){var h={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};
A.dashstyle=h[Q](cA["stroke-dasharray"])?h[cA["stroke-dasharray"]]:ch
}k&&cE.appendChild(A)
}if("text"==cn.type){cn.paper.canvas.style.display=ch;
var d=cn.paper.span,cq=100,o=cD.font&&cD.font.match(/\d+(?:\.\d*)?(?=px)/);
cC=d.style,cD.font&&(cC.font=cD.font),cD["font-family"]&&(cC.fontFamily=cD["font-family"]),cD["font-weight"]&&(cC.fontWeight=cD["font-weight"]),cD["font-style"]&&(cC.fontStyle=cD["font-style"]),o=cc(cD["font-size"]||o&&o[0])||10,cC.fontSize=o*cq+"px",cn.textpath.string&&(d.innerHTML=cg(cn.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));
var s=d.getBoundingClientRect();
cn.W=cD.w=(s.right-s.left)/cq,cn.H=cD.h=(s.bottom-s.top)/cq,cn.X=cD.x,cn.Y=cD.y+cn.H/2,("x" in cA||"y" in cA)&&(cn.path.v=aI.format("m{0},{1}l{2},{1}",ck(cD.x*cj),ck(cD.y*cj),ck(cD.x*cj)+1));
for(var a=["x","y","text","font","font-family","font-weight","font-style","font-size"],u=0,cm=a.length;
cm>u;
u++){if(a[u] in cA){cn._.dirty=1;
break
}}switch(cD["text-anchor"]){case"start":cn.textpath.style["v-text-align"]="left",cn.bbx=cn.W/2;
break;
case"end":cn.textpath.style["v-text-align"]="right",cn.bbx=-cn.W/2;
break;
default:cn.textpath.style["v-text-align"]="center",cn.bbx=0
}cn.textpath.style["v-text-kern"]=!0
}},W=function(z,w,A){z.attrs=z.attrs||{};
var b=(z.attrs,Math.pow),d="linear",k=".5 .5";
if(z.attrs.gradient=w,w=cg(w).replace(aI._radial_gradient,function(a,f,c){return d="radial",f&&c&&(f=cc(f),c=cc(c),b(f-0.5,2)+b(c-0.5,2)>0.25&&(c=Z.sqrt(0.25-b(f-0.5,2))*(2*(c>0.5)-1)+0.5),k=f+X+c),ch
}),w=w.split(/\s*\-\s*/),"linear"==d){var y=w.shift();
if(y=-cc(y),isNaN(y)){return null
}}var p=aI._parseDots(w);
if(!p){return null
}if(z=z.shape||z.node,p.length){z.removeChild(A),A.on=!0,A.method="none",A.color=p[0].color,A.color2=p[p.length-1].color;
for(var n=[],m=0,v=p.length;
v>m;
m++){p[m].offset&&n.push(p[m].offset+X+p[m].color)
}A.colors=n.length?n.join():"0% "+A.color,"radial"==d?(A.type="gradientTitle",A.focus="100%",A.focussize="0 0",A.focusposition=k,A.angle=0):(A.type="gradient",A.angle=(270-y)%360),z.appendChild(A)
}return 1
},r=function(a,b){this[0]=this.node=a,a.raphael=!0,this.id=aI._oid++,a.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=b,this.matrix=aI.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!b.bottom&&(b.bottom=this),this.prev=b.top,b.top&&(b.top.next=this),b.top=this,this.next=null
},P=aI.el;
r.prototype=P,P.constructor=r,P.transform=function(L){if(null==L){return this._.transform
}var m,d=this.paper._viewBoxShift,B=d?"s"+[d.scale,d.scale]+"-1-1t"+[d.dx,d.dy]:ch;
d&&(m=L=cg(L).replace(/\.{3}|\u2026/g,this._.transform||ch)),aI._extractTransform(this,B+L);
var M,b=this.matrix.clone(),k=this.skew,p=this.node,E=~cg(this.attrs.fill).indexOf("-"),z=!cg(this.attrs.fill).indexOf("url(");
if(b.translate(-0.5,-0.5),z||E||"image"==this.type){if(k.matrix="1 0 0 1",k.offset="0 0",M=b.split(),E&&M.noRotation||!M.isSimple){p.style.filter=b.toFilter();
var y=this.getBBox(),w=this.getBBox(1),A=y.x-w.x,C=y.y-w.y;
p.coordorigin=A*-cj+X+C*-cj,V(this,1,1,A,C,0)
}else{p.style.filter=ch,V(this,M.scalex,M.scaley,M.dx,M.dy,M.rotate)
}}else{p.style.filter=ch,k.matrix=cg(b),k.offset=b.offset()
}return m&&(this._.transform=m),this
},P.rotate=function(c,d,f){if(this.removed){return this
}if(null!=c){if(c=cg(c).split(O),c.length-1&&(d=cc(c[1]),f=cc(c[2])),c=cc(c[0]),null==f&&(d=f),null==d||null==f){var b=this.getBBox(1);
d=b.x+b.width/2,f=b.y+b.height/2
}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",c,d,f]])),this
}},P.translate=function(a,b){return this.removed?this:(a=cg(a).split(O),a.length-1&&(b=cc(a[1])),a=cc(a[0])||0,b=+b||0,this._.bbox&&(this._.bbox.x+=a,this._.bbox.y+=b),this.transform(this._.transform.concat([["t",a,b]])),this)
},P.scale=function(c,f,g,b){if(this.removed){return this
}if(c=cg(c).split(O),c.length-1&&(f=cc(c[1]),g=cc(c[2]),b=cc(c[3]),isNaN(g)&&(g=null),isNaN(b)&&(b=null)),c=cc(c[0]),null==f&&(f=c),null==b&&(g=b),null==g||null==b){var d=this.getBBox(1)
}return g=null==g?d.x+d.width/2:g,b=null==b?d.y+d.height/2:b,this.transform(this._.transform.concat([["s",c,f,g,b]])),this._.dirtyT=1,this
},P.hide=function(){return !this.removed&&(this.node.style.display="none"),this
},P.show=function(){return !this.removed&&(this.node.style.display=ch),this
},P._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}
},P.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),aI.eve.unbind("raphael.*.*."+this.id),aI._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);
for(var a in this){this[a]="function"==typeof this[a]?aI._removedFactory(a):null
}this.removed=!0
}},P.attr=function(v,m){if(this.removed){return this
}if(null==v){var h={};
for(var z in this.attrs){this.attrs[Q](z)&&(h[z]=this.attrs[z])
}return h.gradient&&"none"==h.fill&&(h.fill=h.gradient)&&delete h.gradient,h.transform=this._.transform,h
}if(null==m&&aI.is(v,"string")){if(v==cd&&"none"==this.attrs.fill&&this.attrs.gradient){return this.attrs.gradient
}for(var A=v.split(O),c={},k=0,u=A.length;
u>k;
k++){v=A[k],c[v]=v in this.attrs?this.attrs[v]:aI.is(this.paper.customAttributes[v],"function")?this.paper.customAttributes[v].def:aI._availableAttrs[v]
}return u-1?c:c[A[0]]
}if(this.attrs&&null==m&&aI.is(v,"array")){for(c={},k=0,u=v.length;
u>k;
k++){c[v[k]]=this.attr(v[k])
}return c
}var b;
null!=m&&(b={},b[v]=m),null==m&&aI.is(v,"object")&&(b=v);
for(var w in b){ci("raphael.attr."+w+"."+this.id,this,b[w])
}if(b){for(w in this.paper.customAttributes){if(this.paper.customAttributes[Q](w)&&b[Q](w)&&aI.is(this.paper.customAttributes[w],"function")){var t=this.paper.customAttributes[w].apply(this,[].concat(b[w]));
this.attrs[w]=b[w];
for(var y in t){t[Q](y)&&(b[y]=t[y])
}}}b.text&&"text"==this.type&&(this.textpath.string=b.text),j(this,b)
}return this
},P.toFront=function(){return !this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&aI._tofront(this,this.paper),this
},P.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),aI._toback(this,this.paper)),this)
},P.insertAfter=function(a){return this.removed?this:(a.constructor==aI.st.constructor&&(a=a[a.length-1]),a.node.nextSibling?a.node.parentNode.insertBefore(this.node,a.node.nextSibling):a.node.parentNode.appendChild(this.node),aI._insertafter(this,a,this.paper),this)
},P.insertBefore=function(a){return this.removed?this:(a.constructor==aI.st.constructor&&(a=a[0]),a.node.parentNode.insertBefore(this.node,a.node),aI._insertbefore(this,a,this.paper),this)
},P.blur=function(b){var c=this.node.runtimeStyle,a=c.filter;
return a=a.replace(K,ch),0!==+b?(this.attrs.blur=b,c.filter=a+X+cf+".Blur(pixelradius="+(+b||1.5)+")",c.margin=aI.format("-{0}px 0 0 -{0}px",ck(+b||1.5))):(c.filter=a,c.margin=0,delete this.attrs.blur),this
},aI._engine.path=function(d,g){var f=F("shape");
f.style.cssText=ae,f.coordsize=cj+X+cj,f.coordorigin=g.coordorigin;
var c=new r(f,g),h={fill:"none",stroke:"#000"};
d&&(h.path=d),c.type="path",c.path=[],c.Path=ch,j(c,h),g.canvas.appendChild(f);
var b=F("skew");
return b.on=!0,f.appendChild(b),c.skew=b,c.transform(ch),c
},aI._engine.rect=function(p,k,f,c,m,u){var b=aI._rectPath(k,f,c,m,u),d=p.path(b),g=d.attrs;
return d.X=g.x=k,d.Y=g.y=f,d.W=g.width=c,d.H=g.height=m,g.r=u,g.path=b,d.type="rect",d
},aI._engine.ellipse=function(d,g,f,c,h){var b=d.path();
return b.attrs,b.X=g-c,b.Y=f-h,b.W=2*c,b.H=2*h,b.type="ellipse",j(b,{cx:g,cy:f,rx:c,ry:h}),b
},aI._engine.circle=function(b,d,c,a){var f=b.path();
return f.attrs,f.X=d-a,f.Y=c-a,f.W=f.H=2*a,f.type="circle",j(f,{cx:d,cy:c,r:a}),f
},aI._engine.image=function(x,m,h,d,v,y){var b=aI._rectPath(h,d,v,y),g=x.path(b).attr({stroke:"none"}),w=g.attrs,p=g.node,k=p.getElementsByTagName(cd)[0];
return w.src=m,g.X=w.x=h,g.Y=w.y=d,g.W=w.width=v,g.H=w.height=y,w.path=b,g.type="image",k.parentNode==p&&p.removeChild(k),k.rotate=!0,k.src=m,k.type="tile",g._.fillpos=[h,d],g._.fillsize=[v,y],p.appendChild(k),V(g,1,1,0,0,0),g
},aI._engine.text=function(w,g,b,x){var a=F("shape"),d=F("path"),k=F("textpath");
g=g||0,b=b||0,x=x||"",d.v=aI.format("m{0},{1}l{2},{1}",ck(g*cj),ck(b*cj),ck(g*cj)+1),d.textpathok=!0,k.string=cg(x),k.on=!0,a.style.cssText=ae,a.coordsize=cj+X+cj,a.coordorigin="0 0";
var v=new r(a,w),p={fill:"#000",stroke:"none",font:aI._availableAttrs.font,text:x};
v.shape=a,v.path=d,v.textpath=k,v.type="text",v.attrs.text=cg(x),v.attrs.x=g,v.attrs.y=b,v.attrs.w=1,v.attrs.h=1,j(v,p),a.appendChild(k),a.appendChild(d),w.canvas.appendChild(a);
var m=F("skew");
return m.on=!0,a.appendChild(m),v.skew=m,v.transform(ch),v
},aI._engine.setSize=function(b,c){var a=this.canvas.style;
return this.width=b,this.height=c,b==+b&&(b+="px"),c==+c&&(c+="px"),a.width=b,a.height=c,a.clip="rect(0 "+b+" "+c+" 0)",this._viewBox&&aI._engine.setViewBox.apply(this,this._viewBox),this
},aI._engine.setViewBox=function(w,m,g,d,s){aI.eve("raphael.setViewBox",this,this._viewBox,[w,m,g,d,s]);
var b,f,k=this.width,v=this.height,p=1/R(g/k,d/v);
return s&&(b=v/d,f=k/g,k>g*b&&(w-=(k-g*b)/2/b),v>d*f&&(m-=(v-d*f)/2/f)),this._viewBox=[w,m,g,d,!!s],this._viewBoxShift={dx:-w,dy:-m,scale:p},this.forEach(function(a){a.transform("...")
}),this
};
var F;
aI._engine.initWin=function(a){var c=a.document;
c.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");
try{!c.namespaces.rvml&&c.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),F=function(d){return c.createElement("<rvml:"+d+' class="rvml">')
}
}catch(b){F=function(d){return c.createElement("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')
}
}},aI._engine.initWin(aI._g.win),aI._engine.create=function(){var p=aI._getContainer.apply(0,arguments),k=p.container,f=p.height,c=p.width,m=p.x,u=p.y;
if(!k){throw Error("VML container not found.")
}var b=new aI._Paper,d=b.canvas=aI._g.doc.createElement("div"),g=d.style;
return m=m||0,u=u||0,c=c||512,f=f||342,b.width=c,b.height=f,c==+c&&(c+="px"),f==+f&&(f+="px"),b.coordsize=1000*cj+X+1000*cj,b.coordorigin="0 0",b.span=aI._g.doc.createElement("span"),b.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",d.appendChild(b.span),g.cssText=aI.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",c,f),1==k?(aI._g.doc.body.appendChild(d),g.left=m+"px",g.top=u+"px",g.position="absolute"):k.firstChild?k.insertBefore(d,k.firstChild):k.appendChild(d),b.renderfix=function(){},b
},aI.prototype.clear=function(){aI.eve("raphael.clear",this),this.canvas.innerHTML=ch,this.span=aI._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null
},aI.prototype.remove=function(){aI.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);
for(var a in this){this[a]="function"==typeof this[a]?aI._removedFactory(a):null
}return !0
};
var D=aI.st;
for(var G in P){P[Q](G)&&!D[Q](G)&&(D[G]=function(a){return function(){var b=arguments;
return this.forEach(function(c){c[a].apply(c,b)
})
}
}(G))
}}}(),bj.was?bl.win.Raphael=aI:Raphael=aI,aI
});
(function(aU){function aT(d,c){return function(a){return aK(d.call(this,a),c)
}
}function aS(d,c){return function(a){return this.lang().ordinal(d.call(this,a),c)
}
}function aR(){}function aO(b){av(b),aM(this,b)
}function aN(t){var s=aB(t),r=s.year||0,q=s.month||0,p=s.week||0,o=s.day||0,n=s.hour||0,m=s.minute||0,l=s.second||0,k=s.millisecond||0;
this._input=t,this._milliseconds=+k+1000*l+60000*m+3600000*n,this._days=+o+7*p,this._months=+q+12*r,this._data={},this._bubble()
}function aM(f,d){for(var g in d){d.hasOwnProperty(g)&&(f[g]=d[g])
}return d.hasOwnProperty("toString")&&(f.toString=d.toString),d.hasOwnProperty("valueOf")&&(f.valueOf=d.valueOf),f
}function aL(b){return 0>b?Math.ceil(b):Math.floor(b)
}function aK(f,d){for(var g=f+"";
g.length<d;
){g="0"+g
}return g
}function aH(r,q,p,o){var n,m,l=q._milliseconds,k=q._days,j=q._months;
l&&r._d.setTime(+r._d+l*p),(k||j)&&(n=r.minute(),m=r.hour()),k&&r.date(r.date()+k*p),j&&r.month(r.month()+j*p),l&&!o&&a8.updateOffset(r),(k||j)&&(r.minute(n),r.hour(m))
}function aG(b){return"[object Array]"===Object.prototype.toString.call(b)
}function aF(b){return"[object Date]"===Object.prototype.toString.call(b)||b instanceof Date
}function aE(j,h,o){var n,m=Math.min(j.length,h.length),l=Math.abs(j.length-h.length),k=0;
for(n=0;
m>n;
n++){(o&&j[n]!==h[n]||!o&&az(j[n])!==az(h[n]))&&k++
}return k+l
}function aD(d){if(d){var c=d.toLowerCase().replace(/(.)s$/,"$1");
d=am[d]||ag[c]||c
}return d
}function aB(g){var f,j,h={};
for(j in g){g.hasOwnProperty(j)&&(f=aD(j),f&&(h[f]=g[j]))
}return h
}function aA(a){var g,f;
if(0===a.indexOf("week")){g=7,f="day"
}else{if(0!==a.indexOf("month")){return
}g=12,f="month"
}a8[a]=function(m,l){var k,d,c=a8.fn._lang[a],b=[];
if("number"==typeof m&&(l=m,m=aU),d=function(j){var h=a8().utc().set(f,j);
return c.call(a8.fn._lang,h,m||"")
},null!=l){return d(l)
}for(k=0;
g>k;
k++){b.push(d(k))
}return b
}
}function az(f){var d=+f,g=0;
return 0!==d&&isFinite(d)&&(g=d>=0?Math.floor(d):Math.ceil(d)),g
}function ay(d,c){return new Date(Date.UTC(d,c+1,0)).getUTCDate()
}function ax(b){return aw(b)?366:365
}function aw(b){return 0===b%4&&0!==b%100||0===b%400
}function av(d){var c;
d._a&&-2===d._pf.overflow&&(c=d._a[by]<0||d._a[by]>11?by:d._a[bg]<1||d._a[bg]>ay(d._a[bG],d._a[by])?bg:d._a[aI]<0||d._a[aI]>23?aI:d._a[aj]<0||d._a[aj]>59?aj:d._a[ad]<0||d._a[ad]>59?ad:d._a[bI]<0||d._a[bI]>999?bI:-1,d._pf._overflowDayOfYear&&(bG>c||c>bg)&&(c=bg),d._pf.overflow=c)
}function au(b){b._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}
}function at(b){return null==b._isValid&&(b._isValid=!isNaN(b._d.getTime())&&b._pf.overflow<0&&!b._pf.empty&&!b._pf.invalidMonth&&!b._pf.nullInput&&!b._pf.invalidFormat&&!b._pf.userInvalidated,b._strict&&(b._isValid=b._isValid&&0===b._pf.charsLeftOver&&0===b._pf.unusedTokens.length)),b._isValid
}function ar(b){return b?b.toLowerCase().replace("_","-"):b
}function aq(d,c){return c.abbr=d,bA[d]||(bA[d]=new aR),bA[d].set(c),bA[d]
}function ap(b){delete bA[b]
}function bu(j){var h,o,n,m,l=0,k=function(d){if(!bA[d]&&bn){try{require("./lang/"+d)
}catch(c){}}return bA[d]
};
if(!j){return a8.fn._lang
}if(!aG(j)){if(o=k(j)){return o
}j=[j]
}for(;
l<j.length;
){for(m=ar(j[l]).split("-"),h=m.length,n=ar(j[l+1]),n=n?n.split("-"):null;
h>0;
){if(o=k(m.slice(0,h).join("-"))){return o
}if(n&&n.length>=h&&aE(m,n,!0)>=h-1){break
}h--
}l++
}return a8.fn._lang
}function bs(b){return b.match(/\[[\s\S]/)?b.replace(/^\[|\]$/g,""):b.replace(/\\/g,"")
}function br(g){var f,j,h=g.match(bK);
for(f=0,j=h.length;
j>f;
f++){h[f]=aW[h[f]]?aW[h[f]]:bs(h[f])
}return function(b){var a="";
for(f=0;
j>f;
f++){a+=h[f] instanceof Function?h[f].call(b,g):h[f]
}return a
}
}function bq(d,c){return d.isValid()?(c=bp(c,d.lang()),bL[c]||(bL[c]=br(c)),bL[c](d)):d.lang().invalidDate()
}function bp(g,f){function j(b){return f.longDateFormat(b)||b
}var h=5;
for(bD.lastIndex=0;
h>=0&&bD.test(g);
){g=g.replace(bD,j),bD.lastIndex=0,h-=1
}return g
}function bm(f,d){var g;
switch(f){case"DDDD":return an;
case"YYYY":case"GGGG":case"gggg":return ah;
case"YYYYY":case"GGGGG":case"ggggg":return aa;
case"S":case"SS":case"SSS":case"DDD":return aV;
case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return bw;
case"a":case"A":return bu(d._l)._meridiemParse;
case"X":return bh;
case"Z":case"ZZ":return bH;
case"T":return bz;
case"SSSS":return bF;
case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"ww":case"W":case"WW":case"e":case"E":return bt;
default:return g=new RegExp(bc(bd(f.replace("\\","")),"i"))
}}function bl(g){var f=(bH.exec(g)||[])[0],j=(f+"").match(bB)||["-",0,0],h=+(60*j[1])+az(j[2]);
return"+"===j[0]?-h:h
}function bk(g,f,k){var j,h=k._a;
switch(g){case"M":case"MM":null!=f&&(h[by]=az(f)-1);
break;
case"MMM":case"MMMM":j=bu(k._l).monthsParse(f),null!=j?h[by]=j:k._pf.invalidMonth=f;
break;
case"D":case"DD":null!=f&&(h[bg]=az(f));
break;
case"DDD":case"DDDD":null!=f&&(k._dayOfYear=az(f));
break;
case"YY":h[bG]=az(f)+(az(f)>68?1900:2000);
break;
case"YYYY":case"YYYYY":h[bG]=az(f);
break;
case"a":case"A":k._isPm=bu(k._l).isPM(f);
break;
case"H":case"HH":case"h":case"hh":h[aI]=az(f);
break;
case"m":case"mm":h[aj]=az(f);
break;
case"s":case"ss":h[ad]=az(f);
break;
case"S":case"SS":case"SSS":case"SSSS":h[bI]=az(1000*("0."+f));
break;
case"X":k._d=new Date(1000*parseFloat(f));
break;
case"Z":case"ZZ":k._useUTC=!0,k._tzm=bl(f);
break;
case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":g=g.substr(0,1);
case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":g=g.substr(0,2),f&&(k._w=k._w||{},k._w[g]=f)
}}function bj(x){var w,v,u,t,s,r,q,p,o,n,m=[];
if(!x._d){for(u=bf(x),x._w&&null==x._a[bg]&&null==x._a[by]&&(s=function(a){return a?a.length<3?parseInt(a,10)>68?"19"+a:"20"+a:a:null==x._a[bG]?a8().weekYear():x._a[bG]
},r=x._w,null!=r.GG||null!=r.W||null!=r.E?q=a0(s(r.GG),r.W||1,r.E,4,1):(p=bu(x._l),o=null!=r.d?a4(r.d,p):null!=r.e?parseInt(r.e,10)+p._week.dow:0,n=parseInt(r.w,10)||1,null!=r.d&&o<p._week.dow&&n++,q=a0(s(r.gg),n,o,p._week.doy,p._week.dow)),x._a[bG]=q.year,x._dayOfYear=q.dayOfYear),x._dayOfYear&&(t=null==x._a[bG]?u[bG]:x._a[bG],x._dayOfYear>ax(t)&&(x._pf._overflowDayOfYear=!0),v=a5(t,0,x._dayOfYear),x._a[by]=v.getUTCMonth(),x._a[bg]=v.getUTCDate()),w=0;
3>w&&null==x._a[w];
++w){x._a[w]=m[w]=u[w]
}for(;
7>w;
w++){x._a[w]=m[w]=null==x._a[w]?2===w?1:0:x._a[w]
}m[aI]+=az((x._tzm||0)/60),m[aj]+=az((x._tzm||0)%60),x._d=(x._useUTC?a5:a6).apply(null,m)
}}function bi(d){var c;
d._d||(c=aB(d._i),d._a=[c.year,c.month,c.day,c.hour,c.minute,c.second,c.millisecond],bj(d))
}function bf(d){var c=new Date;
return d._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]
}function be(t){t._a=[],t._pf.empty=!0;
var s,r,q,p,o,n=bu(t._l),m=""+t._i,l=m.length,k=0;
for(q=bp(t._f,n).match(bK)||[],s=0;
s<q.length;
s++){p=q[s],r=(bm(p,t).exec(m)||[])[0],r&&(o=m.substr(0,m.indexOf(r)),o.length>0&&t._pf.unusedInput.push(o),m=m.slice(m.indexOf(r)+r.length),k+=r.length),aW[p]?(r?t._pf.empty=!1:t._pf.unusedTokens.push(p),bk(p,r,t)):t._strict&&!r&&t._pf.unusedTokens.push(p)
}t._pf.charsLeftOver=l-k,m.length>0&&t._pf.unusedInput.push(m),t._isPm&&t._a[aI]<12&&(t._a[aI]+=12),t._isPm===!1&&12===t._a[aI]&&(t._a[aI]=0),bj(t),av(t)
}function bd(b){return b.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(g,f,k,j,h){return f||k||j||h
})
}function bc(b){return b.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")
}function ba(h){var g,m,l,k,j;
if(0===h._f.length){return h._pf.invalidFormat=!0,h._d=new Date(0/0),void 0
}for(k=0;
k<h._f.length;
k++){j=0,g=aM({},h),au(g),g._f=h._f[k],be(g),at(g)&&(j+=g._pf.charsLeftOver,j+=10*g._pf.unusedTokens.length,g._pf.score=j,(null==l||l>j)&&(l=j,m=g))
}aM(h,m||g)
}function a9(g){var f,j=g._i,h=aJ.exec(j);
if(h){for(g._pf.iso=!0,f=4;
f>0;
f--){if(h[f]){g._f=ae[f-1]+(h[6]||" ");
break
}}for(f=0;
4>f;
f++){if(bJ[f][1].exec(j)){g._f+=bJ[f][0];
break
}}bH.exec(j)&&(g._f+="Z"),be(g)
}else{g._d=new Date(j)
}}function a7(a){var g=a._i,f=aP.exec(g);
g===aU?a._d=new Date:f?a._d=new Date(+f[1]):"string"==typeof g?a9(a):aG(g)?(a._a=g.slice(0),bj(a)):aF(g)?a._d=new Date(+g):"object"==typeof g?bi(a):a._d=new Date(g)
}function a6(k,j,q,p,o,n,m){var l=new Date(k,j,q,p,o,n,m);
return 1970>k&&l.setFullYear(k),l
}function a5(d){var c=new Date(Date.UTC.apply(null,arguments));
return 1970>d&&c.setUTCFullYear(d),c
}function a4(d,c){if("string"==typeof d){if(isNaN(d)){if(d=c.weekdaysParse(d),"number"!=typeof d){return null
}}else{d=parseInt(d,10)
}}return d
}function a3(g,f,k,j,h){return h.relativeTime(f||1,!!k,g,j)
}function a2(r,q,p){var o=ac(Math.abs(r)/1000),n=ac(o/60),m=ac(n/60),l=ac(m/24),k=ac(l/365),j=45>o&&["s",o]||1===n&&["m"]||45>n&&["mm",n]||1===m&&["h"]||22>m&&["hh",m]||1===l&&["d"]||25>=l&&["dd",l]||45>=l&&["M"]||345>l&&["MM",ac(l/30)]||1===k&&["y"]||["yy",k];
return j[2]=q,j[3]=r>0,j[4]=p,a3.apply({},j)
}function a1(h,g,m){var l,k=m-g,j=m-h.day();
return j>k&&(j-=7),k-7>j&&(j+=7),l=a8(h).add("d",j),{week:Math.ceil(l.dayOfYear()/7),year:l.year()}
}function a0(k,j,q,p,o){var n,m,l=new Date(Date.UTC(k,0)).getUTCDay();
return q=null!=q?q:o,n=o-l+(l>p?7:0),m=7*(j-1)+(q-o)+n+1,{year:m>0?k:k-1,dayOfYear:m>0?m:ax(k-1)+m}
}function aZ(f){var d=f._i,g=f._f;
return"undefined"==typeof f._pf&&au(f),null===d?a8.invalid({nullInput:!0}):("string"==typeof d&&(f._i=d=bu().preparse(d)),a8.isMoment(d)?(f=aM({},d),f._d=new Date(+d._d)):g?aG(g)?ba(f):be(f):a7(f),new aO(f))
}function aY(d,c){a8.fn[d]=a8.fn[d+"s"]=function(b){var f=this._isUTC?"UTC":"";
return null!=b?(this._d["set"+f+c](b),a8.updateOffset(this),this):this._d["get"+f+c]()
}
}function bC(b){a8.duration.fn[b]=function(){return this._data[b]
}
}function aX(d,c){a8.duration.fn["as"+d]=function(){return +this/c
}
}function bx(f){var d=!1,g=a8;
"undefined"==typeof ender&&(this.moment=f?function(){return !d&&console&&console.warn&&(d=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),g.apply(null,arguments)
}:a8)
}for(var a8,aC,ai="2.4.0",ac=Math.round,bG=0,by=1,bg=2,aI=3,aj=4,ad=5,bI=6,bA={},bn="undefined"!=typeof module&&module.exports,aP=/^\/?Date\((\-?\d+)/i,al=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,af=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,bK=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,bD=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,bt=/\d\d?/,aV=/\d{1,3}/,an=/\d{3}/,ah=/\d{1,4}/,aa=/[+\-]?\d{1,6}/,bF=/\d+/,bw=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,bH=/Z|[\+\-]\d\d:?\d\d/i,bz=/T/i,bh=/[\+\-]?\d+(\.\d{1,3})?/,aJ=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d:?\d\d|Z)?)?$/,ak="YYYY-MM-DDTHH:mm:ssZ",ae=["YYYY-MM-DD","GGGG-[W]WW","GGGG-[W]WW-E","YYYY-DDD"],bJ=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],bB=/([\+\-]|\d\d)/gi,bo="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),aQ={Milliseconds:1,Seconds:1000,Minutes:60000,Hours:3600000,Days:86400000,Months:2592000000,Years:31536000000},am={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},ag={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},bL={},bE="DDD w W M D d".split(" "),bv="M D H h m s w W".split(" "),aW={M:function(){return this.month()+1
},MMM:function(b){return this.lang().monthsShort(this,b)
},MMMM:function(b){return this.lang().months(this,b)
},D:function(){return this.date()
},DDD:function(){return this.dayOfYear()
},d:function(){return this.day()
},dd:function(b){return this.lang().weekdaysMin(this,b)
},ddd:function(b){return this.lang().weekdaysShort(this,b)
},dddd:function(b){return this.lang().weekdays(this,b)
},w:function(){return this.week()
},W:function(){return this.isoWeek()
},YY:function(){return aK(this.year()%100,2)
},YYYY:function(){return aK(this.year(),4)
},YYYYY:function(){return aK(this.year(),5)
},gg:function(){return aK(this.weekYear()%100,2)
},gggg:function(){return this.weekYear()
},ggggg:function(){return aK(this.weekYear(),5)
},GG:function(){return aK(this.isoWeekYear()%100,2)
},GGGG:function(){return this.isoWeekYear()
},GGGGG:function(){return aK(this.isoWeekYear(),5)
},e:function(){return this.weekday()
},E:function(){return this.isoWeekday()
},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)
},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)
},H:function(){return this.hours()
},h:function(){return this.hours()%12||12
},m:function(){return this.minutes()
},s:function(){return this.seconds()
},S:function(){return az(this.milliseconds()/100)
},SS:function(){return aK(az(this.milliseconds()/10),2)
},SSS:function(){return aK(this.milliseconds(),3)
},SSSS:function(){return aK(this.milliseconds(),3)
},Z:function(){var d=-this.zone(),c="+";
return 0>d&&(d=-d,c="-"),c+aK(az(d/60),2)+":"+aK(az(d)%60,2)
},ZZ:function(){var d=-this.zone(),c="+";
return 0>d&&(d=-d,c="-"),c+aK(az(10*d/6),4)
},z:function(){return this.zoneAbbr()
},zz:function(){return this.zoneName()
},X:function(){return this.unix()
}},ao=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];
bE.length;
){aC=bE.pop(),aW[aC+"o"]=aS(aW[aC],aC)
}for(;
bv.length;
){aC=bv.pop(),aW[aC+aC]=aT(aW[aC],2)
}for(aW.DDDD=aT(aW.DDD,3),aM(aR.prototype,{set:function(f){var d,g;
for(g in f){d=f[g],"function"==typeof d?this[g]=d:this["_"+g]=d
}},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(b){return this._months[b.month()]
},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(b){return this._monthsShort[b.month()]
},monthsParse:function(g){var f,j,h;
for(this._monthsParse||(this._monthsParse=[]),f=0;
12>f;
f++){if(this._monthsParse[f]||(j=a8.utc([2000,f]),h="^"+this.months(j,"")+"|^"+this.monthsShort(j,""),this._monthsParse[f]=new RegExp(h.replace(".",""),"i")),this._monthsParse[f].test(g)){return f
}}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(b){return this._weekdays[b.day()]
},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(b){return this._weekdaysShort[b.day()]
},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(b){return this._weekdaysMin[b.day()]
},weekdaysParse:function(g){var f,j,h;
for(this._weekdaysParse||(this._weekdaysParse=[]),f=0;
7>f;
f++){if(this._weekdaysParse[f]||(j=a8([2000,1]).day(f),h="^"+this.weekdays(j,"")+"|^"+this.weekdaysShort(j,"")+"|^"+this.weekdaysMin(j,""),this._weekdaysParse[f]=new RegExp(h.replace(".",""),"i")),this._weekdaysParse[f].test(g)){return f
}}},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(d){var c=this._longDateFormat[d];
return !c&&this._longDateFormat[d.toUpperCase()]&&(c=this._longDateFormat[d.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(b){return b.slice(1)
}),this._longDateFormat[d]=c),c
},isPM:function(b){return"p"===(b+"").toLowerCase().charAt(0)
},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(f,d,g){return f>11?g?"pm":"PM":g?"am":"AM"
},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(f,d){var g=this._calendar[f];
return"function"==typeof g?g.apply(d):g
},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(g,f,k,j){var h=this._relativeTime[k];
return"function"==typeof h?h(g,f,k,j):h.replace(/%d/i,g)
},pastFuture:function(f,d){var g=this._relativeTime[f>0?"future":"past"];
return"function"==typeof g?g(d):g.replace(/%s/i,d)
},ordinal:function(b){return this._ordinal.replace("%d",b)
},_ordinal:"%d",preparse:function(b){return b
},postformat:function(b){return b
},week:function(b){return a1(b,this._week.dow,this._week.doy).week
},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate
}}),a8=function(a,h,g,f){return"boolean"==typeof g&&(f=g,g=aU),aZ({_i:a,_f:h,_l:g,_strict:f,_isUTC:!1})
},a8.utc=function(a,k,j,h){var g;
return"boolean"==typeof j&&(h=j,j=aU),g=aZ({_useUTC:!0,_isUTC:!0,_l:j,_i:a,_f:k,_strict:h}).utc()
},a8.unix=function(b){return a8(1000*b)
},a8.duration=function(r,q){var p,o,n,m=a8.isDuration(r),l="number"==typeof r,k=m?r._input:l?{}:r,f=null;
return l?q?k[q]=r:k.milliseconds=r:(f=al.exec(r))?(p="-"===f[1]?-1:1,k={y:0,d:az(f[bg])*p,h:az(f[aI])*p,m:az(f[aj])*p,s:az(f[ad])*p,ms:az(f[bI])*p}):(f=af.exec(r))&&(p="-"===f[1]?-1:1,n=function(d){var c=d&&parseFloat(d.replace(",","."));
return(isNaN(c)?0:c)*p
},k={y:n(f[2]),M:n(f[3]),d:n(f[4]),h:n(f[5]),m:n(f[6]),s:n(f[7]),w:n(f[8])}),o=new aN(k),m&&r.hasOwnProperty("_lang")&&(o._lang=r._lang),o
},a8.version=ai,a8.defaultFormat=ak,a8.updateOffset=function(){},a8.lang=function(f,d){var g;
return f?(d?aq(ar(f),d):null===d?(ap(f),f="en"):bA[f]||bu(f),g=a8.duration.fn._lang=a8.fn._lang=bu(f),g._abbr):a8.fn._lang._abbr
},a8.langData=function(b){return b&&b._lang&&b._lang._abbr&&(b=b._lang._abbr),bu(b)
},a8.isMoment=function(b){return b instanceof aO
},a8.isDuration=function(b){return b instanceof aN
},aC=ao.length-1;
aC>=0;
--aC){aA(ao[aC])
}for(a8.normalizeUnits=function(b){return aD(b)
},a8.invalid=function(d){var c=a8.utc(0/0);
return null!=d?aM(c._pf,d):c._pf.userInvalidated=!0,c
},a8.parseZone=function(b){return a8(b).parseZone()
},aM(a8.fn=aO.prototype,{clone:function(){return a8(this)
},valueOf:function(){return +this._d+60000*(this._offset||0)
},unix:function(){return Math.floor(+this/1000)
},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")
},toDate:function(){return this._offset?new Date(+this):this._d
},toISOString:function(){return bq(a8(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")
},toArray:function(){var b=this;
return[b.year(),b.month(),b.date(),b.hours(),b.minutes(),b.seconds(),b.milliseconds()]
},isValid:function(){return at(this)
},isDSTShifted:function(){return this._a?this.isValid()&&aE(this._a,(this._isUTC?a8.utc(this._a):a8(this._a)).toArray())>0:!1
},parsingFlags:function(){return aM({},this._pf)
},invalidAt:function(){return this._pf.overflow
},utc:function(){return this.zone(0)
},local:function(){return this.zone(0),this._isUTC=!1,this
},format:function(d){var c=bq(this,d||a8.defaultFormat);
return this.lang().postformat(c)
},add:function(f,d){var g;
return g="string"==typeof f?a8.duration(+d,f):a8.duration(f,d),aH(this,g,1),this
},subtract:function(f,d){var g;
return g="string"==typeof f?a8.duration(+d,f):a8.duration(f,d),aH(this,g,-1),this
},diff:function(j,h,o){var n,m,l=this._isUTC?a8(j).zone(this._offset||0):a8(j).local(),k=60000*(this.zone()-l.zone());
return h=aD(h),"year"===h||"month"===h?(n=43200000*(this.daysInMonth()+l.daysInMonth()),m=12*(this.year()-l.year())+(this.month()-l.month()),m+=(this-a8(this).startOf("month")-(l-a8(l).startOf("month")))/n,m-=60000*(this.zone()-a8(this).startOf("month").zone()-(l.zone()-a8(l).startOf("month").zone()))/n,"year"===h&&(m/=12)):(n=this-l,m="second"===h?n/1000:"minute"===h?n/60000:"hour"===h?n/3600000:"day"===h?(n-k)/86400000:"week"===h?(n-k)/604800000:n),o?m:aL(m)
},from:function(d,c){return a8.duration(this.diff(d)).lang(this.lang()._abbr).humanize(!c)
},fromNow:function(b){return this.from(a8(),b)
},calendar:function(){var d=this.diff(a8().zone(this.zone()).startOf("day"),"days",!0),c=-6>d?"sameElse":-1>d?"lastWeek":0>d?"lastDay":1>d?"sameDay":2>d?"nextDay":7>d?"nextWeek":"sameElse";
return this.format(this.lang().calendar(c,this))
},isLeapYear:function(){return aw(this.year())
},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()
},day:function(d){var c=this._isUTC?this._d.getUTCDay():this._d.getDay();
return null!=d?(d=a4(d,this.lang()),this.add({d:d-c})):c
},month:function(f){var d,g=this._isUTC?"UTC":"";
return null!=f?"string"==typeof f&&(f=this.lang().monthsParse(f),"number"!=typeof f)?this:(d=this.date(),this.date(1),this._d["set"+g+"Month"](f),this.date(Math.min(d,this.daysInMonth())),a8.updateOffset(this),this):this._d["get"+g+"Month"]()
},startOf:function(b){switch(b=aD(b)){case"year":this.month(0);
case"month":this.date(1);
case"week":case"isoWeek":case"day":this.hours(0);
case"hour":this.minutes(0);
case"minute":this.seconds(0);
case"second":this.milliseconds(0)
}return"week"===b?this.weekday(0):"isoWeek"===b&&this.isoWeekday(1),this
},endOf:function(b){return b=aD(b),this.startOf(b).add("isoWeek"===b?"week":b,1).subtract("ms",1)
},isAfter:function(d,c){return c="undefined"!=typeof c?c:"millisecond",+this.clone().startOf(c)>+a8(d).startOf(c)
},isBefore:function(d,c){return c="undefined"!=typeof c?c:"millisecond",+this.clone().startOf(c)<+a8(d).startOf(c)
},isSame:function(d,c){return c="undefined"!=typeof c?c:"millisecond",+this.clone().startOf(c)===+a8(d).startOf(c)
},min:function(b){return b=a8.apply(null,arguments),this>b?this:b
},max:function(b){return b=a8.apply(null,arguments),b>this?this:b
},zone:function(d){var c=this._offset||0;
return null==d?this._isUTC?c:this._d.getTimezoneOffset():("string"==typeof d&&(d=bl(d)),Math.abs(d)<16&&(d=60*d),this._offset=d,this._isUTC=!0,c!==d&&aH(this,a8.duration(c-d,"m"),1,!0),this)
},zoneAbbr:function(){return this._isUTC?"UTC":""
},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""
},parseZone:function(){return"string"==typeof this._i&&this.zone(this._i),this
},hasAlignedHourOffset:function(b){return b=b?a8(b).zone():0,0===(this.zone()-b)%60
},daysInMonth:function(){return ay(this.year(),this.month())
},dayOfYear:function(d){var c=ac((a8(this).startOf("day")-a8(this).startOf("year"))/86400000)+1;
return null==d?c:this.add("d",d-c)
},weekYear:function(d){var c=a1(this,this.lang()._week.dow,this.lang()._week.doy).year;
return null==d?c:this.add("y",d-c)
},isoWeekYear:function(d){var c=a1(this,1,4).year;
return null==d?c:this.add("y",d-c)
},week:function(d){var c=this.lang().week(this);
return null==d?c:this.add("d",7*(d-c))
},isoWeek:function(d){var c=a1(this,1,4).week;
return null==d?c:this.add("d",7*(d-c))
},weekday:function(d){var c=(this.day()+7-this.lang()._week.dow)%7;
return null==d?c:this.add("d",d-c)
},isoWeekday:function(b){return null==b?this.day()||7:this.day(this.day()%7?b:b-7)
},get:function(b){return b=aD(b),this[b]()
},set:function(d,c){return d=aD(d),"function"==typeof this[d]&&this[d](c),this
},lang:function(a){return a===aU?this._lang:(this._lang=bu(a),this)
}}),aC=0;
aC<bo.length;
aC++){aY(bo[aC].toLowerCase().replace(/s$/,""),bo[aC])
}aY("year","FullYear"),a8.fn.days=a8.fn.day,a8.fn.months=a8.fn.month,a8.fn.weeks=a8.fn.week,a8.fn.isoWeeks=a8.fn.isoWeek,a8.fn.toJSON=a8.fn.toISOString,aM(a8.duration.fn=aN.prototype,{_bubble:function(){var j,h,p,o,n=this._milliseconds,m=this._days,l=this._months,k=this._data;
k.milliseconds=n%1000,j=aL(n/1000),k.seconds=j%60,h=aL(j/60),k.minutes=h%60,p=aL(h/60),k.hours=p%24,m+=aL(p/24),k.days=m%30,l+=aL(m/30),k.months=l%12,o=aL(l/12),k.years=o
},weeks:function(){return aL(this.days()/7)
},valueOf:function(){return this._milliseconds+86400000*this._days+2592000000*(this._months%12)+31536000000*az(this._months/12)
},humanize:function(f){var d=+this,g=a2(d,!f,this.lang());
return f&&(g=this.lang().pastFuture(d,g)),this.lang().postformat(g)
},add:function(f,d){var g=a8.duration(f,d);
return this._milliseconds+=g._milliseconds,this._days+=g._days,this._months+=g._months,this._bubble(),this
},subtract:function(f,d){var g=a8.duration(f,d);
return this._milliseconds-=g._milliseconds,this._days-=g._days,this._months-=g._months,this._bubble(),this
},get:function(b){return b=aD(b),this[b.toLowerCase()+"s"]()
},as:function(b){return b=aD(b),this["as"+b.charAt(0).toUpperCase()+b.slice(1)+"s"]()
},lang:a8.fn.lang,toIsoString:function(){var h=Math.abs(this.years()),g=Math.abs(this.months()),m=Math.abs(this.days()),l=Math.abs(this.hours()),k=Math.abs(this.minutes()),j=Math.abs(this.seconds()+this.milliseconds()/1000);
return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(h?h+"Y":"")+(g?g+"M":"")+(m?m+"D":"")+(l||k||j?"T":"")+(l?l+"H":"")+(k?k+"M":"")+(j?j+"S":""):"P0D"
}});
for(aC in aQ){aQ.hasOwnProperty(aC)&&(aX(aC,aQ[aC]),bC(aC.toLowerCase()))
}aX("Weeks",604800000),a8.duration.fn.asMonths=function(){return(+this-31536000000*this.years())/2592000000+12*this.years()
},a8.lang("en",{ordinal:function(f){var d=f%10,g=1===az(f%100/10)?"th":1===d?"st":2===d?"nd":3===d?"rd":"th";
return f+g
}}),bn?(module.exports=a8,bx(!0)):"function"==typeof define&&define.amd?define("moment",function(a,g,f){return f.config().noGlobal!==!0&&bx(f.config().noGlobal===aU),a8
}):bx()
}).call(this);
(function(){if(window.google&&google.gears){return
}var a=null;
if(typeof GearsFactory!="undefined"){a=new GearsFactory()
}else{try{a=new ActiveXObject("Gears.Factory");
if(a.getBuildInfo().indexOf("ie_mobile")!=-1){a.privateSetGlobalObject(this)
}}catch(b){if((typeof navigator.mimeTypes!="undefined")&&navigator.mimeTypes["application/x-googlegears"]){a=document.createElement("object");
a.style.display="none";
a.width=0;
a.height=0;
a.type="application/x-googlegears";
document.documentElement.appendChild(a)
}}}if(!a){return
}if(!window.google){google={}
}if(!google.gears){google.gears={factory:a}
}})();
Persist=(function(){var k="0.3.1",d,b,h,j,f,g;
g=(function(){var s="Thu, 01-Jan-1970 00:00:01 GMT",m=1000*60*60*24,t=["expires","path","domain"],o=escape,n=unescape,r=document,p;
var u=function(){var v=new Date();
v.setTime(v.getTime());
return v
};
var l=function(z,C){var y,x,B,A=[],w=(arguments.length>2)?arguments[2]:{};
A.push(o(z)+"="+o(C));
for(var v=0;
v<t.length;
v++){x=t[v];
B=w[x];
if(B){A.push(x+"="+B)
}}if(w.secure){A.push("secure")
}return A.join("; ")
};
var q=function(){var x="__EC_TEST__",w=new Date();
w=w.toGMTString();
this.set(x,w);
this.enabled=(this.remove(x)==w);
return this.enabled
};
p={set:function(D,z){var w=(arguments.length>2)?arguments[2]:{},x=u(),C,B={};
if(w.expires){if(w.expires==-1){B.expires=-1
}else{var y=w.expires*m;
B.expires=new Date(x.getTime()+y);
B.expires=B.expires.toGMTString()
}}var E=["path","domain","secure"];
for(var A=0;
A<E.length;
A++){if(w[E[A]]){B[E[A]]=w[E[A]]
}}var v=l(D,z,B);
r.cookie=v;
return z
},has:function(w){w=o(w);
var z=r.cookie,y=z.indexOf(w+"="),v=y+w.length+1,x=z.substring(0,w.length);
return((!y&&w!=x)||y<0)?false:true
},get:function(x){x=o(x);
var A=r.cookie,z=A.indexOf(x+"="),v=z+x.length+1,y=A.substring(0,x.length),w;
if((!z&&x!=y)||z<0){return null
}w=A.indexOf(";",v);
if(w<0){w=A.length
}return n(A.substring(v,w))
},remove:function(v){var x=p.get(v),w={expires:s};
r.cookie=l(v,"",w);
return x
},keys:function(){var A=r.cookie,z=A.split("; "),w,y,x=[];
for(var v=0;
v<z.length;
v++){y=z[v].split("=");
x.push(n(y[0]))
}return x
},all:function(){var A=r.cookie,z=A.split("; "),w,y,x=[];
for(var v=0;
v<z.length;
v++){y=z[v].split("=");
x.push([n(y[0]),n(y[1])])
}return x
},version:"0.2.1",enabled:false};
p.enabled=q.call(p);
return p
}());
var c=(function(){if(Array.prototype.indexOf){return function(l,m){return Array.prototype.indexOf.call(l,m)
}
}else{return function(q,r){var p,o;
for(var n=0,m=q.length;
n<m;
n++){if(q[n]==r){return n
}}return -1
}
}})();
f=function(){};
h=function(l){return"PS"+l.replace(/_/g,"__").replace(/ /g,"_s")
};
var a={search_order:["localstorage","globalstorage","gears","cookie","ie","flash"],name_re:/^[a-z][a-z0-9_ \-]+$/i,methods:["init","get","set","remove","load","save","iterate"],sql:{version:"1",create:"CREATE TABLE IF NOT EXISTS persist_data (k TEXT UNIQUE NOT NULL PRIMARY KEY, v TEXT NOT NULL)",get:"SELECT v FROM persist_data WHERE k = ?",set:"INSERT INTO persist_data(k, v) VALUES (?, ?)",remove:"DELETE FROM persist_data WHERE k = ?",keys:"SELECT * FROM persist_data"},flash:{div_id:"_persist_flash_wrap",id:"_persist_flash",path:"persist.swf",size:{w:1,h:1},params:{autostart:true}}};
b={gears:{size:-1,test:function(){return(window.google&&window.google.gears)?true:false
},methods:{init:function(){var l;
l=this.db=google.gears.factory.create("beta.database");
l.open(h(this.name));
l.execute(a.sql.create).close()
},get:function(n){var o,p=a.sql.get;
var l=this.db;
var m;
l.execute("BEGIN").close();
o=l.execute(p,[n]);
m=o.isValidRow()?o.field(0):null;
o.close();
l.execute("COMMIT").close();
return m
},set:function(o,s){var m=a.sql.remove,q=a.sql.set,p;
var l=this.db;
var n;
l.execute("BEGIN").close();
l.execute(m,[o]).close();
l.execute(q,[o,s]).close();
l.execute("COMMIT").close();
return s
},remove:function(n){var p=a.sql.get,s=a.sql.remove,o,q=null,l=false;
var m=this.db;
m.execute("BEGIN").close();
m.execute(s,[n]).close();
m.execute("COMMIT").close();
return true
},iterate:function(o,n){var m=a.sql.keys;
var p;
var l=this.db;
p=l.execute(m);
while(p.isValidRow()){o.call(n||this,p.field(0),p.field(1));
p.next()
}p.close()
}}},globalstorage:{size:5*1024*1024,test:function(){if(window.globalStorage){var l="127.0.0.1";
if(this.o&&this.o.domain){l=this.o.domain
}try{var n=globalStorage[l];
return true
}catch(m){if(window.console&&window.console.warn){console.warn("globalStorage exists, but couldn't use it because your browser is running on domain:",l)
}return false
}}else{return false
}},methods:{key:function(l){return h(this.name)+h(l)
},init:function(){this.store=globalStorage[this.o.domain]
},get:function(l){l=this.key(l);
return this.store.getItem(l)
},set:function(l,m){l=this.key(l);
this.store.setItem(l,m);
return m
},remove:function(l){var m;
l=this.key(l);
m=this.store.getItem[l];
this.store.removeItem(l);
return m
}}},localstorage:{size:-1,test:function(){try{if(window.localStorage&&window.localStorage.setItem("test",null)==undefined){if(/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)){var m=RegExp.$1;
if(m>=9){return true
}if(window.location.protocol=="file:"){return false
}}else{return true
}}else{return false
}return window.localStorage?true:false
}catch(l){return false
}},methods:{key:function(l){return this.name+">"+l
},init:function(){this.store=localStorage
},get:function(l){l=this.key(l);
return this.store.getItem(l)
},set:function(l,m){l=this.key(l);
this.store.setItem(l,m);
return m
},remove:function(l){var m;
l=this.key(l);
m=this.store.getItem(l);
this.store.removeItem(l);
return m
},iterate:function(q,p){var m=this.store,o,r;
for(var n=0;
n<m.length;
n++){o=m.key(n);
r=o.split(">");
if((r.length==2)&&(r[0]==this.name)){q.call(p||this,r[1],m.getItem(o))
}}}}},ie:{prefix:"_persist_data-",size:64*1024,test:function(){return window.ActiveXObject?true:false
},make_userdata:function(m){var l=document.createElement("div");
l.id=m;
l.style.display="none";
l.addBehavior("#default#userdata");
document.body.appendChild(l);
return l
},methods:{init:function(){var l=b.ie.prefix+h(this.name);
this.el=b.ie.make_userdata(l);
if(this.o.defer){this.load()
}},get:function(l){var m;
l=h(l);
if(!this.o.defer){this.load()
}m=this.el.getAttribute(l);
return m
},set:function(l,m){l=h(l);
this.el.setAttribute(l,m);
if(!this.o.defer){this.save()
}return m
},remove:function(l){var m;
l=h(l);
if(!this.o.defer){this.load()
}m=this.el.getAttribute(l);
this.el.removeAttribute(l);
if(!this.o.defer){this.save()
}return m
},load:function(){this.el.load(h(this.name))
},save:function(){this.el.save(h(this.name))
}}},cookie:{delim:":",size:4000,test:function(){return d.Cookie.enabled?true:false
},methods:{key:function(l){return this.name+b.cookie.delim+l
},get:function(l,m){var n;
l=this.key(l);
n=g.get(l);
return n
},set:function(l,n,m){l=this.key(l);
g.set(l,n,this.o);
return n
},remove:function(l,m){var m;
l=this.key(l);
m=g.remove(l);
return m
}}},flash:{test:function(){try{if(!swfobject){return false
}}catch(m){return false
}var l=swfobject.getFlashPlayerVersion().major;
return(l>=8)?true:false
},methods:{init:function(){if(!b.flash.el){var n,o,m,l=a.flash;
o=document.createElement("div");
o.id=l.div_id;
m=document.createElement("div");
m.id=l.id;
o.appendChild(m);
document.body.appendChild(o);
b.flash.el=swfobject.createSWF({id:l.id,data:this.o.swf_path||l.path,width:l.size.w,height:l.size.h},l.params,l.id)
}this.el=b.flash.el
},get:function(l){var m;
l=h(l);
m=this.el.get(this.name,l);
return m
},set:function(m,n){var l;
m=h(m);
l=this.el.set(this.name,m,n);
return l
},remove:function(l){var m;
l=h(l);
m=this.el.remove(this.name,l);
return m
}}}};
j=function(){var p,m,r,t,u=a.methods,v=a.search_order;
for(var s=0,q=u.length;
s<q;
s++){d.Store.prototype[u[s]]=f
}d.type=null;
d.size=-1;
for(var o=0,n=v.length;
!d.type&&o<n;
o++){r=b[v[o]];
if(r.test()){d.type=v[o];
d.size=r.size;
for(t in r.methods){d.Store.prototype[t]=r.methods[t]
}}}d._init=true
};
d={VERSION:k,type:null,size:0,add:function(l){b[l.id]=l;
a.search_order=[l.id].concat(a.search_order);
j()
},remove:function(m){var l=c(a.search_order,m);
if(l<0){return
}a.search_order.splice(l,1);
delete b[m];
j()
},Cookie:g,Store:function(l,m){if(!a.name_re.exec(l)){throw new Error("Invalid name")
}if(!d.type){throw new Error("No suitable storage found")
}m=m||{};
this.name=l;
m.domain=m.domain||location.hostname||"localhost";
m.domain=m.domain.replace(/:\d+$/,"");
m.domain=(m.domain=="localhost")?"":m.domain;
this.o=m;
m.expires=m.expires||365*2;
m.path=m.path||"/";
if(this.o.search_order){a.search_order=this.o.search_order;
j()
}this.init()
}};
j();
return d
})();
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
(function(a,b){if(typeof exports==="object"&&exports){b(exports)
}else{var c={};
b(c);
if(typeof define==="function"&&define.amd){define(c)
}else{a.Mustache=c
}}}(this,function(a){var f=/\s*/;
var n=/\s+/;
var l=/\S/;
var j=/\s*=/;
var p=/\s*\}/;
var v=/#|\^|\/|>|\{|&|=|!/;
var g=RegExp.prototype.test;
function u(B,A){return g.call(B,A)
}function h(A){return !u(l,A)
}var x=Object.prototype.toString;
var m=Array.isArray||function(A){return x.call(A)==="[object Array]"
};
function d(A){return A.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")
}var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};
function o(A){return String(A).replace(/[&<>"'\/]/g,function(B){return c[B]
})
}function w(A){this.string=A;
this.tail=A;
this.pos=0
}w.prototype.eos=function(){return this.tail===""
};
w.prototype.scan=function(B){var A=this.tail.match(B);
if(A&&A.index===0){this.tail=this.tail.substring(A[0].length);
this.pos+=A[0].length;
return A[0]
}return""
};
w.prototype.scanUntil=function(B){var A,C=this.tail.search(B);
switch(C){case -1:A=this.tail;
this.pos+=this.tail.length;
this.tail="";
break;
case 0:A="";
break;
default:A=this.tail.substring(0,C);
this.tail=this.tail.substring(C);
this.pos+=C
}return A
};
function t(A,B){this.view=A||{};
this.parent=B;
this._cache={}
}t.make=function(A){return(A instanceof t)?A:new t(A)
};
t.prototype.push=function(A){return new t(A,this)
};
t.prototype.lookup=function(A){var D=this._cache[A];
if(!D){if(A=="."){D=this.view
}else{var C=this;
while(C){if(A.indexOf(".")>0){D=C.view;
var E=A.split("."),B=0;
while(D&&B<E.length){D=D[E[B++]]
}}else{D=C.view[A]
}if(D!=null){break
}C=C.parent
}}this._cache[A]=D
}if(typeof D==="function"){D=D.call(this.view)
}return D
};
function r(){this.clearCache()
}r.prototype.clearCache=function(){this._cache={};
this._partialCache={}
};
r.prototype.compile=function(C,A){var B=this._cache[C];
if(!B){var D=a.parse(C,A);
B=this._cache[C]=this.compileTokens(D,C)
}return B
};
r.prototype.compilePartial=function(B,D,A){var C=this.compile(D,A);
this._partialCache[B]=C;
return C
};
r.prototype.getPartial=function(A){if(!(A in this._partialCache)&&this._loadPartial){this.compilePartial(A,this._loadPartial(A))
}return this._partialCache[A]
};
r.prototype.compileTokens=function(C,B){var A=this;
return function(D,F){if(F){if(typeof F==="function"){A._loadPartial=F
}else{for(var E in F){A.compilePartial(E,F[E])
}}}return q(C,A,t.make(D),B)
}
};
r.prototype.render=function(C,A,B){return this.compile(C)(A,B)
};
function q(H,B,A,K){var E="";
var C,I,J;
for(var F=0,G=H.length;
F<G;
++F){C=H[F];
I=C[1];
switch(C[0]){case"#":J=A.lookup(I);
if(typeof J==="object"){if(m(J)){for(var D=0,M=J.length;
D<M;
++D){E+=q(C[4],B,A.push(J[D]),K)
}}else{if(J){E+=q(C[4],B,A.push(J),K)
}}}else{if(typeof J==="function"){var L=K==null?null:K.slice(C[3],C[5]);
J=J.call(A.view,L,function(N){return B.render(N,A)
});
if(J!=null){E+=J
}}else{if(J){E+=q(C[4],B,A,K)
}}}break;
case"^":J=A.lookup(I);
if(!J||(m(J)&&J.length===0)){E+=q(C[4],B,A,K)
}break;
case">":J=B.getPartial(I);
if(typeof J==="function"){E+=J(A)
}break;
case"&":J=A.lookup(I);
if(J!=null){E+=J
}break;
case"name":J=A.lookup(I);
if(J!=null){E+=a.escape(J)
}break;
case"text":E+=I;
break
}}return E
}function z(G){var B=[];
var F=B;
var H=[];
var D;
for(var C=0,A=G.length;
C<A;
++C){D=G[C];
switch(D[0]){case"#":case"^":H.push(D);
F.push(D);
F=D[4]=[];
break;
case"/":var E=H.pop();
E[5]=D[2];
F=H.length>0?H[H.length-1][4]:B;
break;
default:F.push(D)
}}return B
}function b(F){var C=[];
var E,B;
for(var D=0,A=F.length;
D<A;
++D){E=F[D];
if(E){if(E[0]==="text"&&B&&B[0]==="text"){B[1]+=E[1];
B[3]=E[3]
}else{B=E;
C.push(E)
}}}return C
}function s(A){return[new RegExp(d(A[0])+"\\s*"),new RegExp("\\s*"+d(A[1]))]
}function y(Q,G){Q=Q||"";
G=G||a.tags;
if(typeof G==="string"){G=G.split(n)
}if(G.length!==2){throw new Error("Invalid tags: "+G.join(", "))
}var K=s(G);
var C=new w(Q);
var I=[];
var H=[];
var F=[];
var R=false;
var P=false;
function O(){if(R&&!P){while(F.length){delete H[F.pop()]
}}else{F=[]
}R=false;
P=false
}var D,B,J,L,E;
while(!C.eos()){D=C.pos;
J=C.scanUntil(K[0]);
if(J){for(var M=0,N=J.length;
M<N;
++M){L=J.charAt(M);
if(h(L)){F.push(H.length)
}else{P=true
}H.push(["text",L,D,D+1]);
D+=1;
if(L=="\n"){O()
}}}if(!C.scan(K[0])){break
}R=true;
B=C.scan(v)||"name";
C.scan(f);
if(B==="="){J=C.scanUntil(j);
C.scan(j);
C.scanUntil(K[1])
}else{if(B==="{"){J=C.scanUntil(new RegExp("\\s*"+d("}"+G[1])));
C.scan(p);
C.scanUntil(K[1]);
B="&"
}else{J=C.scanUntil(K[1])
}}if(!C.scan(K[1])){throw new Error("Unclosed tag at "+C.pos)
}E=[B,J,D,C.pos];
H.push(E);
if(B==="#"||B==="^"){I.push(E)
}else{if(B==="/"){if(I.length===0){throw new Error('Unopened section "'+J+'" at '+D)
}var A=I.pop();
if(A[1]!==J){throw new Error('Unclosed section "'+A[1]+'" at '+D)
}}else{if(B==="name"||B==="{"||B==="&"){P=true
}else{if(B==="="){G=J.split(n);
if(G.length!==2){throw new Error("Invalid tags at "+D+": "+G.join(", "))
}K=s(G)
}}}}}var A=I.pop();
if(A){throw new Error('Unclosed section "'+A[1]+'" at '+C.pos)
}H=b(H);
return z(H)
}a.name="mustache.js";
a.version="0.7.2";
a.tags=["{{","}}"];
a.Scanner=w;
a.Context=t;
a.Writer=r;
a.parse=y;
a.escape=o;
var k=new r();
a.clearCache=function(){return k.clearCache()
};
a.compile=function(B,A){return k.compile(B,A)
};
a.compilePartial=function(B,C,A){return k.compilePartial(B,C,A)
};
a.compileTokens=function(B,A){return k.compileTokens(B,A)
};
a.render=function(C,A,B){return k.render(C,A,B)
};
a.to_html=function(D,B,C,E){var A=a.render(D,B,C);
if(typeof E==="function"){E(A)
}else{return A
}}
}));
function Incrementer(a){props=a||{min:0,max:10,increment:1,currentValue:0};
function g(){if((props.currentValue+props.increment)>props.max){return props.currentValue
}else{return props.currentValue=props.currentValue+props.increment
}}function c(){if((props.currentValue-props.increment)<props.min){return props.currentValue
}else{return props.currentValue=props.currentValue-props.increment
}}function h(){return props.currentValue==props.min
}function f(){return props.currentValue==props.max
}function b(j){typeof j=="number"?props.currentValue=j:props.currentValue=props.currentValue;
return props.currentValue
}function d(){return b(0)
}return{reset:d,currentValue:b,bumpUp:function(){return(g())
},bumpDown:function(){return(c())
},isMin:function(){return(h())
},isMax:function(){return(f())
}}
}(function(w,u,t){function r(g,h){var f=(g[0]||0)-(h[0]||0);
return f>0||!f&&g.length>0&&r(g.slice(1),h.slice(1))
}function q(g){if(typeof g!=v){return g
}var j=[],f="";
for(var h in g){f=typeof g[h]==v?q(g[h]):[h,d?encodeURI(g[h]):g[h]].join("=");
j.push(f)
}return j.join("&")
}function c(g){var h=[];
for(var f in g){g[f]&&h.push([f,'="',g[f],'"'].join(""))
}return h.join(" ")
}function b(g){var h=[];
for(var f in g){h.push(['<param name="',f,'" value="',q(g[f]),'" />'].join(""))
}return h.join("")
}var v="object",d=true;
try{var s=t.description||function(){return(new t("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")
}()
}catch(a){s="Unavailable"
}var x=s.match(/\d+/g)||[0];
w[u]={available:x[0]>0,activeX:t&&!t.name,version:{original:s,array:x,string:x.join("."),major:parseInt(x[0],10)||0,minor:parseInt(x[1],10)||0,release:parseInt(x[2],10)||0},hasVersion:function(f){f=/string|number/.test(typeof f)?f.toString().split("."):/object/.test(typeof f)?[f.major,f.minor]:f||[0,0];
return r(x,f)
},encodeParams:true,expressInstall:"expressInstall.swf",expressInstallIsActive:false,create:function(f){if(!f.swf||this.expressInstallIsActive||!this.available&&!f.hasVersionFail){return false
}if(!this.hasVersion(f.hasVersion||1)){this.expressInstallIsActive=true;
if(typeof f.hasVersionFail=="function"){if(!f.hasVersionFail.apply(f)){return false
}}f={swf:f.expressInstall||this.expressInstall,height:137,width:214,flashvars:{MMredirectURL:location.href,MMplayerType:this.activeX?"ActiveX":"PlugIn",MMdoctitle:document.title.slice(0,47)+" - Flash Player Installation"}}
}attrs={data:f.swf,type:"application/x-shockwave-flash",id:f.id||"flash_"+Math.floor(Math.random()*999999999),width:f.width||320,height:f.height||180,style:f.style||""};
d=typeof f.useEncode!=="undefined"?f.useEncode:this.encodeParams;
f.movie=f.swf;
f.wmode=f.wmode||"opaque";
delete f.fallback;
delete f.hasVersion;
delete f.hasVersionFail;
delete f.height;
delete f.id;
delete f.swf;
delete f.useEncode;
delete f.width;
var g=document.createElement("div");
g.innerHTML=["<object ",c(attrs),">",b(f),"</object>"].join("");
return g.firstChild
}};
w.fn[u]=function(f){var g=this.find(v).andSelf().filter(v);
/string|object/.test(typeof f)&&this.each(function(){var h=w(this),j;
f=typeof f==v?f:{swf:f};
f.fallback=this;
if(j=w[u].create(f)){h.children().remove();
h.html(j)
}});
typeof f=="function"&&g.each(function(){var h=this;
h.jsInteractionTimeoutMs=h.jsInteractionTimeoutMs||0;
if(h.jsInteractionTimeoutMs<660){h.clientWidth||h.clientHeight?f.call(h):setTimeout(function(){w(h)[u](f)
},h.jsInteractionTimeoutMs+66)
}});
return g
}
})(jQuery,"flash",navigator.plugins["Shockwave Flash"]||window.ActiveXObject);
(function(a){a.fn.youTubeEmbed=function(c){if(typeof c=="string"){c={video:c}
}var f={width:640,progressBar:true};
c=a.extend(f,c);
var d={originalDIV:this,container:null,control:null,player:null,progress:null,elapsed:null};
try{c.videoID=c.video.match(/v=(.{11})/)[1];
c.safeID=c.videoID.replace(/[^a-z0-9]/ig,"")
}catch(g){return d.originalDIV
}if(a.flash.available==false){a(this).append('<iframe src="//www.youtube.com/embed/'+c.videoID+"?wmode=opaque"+(c.autoplay?"&autoplay=1":"")+'" frameborder="0" allowfullscreen width="100%" height="100%"></iframe>');
return d.originalDIV
}var b="https://www.googleapis.com/youtube/v3/videos?key="+VW.youTubeAPIKey+"&part=snippet,contentDetails";
a.get(b,{id:c.videoID},function(k){if(!k.items.length){return d.originalDIV
}k=k.items[0];
var h=k.contentDetails.duration.match(/\d{0,2}[MS]/ig);
if(h.length){k.duration=parseInt(h[0].replace(/[MS]/i,""));
if(h.length>1){k.duration=k.duration*60+parseInt(h[1].replace(/[MS]/i,""))
}}else{k.duration=0
}c.videoTitle=(k.snippet&&k.snippet.title)?k.snippet.title:"";
c.ratio=3/4;
if(k.aspectRatio=="widescreen"){c.ratio=9/16
}d.container=a("<div>",{"class":"flashContainer",css:{width:"100%",height:"100%"}}).appendTo(d.originalDIV);
d.container.flash({swf:"http://www.youtube.com/apiplayer?enablejsapi=1&version=3",id:"video_"+c.safeID,height:"100%",width:"100%",allowScriptAccess:"always",wmode:"transparent",flashvars:{video_id:c.videoID,playerapiid:c.safeID}});
d.player=d.container.flash().get(0);
d.control=a("<div>",{"class":"controlDiv play"}).appendTo(d.container);
d.controller=a("<div>",{"class":"fullController"}).appendTo(d.container);
if(c.progressBar){d.progress=a("<div>",{"class":"progressBar"}).appendTo(d.container);
d.elapsed=a("<div>",{"class":"elapsed"}).appendTo(d.progress);
d.progress.click(function(n){var m=(n.pageX-d.progress.offset().left)/d.progress.outerWidth();
d.elapsed.width(m*100+"%");
d.player.seekTo(Math.round(k.duration*m),true);
return false
})
}var l=false,j=true;
window["eventListener_"+c.safeID]=function(m){var n;
if(m==-1){if(!l){d.control.click(function(o){o.preventDefault();
o.stopPropagation();
if(!d.container.hasClass("playing")){if(j){VW.radio("youtubeVideo:start").broadcast({videoID:c.videoID,videoTitle:c.videoTitle});
j=false
}else{VW.radio("youtubeVideo:play").broadcast({videoID:c.videoID,videoTitle:c.videoTitle})
}d.control.removeClass("play replay").addClass("pause");
d.container.addClass("playing");
d.player.playVideo();
if(c.progressBar){n=window.setInterval(function(){if(_.isFunction(d.player.getCurrentTime)){d.elapsed.width(((d.player.getCurrentTime()/k.duration)*100)+"%")
}else{window.clearInterval(n)
}},1000)
}}else{d.control.removeClass("pause").addClass("play");
d.container.removeClass("playing");
d.player.pauseVideo();
VW.radio("youtubeVideo:play").broadcast({videoID:c.videoID,videoTitle:c.videoTitle});
if(c.progressBar){window.clearInterval(n)
}}});
d.controller.click(function(o){d.control.click()
});
if(c.autoplay){d.control.click()
}l=true
}else{if(d.container.hasClass("playing")){d.control.click()
}}}if(m==0){d.control.removeClass("pause").addClass("replay");
d.container.removeClass("playing");
VW.radio("youtubeVideo:end").broadcast({videoID:c.videoID,videoTitle:c.videoTitle})
}if(m==1&&!d.container.hasClass("playing")){d.control.removeClass("play replay").addClass("pause");
d.container.addClass("playing")
}};
if(!window.onYouTubePlayerReady){window.onYouTubePlayerReady=function(m){document.getElementById("video_"+m).addEventListener("onStateChange","eventListener_"+m)
}
}},"jsonp");
return d.originalDIV
}
})(jQuery);
window.p2q_Version=2.2;
function p2q_EmbedQuicktime(c,b,a){document.writeln('<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B"');
document.writeln('  codebase="http://www.apple.com/qtactivex/qtplugin.cab"');
document.writeln('  width="'+b+'" height="'+a+'" >');
document.writeln('  <param name="src" value="'+c+'">');
for(i=3;
i<arguments.length;
i+=2){document.writeln('  <param name="'+arguments[i]+'" value="'+arguments[i+1]+'">')
}document.writeln('<embed width="'+b+'" height="'+a+'"');
document.writeln('	pluginspage="http://www.apple.com/quicktime/download/"');
document.writeln('	type="video/quicktime"');
document.writeln('	src="'+c+'"');
for(i=3;
i<arguments.length;
i+=2){document.writeln("  "+arguments[i]+'="'+arguments[i+1]+'"')
}document.writeln("	/>");
document.writeln("</object>")
}function p2q_EmbedSPiV(c,b,a){document.writeln('<object id="SPi-V_object"	classid="clsid:166B1BCA-3F9C-11CF-8075-444553540000"');
document.writeln('  codebase="http://download.macromedia.com/pub/shockwave/cabs/director/sw.cab#version=8,5,1,0"');
document.writeln('  width="'+b+'" height="'+a+'" >');
document.writeln('	<param name="src" value="SPi-V.dcr">');
document.writeln('	<param name="swStretchStyle" value="stage">');
document.writeln('	<param name="swRemote"       value="swContextMenu=\'FALSE\'">');
document.writeln('	<param name="progress"       value="true">');
document.writeln('	<param name="logo"           value="false">');
document.writeln('  <param name="swURL" value="'+c+'">');
for(i=3;
i<arguments.length;
i+=2){document.writeln('  <param name="'+arguments[i]+'" value="'+arguments[i+1]+'">')
}document.writeln('<embed name="SPi-V_object" width="'+b+'" height="'+a+'"');
document.writeln('	pluginspage="http://www.macromedia.com/shockwave/download/"');
document.writeln('	type="application/x-director" ');
document.writeln('	swURL="'+c+'" ');
document.writeln('	src="SPi-V.dcr" ');
document.writeln('	swStretchStyle="stage" ');
document.writeln("	swRemote=\"swContextMenu='FALSE'\" ");
document.writeln('	progress="true" ');
document.writeln('	logo="false" ');
for(i=3;
i<arguments.length;
i+=2){document.writeln("  "+arguments[i]+'="'+arguments[i+1]+'"')
}document.writeln("	/>");
document.writeln("</object>")
}function p2q_EmbedDevalVR(c,b,a){document.writeln('<object classid="clsid:5D2CF9D0-113A-476B-986F-288B54571614"');
document.writeln('  codebase="http://www.devalvr.com/instalacion/plugin/devalocx.cab#version=0,2,9,0"');
document.writeln('  width="'+b+'" height="'+a+'" >');
document.writeln('  <param name="src" value="'+c+'">');
for(i=3;
i<arguments.length;
i+=2){document.writeln('  <param name="'+arguments[i]+'" value="'+arguments[i+1]+'">')
}document.writeln('<embed width="'+b+'" height="'+a+'"');
document.writeln('	pluginspage="http://www.devalvr.com/instalacion/plugin/install.html"');
document.writeln('	type="application/x-devalvrx"');
document.writeln('	src="'+c+'"');
for(i=3;
i<arguments.length;
i+=2){document.writeln("  "+arguments[i]+'="'+arguments[i+1]+'"')
}document.writeln("	/>");
document.writeln("</object>")
}function p2q_EmbedFlash(d,c,a){var b=[];
b.push('<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"');
b.push('  codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0"');
b.push('  width="'+c+'" height="'+a+'" >');
b.push('  <param name="movie" value="'+d+'">');
for(i=3;
i<arguments.length;
i+=2){b.push('  <param name="'+arguments[i]+'" value="'+arguments[i+1]+'">')
}b.push('<embed width="'+c+'" height="'+a+'"');
b.push('	pluginspage="http://www.macromedia.com/go/getflashplayer"');
b.push('	type="application/x-shockwave-flash"');
b.push('	src="'+d+'"');
for(i=3;
i<arguments.length;
i+=2){b.push("  "+arguments[i]+'="'+arguments[i+1]+'"')
}b.push("	/>");
b.push("</object>");
return b.join("")
}function p2q_EmbedFlashId(d,c,b,a){document.writeln('<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"');
document.writeln('  codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0"');
document.writeln('  id="'+d+'"');
document.writeln('  width="'+b+'" height="'+a+'" >');
document.writeln('  <param name="movie" value="'+c+'">');
for(i=4;
i<arguments.length;
i+=2){document.writeln('  <param name="'+arguments[i]+'" value="'+arguments[i+1]+'">')
}document.writeln('<embed width="'+b+'" height="'+a+'"');
document.writeln('	pluginspage="http://www.macromedia.com/go/getflashplayer"');
document.writeln('	type="application/x-shockwave-flash"');
document.writeln('	name="'+d+'"');
document.writeln('	src="'+c+'"');
for(i=4;
i<arguments.length;
i+=2){document.writeln("  "+arguments[i]+'="'+arguments[i+1]+'"')
}document.writeln("	/>");
document.writeln("</object>")
}function p2q_EmbedPtviewer(c,b,a){document.writeln('<applet code="ptviewer.class" archive="ptviewer.jar"');
document.writeln('  width="'+b+'" height="'+a+'" >');
document.writeln('	<param name="file" value="'+c+'">');
for(i=3;
i<arguments.length;
i+=2){document.writeln('  <param name="'+arguments[i]+'" value="'+arguments[i+1]+'">')
}document.writeln("</applet>")
}function htmlEncode(a){var b=new String(a);
b=b.replace(/&/g,"&amp;");
b=b.replace(/</g,"&lt;");
b=b.replace(/>/g,"&gt;");
b=b.replace(/"/g,"&quot;");
return b
}var isIE=(navigator.appVersion.indexOf("MSIE")!=-1)?true:false;
var isWin=(navigator.appVersion.toLowerCase().indexOf("win")!=-1)?true:false;
var isOpera=(navigator.userAgent.indexOf("Opera")!=-1)?true:false;
function ControlVersion(){var a;
var b;
var c;
try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");
a=b.GetVariable("$version")
}catch(c){}if(!a){try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");
a="WIN 6,0,21,0";
b.AllowScriptAccess="always";
a=b.GetVariable("$version")
}catch(c){}}if(!a){try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3");
a=b.GetVariable("$version")
}catch(c){}}if(!a){try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3");
a="WIN 3,0,18,0"
}catch(c){}}if(!a){try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");
a="WIN 2,0,0,11"
}catch(c){a=-1
}}return a
}function GetSwfVer(){var h=-1;
if(navigator.plugins!=null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var g=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";
var a=navigator.plugins["Shockwave Flash"+g].description;
var f=a.split(" ");
var c=f[2].split(".");
var j=c[0];
var b=c[1];
if(f[3]!=""){tempArrayMinor=f[3].split("r")
}else{tempArrayMinor=f[4].split("r")
}var d=tempArrayMinor[1]>0?tempArrayMinor[1]:0;
var h=j+"."+b+"."+d
}}else{if(navigator.userAgent.toLowerCase().indexOf("webtv/2.6")!=-1){h=4
}else{if(navigator.userAgent.toLowerCase().indexOf("webtv/2.5")!=-1){h=3
}else{if(navigator.userAgent.toLowerCase().indexOf("webtv")!=-1){h=2
}else{if(isIE&&isWin&&!isOpera){h=ControlVersion()
}}}}}return h
}function DetectFlashVer(g,d,c){versionStr=GetSwfVer();
if(versionStr==-1){return false
}else{if(versionStr!=0){if(isIE&&isWin&&!isOpera){tempArray=versionStr.split(" ");
tempString=tempArray[1];
versionArray=tempString.split(",")
}else{versionArray=versionStr.split(".")
}var f=versionArray[0];
var a=versionArray[1];
var b=versionArray[2];
if(f>parseFloat(g)){return true
}else{if(f==parseFloat(g)){if(a>parseFloat(d)){return true
}else{if(a==parseFloat(d)){if(b>=parseFloat(c)){return true
}}}}}return false
}}}+function(c){function b(g,f){var d;
var h=c.proxy(this.process,this);
this.$element=c(g).is("body")?c(window):c(g);
this.$body=c("body");
this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",h);
this.options=c.extend({},b.DEFAULTS,f);
this.selector=(this.options.target||((d=c(g).attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""))||"")+" .nav li > a";
this.offsets=c([]);
this.targets=c([]);
this.activeTarget=null;
this.refresh();
this.process()
}b.DEFAULTS={offset:10};
b.prototype.refresh=function(){var d=this.$element[0]==window?"offset":"position";
this.offsets=c([]);
this.targets=c([]);
var f=this;
var g=this.$body.find(this.selector).map(function(){var j=c(this);
var h=j.data("target")||j.attr("href");
var k=/^.\w/.test(h)&&c(h);
return(k&&k.length&&[[k[d]().top+(!c.isWindow(f.$scrollElement.get(0))&&f.$scrollElement.scrollTop()),h]])||null
}).sort(function(j,h){return j[0]-h[0]
}).each(function(){f.offsets.push(this[0]);
f.targets.push(this[1])
})
};
b.prototype.process=function(){var k=this.$scrollElement.scrollTop()+this.options.offset;
var g=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight;
var j=g-this.$scrollElement.height();
var h=this.offsets;
var d=this.targets;
var l=this.activeTarget;
var f;
if(k>=j){return l!=(f=d.last()[0])&&this.activate(f)
}for(f=h.length;
f--;
){l!=d[f]&&k>=h[f]&&(!h[f+1]||k<=h[f+1])&&this.activate(d[f])
}};
b.prototype.activate=function(g){this.activeTarget=g;
c(this.selector).parents(".active").removeClass("active");
var d=this.selector+'[data-target="'+g+'"],'+this.selector+'[href="'+g+'"]';
var f=c(d).parents("li").addClass("active");
if(f.parent(".dropdown-menu").length){f=f.closest("li.dropdown").addClass("active")
}f.trigger("activate")
};
var a=c.fn.scrollspy;
c.fn.scrollspy=function(d){return this.each(function(){var h=c(this);
var g=h.data("bs.scrollspy");
var f=typeof d=="object"&&d;
if(!g){h.data("bs.scrollspy",(g=new b(this,f)))
}if(typeof d=="string"){g[d]()
}})
};
c.fn.scrollspy.Constructor=b;
c.fn.scrollspy.noConflict=function(){c.fn.scrollspy=a;
return this
};
c(window).on("load",function(){c('[data-spy="scroll"]').each(function(){var d=c(this);
d.scrollspy(d.data())
})
})
}(window.jQuery);
+function(c){var b=function(f,d){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;
this.init("tooltip",f,d)
};
b.DEFAULTS={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false};
b.prototype.init=function(l,j,g){this.enabled=true;
this.type=l;
this.$element=c(j);
this.options=this.getOptions(g);
var k=this.options.trigger.split(" ");
for(var h=k.length;
h--;
){var f=k[h];
if(f=="click"){this.$element.on("click."+this.type,this.options.selector,c.proxy(this.toggle,this))
}else{if(f!="manual"){var m=f=="hover"?"mouseenter":"focus";
var d=f=="hover"?"mouseleave":"blur";
this.$element.on(m+"."+this.type,this.options.selector,c.proxy(this.enter,this));
this.$element.on(d+"."+this.type,this.options.selector,c.proxy(this.leave,this))
}}}this.options.selector?(this._options=c.extend({},this.options,{trigger:"manual",selector:""})):this.fixTitle()
};
b.prototype.getDefaults=function(){return b.DEFAULTS
};
b.prototype.getOptions=function(d){d=c.extend({},this.getDefaults(),this.$element.data(),d);
if(d.delay&&typeof d.delay=="number"){d.delay={show:d.delay,hide:d.delay}
}return d
};
b.prototype.getDelegateOptions=function(){var d={};
var f=this.getDefaults();
this._options&&c.each(this._options,function(g,h){if(f[g]!=h){d[g]=h
}});
return d
};
b.prototype.enter=function(f){var d=f instanceof this.constructor?f:c(f.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);
clearTimeout(d.timeout);
d.hoverState="in";
if(!d.options.delay||!d.options.delay.show){return d.show()
}d.timeout=setTimeout(function(){if(d.hoverState=="in"){d.show()
}},d.options.delay.show)
};
b.prototype.leave=function(f){var d=f instanceof this.constructor?f:c(f.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);
clearTimeout(d.timeout);
d.hoverState="out";
if(!d.options.delay||!d.options.delay.hide){return d.hide()
}d.timeout=setTimeout(function(){if(d.hoverState=="out"){d.hide()
}},d.options.delay.hide)
};
b.prototype.show=function(){c(".popover .closePopoverWrapper").trigger("click");
var o=c.Event("show.bs."+this.type);
if(this.hasContent()&&this.enabled){this.$element.trigger(o);
if(o.isDefaultPrevented()){return
}var k=this.tip();
this.setContent();
if(this.options.animation){k.addClass("fade")
}var j=typeof this.options.placement=="function"?this.options.placement.call(this,k[0],this.$element[0]):this.options.placement;
var s=/\s?auto?\s?/i;
var t=s.test(j);
if(t){j=j.replace(s,"")||"top"
}k.detach().css({top:0,left:0,display:"block"}).addClass(j);
this.options.container?k.appendTo(this.options.container):k.insertAfter(this.$element);
var p=this.getPosition();
var d=k[0].offsetWidth;
var m=k[0].offsetHeight;
if(t){var h=this.$element.parent();
var g=j;
var q=document.documentElement.scrollTop||document.body.scrollTop;
var r=this.options.container=="body"?window.innerWidth:h.outerWidth();
var n=this.options.container=="body"?window.innerHeight:h.outerHeight();
var l=this.options.container=="body"?0:h.offset().left;
j=j=="bottom"&&p.top+p.height+m-q>n?"top":j=="top"&&p.top-q-m<0?"bottom":j=="right"&&p.right+d>r?"left":j=="left"&&p.left-d<l?"right":j;
k.removeClass(g).addClass(j)
}var f=this.getCalculatedOffset(j,p,d,m);
this.applyPlacement(f,j);
this.$element.trigger("shown.bs."+this.type)
}};
b.prototype.applyPlacement=function(k,l){var h;
var m=this.tip();
var g=m[0].offsetWidth;
var p=m[0].offsetHeight;
var f=parseInt(m.css("margin-top"),10);
var j=parseInt(m.css("margin-left"),10);
if(isNaN(f)){f=0
}if(isNaN(j)){j=0
}k.top=k.top+f;
k.left=k.left+j;
m.offset(k).addClass("in");
var d=m[0].offsetWidth;
var n=m[0].offsetHeight;
if(l=="top"&&n!=p){h=true;
k.top=k.top+p-n
}if(/bottom|top/.test(l)){var o=0;
if(k.left<0){o=k.left*-2;
k.left=0;
m.offset(k);
d=m[0].offsetWidth;
n=m[0].offsetHeight
}this.replaceArrow(o-g+d,d,"left")
}else{this.replaceArrow(n-p,n,"top")
}if(h){m.offset(k)
}};
b.prototype.replaceArrow=function(g,f,d){this.arrow().css(d,g?(50*(1-g/f)+"%"):"")
};
b.prototype.setContent=function(){var f=this.tip();
var d=this.getTitle();
f.find(".tooltip-inner")[this.options.html?"html":"text"](d);
f.removeClass("fade in top bottom left right")
};
b.prototype.hide=function(){var f=this;
var h=this.tip();
var g=c.Event("hide.bs."+this.type);
function d(){if(f.hoverState!="in"){h.detach()
}}this.$element.trigger(g);
if(g.isDefaultPrevented()){return
}h.removeClass("in");
c.support.transition&&this.$tip.hasClass("fade")?h.one(c.support.transition.end,d).emulateTransitionEnd(150):d();
this.$element.trigger("hidden.bs."+this.type);
return this
};
b.prototype.fixTitle=function(){var d=this.$element;
if(d.attr("title")||typeof(d.attr("data-original-title"))!="string"){d.attr("data-original-title",d.attr("title")||"").attr("title","")
}};
b.prototype.hasContent=function(){return this.getTitle()
};
b.prototype.getPosition=function(){var d=this.$element[0];
return c.extend({},(typeof d.getBoundingClientRect=="function")?d.getBoundingClientRect():{width:d.offsetWidth,height:d.offsetHeight},this.$element.offset())
};
b.prototype.getCalculatedOffset=function(d,h,f,g){return d=="bottom"?{top:h.top+h.height,left:h.left+h.width/2-f/2}:d=="top"?{top:h.top-g,left:h.left+h.width/2-f/2}:d=="left"?{top:h.top+h.height/2-g/2,left:h.left-f}:{top:h.top+h.height/2-g/2,left:h.left+h.width}
};
b.prototype.getTitle=function(){var g;
var d=this.$element;
var f=this.options;
g=d.attr("data-original-title")||(typeof f.title=="function"?f.title.call(d[0]):f.title);
return g
};
b.prototype.tip=function(){return this.$tip=this.$tip||c(this.options.template)
};
b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")
};
b.prototype.validate=function(){if(!this.$element[0].parentNode){this.hide();
this.$element=null;
this.options=null
}};
b.prototype.enable=function(){this.enabled=true
};
b.prototype.disable=function(){this.enabled=false
};
b.prototype.toggleEnabled=function(){this.enabled=!this.enabled
};
b.prototype.toggle=function(f){var d=f?c(f.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;
d.tip().hasClass("in")?d.leave(d):d.enter(d)
};
b.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)
};
var a=c.fn.tooltip;
c.fn.tooltip=function(d){return this.each(function(){var h=c(this);
var g=h.data("bs.tooltip");
var f=typeof d=="object"&&d;
if(!g){h.data("bs.tooltip",(g=new b(this,f)))
}if(typeof d=="string"){g[d]()
}})
};
c.fn.tooltip.Constructor=b;
c.fn.tooltip.noConflict=function(){c.fn.tooltip=a;
return this
}
}(window.jQuery);
+function(c){var b=function(f,d){this.init("popover",f,d)
};
if(!c.fn.tooltip){throw new Error("Popover requires tooltip.js")
}b.DEFAULTS=c.extend({},c.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});
b.prototype=c.extend({},c.fn.tooltip.Constructor.prototype);
b.prototype.constructor=b;
b.prototype.getDefaults=function(){return b.DEFAULTS
};
b.prototype.setContent=function(){var g=this.tip();
var f=this.getTitle();
var d=this.getContent();
g.find(".popover-title")[this.options.html?"html":"text"](f);
g.find(".popover-content")[this.options.html?"html":"text"](d);
g.removeClass("fade top bottom left right in");
if(!g.find(".popover-title").html()){g.find(".popover-title").hide()
}};
b.prototype.hasContent=function(){return this.getTitle()||this.getContent()
};
b.prototype.getContent=function(){var d=this.$element;
var f=this.options;
return d.attr("data-content")||(typeof f.content=="function"?f.content.call(d[0]):f.content)
};
b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")
};
b.prototype.tip=function(){if(!this.$tip){this.$tip=c(this.options.template)
}return this.$tip
};
var a=c.fn.popover;
c.fn.popover=function(d){return this.each(function(){var h=c(this);
var g=h.data("bs.popover");
var f=typeof d=="object"&&d;
if(!g){h.data("bs.popover",(g=new b(this,f)))
}if(typeof d=="string"){g[d]()
}})
};
c.fn.popover.Constructor=b;
c.fn.popover.noConflict=function(){c.fn.popover=a;
return this
}
}(window.jQuery);
!function(){var a,d,c=[].slice,b=[].indexOf||function(f){for(var h=0,g=this.length;
g>h;
h++){if(h in this&&this[h]===f){return h
}}return -1
};
a="undefined"!=typeof module&&null!==module&&null!=module.exports,d=function(j){var h,f,g;
if(null==j){throw"Can't find moment"
}return g=["en"],h=function(){function k(l,n,m){this.start=j(l),this.end=j(n),this.allDay=m||!1
}return k._extend=function(){var p,u,q,s,l,m;
for(u=arguments[0],s=2<=arguments.length?c.call(arguments,1):[],l=0,m=s.length;
m>l;
l++){q=s[l];
for(p in q){"undefined"!=typeof q[p]&&(u[p]=q[p])
}}return u
},k.defaults={twentyFourHour:!1,allDaySimple:{fn:function(l){return function(){return l.allDay
}
},slot:0,pre:" "},dayOfWeek:{fn:function(l){return function(m){return m.format(l.weekdayFormat)
}
},slot:1,pre:" "},allDayMonth:{fn:function(l){return function(m){return m.format(""+l.monthFormat+" "+l.dayFormat)
}
},slot:2,pre:" "},month:{fn:function(l){return function(m){return m.format(l.monthFormat)
}
},slot:2,pre:" "},date:{fn:function(l){return function(m){return m.format(l.dayFormat)
}
},slot:3,pre:" "},year:{fn:function(l){return function(m){return m.format(l.yearFormat)
}
},slot:4,pre:", "},time:{fn:function(l){return function(o){var m;
return m=0===o.minutes()&&l.implicitMinutes&&!l.twentyFourHour?o.format(l.hourFormat):o.format(""+l.hourFormat+":"+l.minuteFormat),l.groupMeridiems||l.twentyFourHour||(l.spaceBeforeMeridiem&&(m+=" "),m+=o.format(l.meridiemFormat)),m
}
},slot:5,pre:", "},meridiem:{fn:function(l){return function(m){return m.format(l.meridiemFormat)
}
},slot:6,pre:function(l){return l.spaceBeforeMeridiem?" ":""
}}},k.registerLang=function(l,m){return j.lang(l,{twix:k._extend({},k.defaults,m)})
},k.prototype.isSame=function(l){return this.start.isSame(this.end,l)
},k.prototype.length=function(l){return this._trueEnd().add(1,"millisecond").diff(this._trueStart(),l)
},k.prototype.count=function(l){var o,m;
return m=this.start.clone().startOf(l),o=this.end.clone().startOf(l),o.diff(m,l)+1
},k.prototype.countInner=function(l){var p,o,m;
return m=this._inner(l),o=m[0],p=m[1],o>=p?0:p.diff(o,l)
},k.prototype.iterate=function(m,u){var q,p,s,l=this;
return s=this.start.clone().startOf(m),q=this.end.clone().startOf(m),p=function(){return q>=s&&(!u||s.valueOf()!==q.valueOf()||l.end.hours()>u||l.allDay)
},this._iterateHelper(m,s,p)
},k.prototype.iterateInner=function(l){var s,p,m,q;
return q=this._inner(l),m=q[0],s=q[1],p=function(){return s>m
},this._iterateHelper(l,m,p)
},k.prototype.humanizeLength=function(){return this.allDay?this.isSame("day")?"all day":this.start.from(this.end.clone().add(1,"day"),!0):this.start.from(this.end,!0)
},k.prototype.asDuration=function(){var l;
return l=this.end.diff(this.start),j.duration(l)
},k.prototype.isPast=function(){return this.allDay?this.end.clone().endOf("day")<j():this.end<j()
},k.prototype.isFuture=function(){return this.allDay?this.start.clone().startOf("day")>j():this.start>j()
},k.prototype.isCurrent=function(){return !this.isPast()&&!this.isFuture()
},k.prototype.contains=function(l){return l=j(l),this._trueStart()<=l&&this._trueEnd()>=l
},k.prototype.overlaps=function(l){return this._trueEnd().isAfter(l._trueStart())&&this._trueStart().isBefore(l._trueEnd())
},k.prototype.engulfs=function(l){return this._trueStart()<=l._trueStart()&&this._trueEnd()>=l._trueEnd()
},k.prototype.union=function(l){var p,o,m;
return p=this.allDay&&l.allDay,p?(m=this.start<l.start?this.start:l.start,o=this.end>l.end?this.end:l.end):(m=this._trueStart()<l._trueStart()?this._trueStart():l._trueStart(),o=this._trueEnd()>l._trueEnd()?this._trueEnd():l._trueEnd()),new k(m,o,p)
},k.prototype.intersection=function(n){var p,o,l,m;
return m=this.start>n.start?this.start:n.start,this.allDay?(o=j(this.end),o.add(1,"day"),o.subtract(1,"millisecond"),l=n.allDay?o<n.end?this.end:n.end:o<n.end?o:n.end):l=this.end<n.end?this.end:n.end,p=this.allDay&&n.allDay,new k(m,l,p)
},k.prototype.isValid=function(){return this._trueStart()<=this._trueEnd()
},k.prototype.equals=function(l){return l instanceof k&&this.allDay===l.allDay&&this.start.valueOf()===l.start.valueOf()&&this.end.valueOf()===l.end.valueOf()
},k.prototype.toString=function(){var l;
return"{start: "+this.start.format()+", end: "+this.end.format()+", allDay: "+(null!=(l=this.allDay)?l:{"true":"false"})+"}"
},k.prototype.simpleFormat=function(l,p){var o,m;
return o={allDay:"(all day)"},k._extend(o,p||{}),m=""+this.start.format(l)+" - "+this.end.format(l),this.allDay&&o.allDay&&(m+=" "+o.allDay),m
},k.prototype.format=function(H){var A,n,E,w,G,I,v,z,x,B,q,C,o,D,F=this;
for(this._lazyLang(),x={groupMeridiems:!0,spaceBeforeMeridiem:!0,showDate:!0,showDayOfWeek:!1,twentyFourHour:this.langData.twentyFourHour,implicitMinutes:!0,implicitYear:!0,yearFormat:"YYYY",monthFormat:"MMM",weekdayFormat:"ddd",dayFormat:"D",meridiemFormat:"A",hourFormat:"h",minuteFormat:"mm",allDay:"all day",explicitAllDay:!1,lastNightEndsAt:0},k._extend(x,H||{}),G=[],x.twentyFourHour&&(x.hourFormat=x.hourFormat.replace("h","H")),v=x.lastNightEndsAt>0&&!this.allDay&&this.end.clone().startOf("day").valueOf()===this.start.clone().add(1,"day").startOf("day").valueOf()&&this.start.hours()>12&&this.end.hours()<x.lastNightEndsAt,z=x.showDate||!this.isSame("day")&&!v,this.allDay&&this.isSame("day")&&(!x.showDate||x.explicitAllDay)&&G.push({name:"all day simple",fn:this._formatFn("allDaySimple",x),pre:this._formatPre("allDaySimple",x),slot:this._formatSlot("allDaySimple")}),!z||x.implicitYear&&this.start.year()===j().year()&&this.isSame("year")||G.push({name:"year",fn:this._formatFn("year",x),pre:this._formatPre("year",x),slot:this._formatSlot("year")}),!this.allDay&&z&&G.push({name:"all day month",fn:this._formatFn("allDayMonth",x),ignoreEnd:function(){return v
},pre:this._formatPre("allDayMonth",x),slot:this._formatSlot("allDayMonth")}),this.allDay&&z&&G.push({name:"month",fn:this._formatFn("month",x),pre:this._formatPre("month",x),slot:this._formatSlot("month")}),this.allDay&&z&&G.push({name:"date",fn:this._formatFn("date",x),pre:this._formatPre("date",x),slot:this._formatSlot("date")}),z&&x.showDayOfWeek&&G.push({name:"day of week",fn:this._formatFn("dayOfWeek",x),pre:this._formatPre("dayOfWeek",x),slot:this._formatSlot("dayOfWeek")}),!x.groupMeridiems||x.twentyFourHour||this.allDay||G.push({name:"meridiem",fn:this._formatFn("meridiem",x),pre:this._formatPre("meridiem",x),slot:this._formatSlot("meridiem")}),this.allDay||G.push({name:"time",fn:this._formatFn("time",x),pre:this._formatPre("time",x),slot:this._formatSlot("time")}),q=[],n=[],A=[],C=!0,B=function(m){var r,p,l;
return l=m.fn(F.start),r=m.ignoreEnd&&m.ignoreEnd()?l:m.fn(F.end),p={format:m,value:function(){return l
}},r===l&&C?A.push(p):(C&&(C=!1,A.push({format:{slot:m.slot,pre:""},value:function(){return""+E(q)+" -"+E(n,!0)
}})),q.push(p),n.push({format:m,value:function(){return r
}}))
},o=0,D=G.length;
D>o;
o++){w=G[o],B(w)
}return I=!0,E=function(s,L){var J,y,K,l,p,m;
for(J=!0,K="",m=s.sort(function(r,u){return r.format.slot-u.format.slot
}),l=0,p=m.length;
p>l;
l++){y=m[l],I||(K+=J&&L?" ":y.format.pre),K+=y.value(),I=!1,J=!1
}return K
},E(A)
},k.prototype._trueStart=function(){return this.allDay?this.start.clone().startOf("day"):this.start.clone()
},k.prototype._trueEnd=function(l){return null==l&&(l=!1),this.allDay?l?this.end.clone().add(1,"day"):this.end.clone().endOf("day"):this.end.clone()
},k.prototype._iterateHelper=function(l,o,m){return{next:function(){var n;
return m()?(n=o.clone(),o.add(1,l),n):null
},hasNext:m}
},k.prototype._inner=function(l){var o,m;
return null==l&&(l="milliseconds"),m=this._trueStart(),o=this._trueEnd(!0),m>m.clone().startOf(l)&&m.startOf(l).add(1,l),o<o.clone().endOf(l)&&o.startOf(l),[m,o]
},k.prototype._lazyLang=function(){var t,r,o,p,q;
if(o=this.start.lang(),null!=o&&this.end.lang()._abbr!==o._abbr&&this.end.lang(o._abbr),null==this.langData||this.langData._abbr!==o._abbr){if(a&&(p=o._abbr,!(b.call(g,p)>=0))){try{r=require("./lang/"+o._abbr),r(k)
}catch(m){t=m
}g.push(o._abbr)
}return this.langData=null!=(q=null!=o?o._twix:void 0)?q:k.defaults
}},k.prototype._formatFn=function(l,m){return this.langData[l].fn(m)
},k.prototype._formatSlot=function(l){return this.langData[l].slot
},k.prototype._formatPre=function(l,m){return"function"==typeof this.langData[l].pre?this.langData[l].pre(m):this.langData[l].pre
},k.prototype._deprecate=function(l,o,m){return"undefined"!=typeof console&&null!==console&&null!=console.warn&&console.warn("#"+l+" is deprecated. Use #"+o+" instead."),m.apply(this)
},k.prototype.sameDay=function(){return this._deprecate("sameDay","isSame('day')",function(){return this.isSame("day")
})
},k.prototype.sameYear=function(){return this._deprecate("sameYear","isSame('year')",function(){return this.isSame("year")
})
},k.prototype.countDays=function(){return this._deprecate("countDays","countOuter('days')",function(){return this.countOuter("days")
})
},k.prototype.daysIn=function(l){return this._deprecate("daysIn","iterate('days' [,minHours])",function(){return this.iterate("days",l)
})
},k.prototype.past=function(){return this._deprecate("past","isPast()",function(){return this.isPast()
})
},k.prototype.duration=function(){return this._deprecate("duration","humanizeLength()",function(){return this.humanizeLength()
})
},k.prototype.merge=function(l){return this._deprecate("merge","union(other)",function(){return this.union(l)
})
},k
}(),f=function(k){return"function"==typeof Object.getPrototypeOf?Object.getPrototypeOf(k):"".__proto__===String.prototype?k.__proto__:k.constructor.prototype
},h._extend(f(j.fn._lang),{_twix:h.defaults}),j.twix=function(){return function(k,q,m){m.prototype=k.prototype;
var l=new m,p=k.apply(l,q);
return Object(p)===p?p:l
}(h,arguments,function(){})
},j.fn.twix=function(){return function(k,q,m){m.prototype=k.prototype;
var l=new m,p=k.apply(l,q);
return Object(p)===p?p:l
}(h,[this].concat(c.call(arguments)),function(){})
},j.fn.forDuration=function(k,l){return new h(this,this.clone().add(k),l)
},j.duration.fn.afterMoment=function(k,l){return new h(k,j(k).clone().add(this),l)
},j.duration.fn.beforeMoment=function(k,l){return new h(j(k).clone().subtract(this),k,l)
},h
},a&&(module.exports=d(require("moment"))),"function"==typeof define&&define("twix",["moment"],function(f){return d(f)
}),null!=this.moment&&(this.Twix=d(this.moment))
}.call(this);
function xml2json(a,c){var d={toObj:function(g){var l={};
if(g.nodeType==1){if(g.attributes.length){for(var k=0;
k<g.attributes.length;
k++){l["@"+g.attributes[k].nodeName]=(g.attributes[k].nodeValue||"").toString()
}}if(g.firstChild){var f=0,j=0,h=false;
for(var m=g.firstChild;
m;
m=m.nextSibling){if(m.nodeType==1){h=true
}else{if(m.nodeType==3&&m.nodeValue.match(/[^ \f\n\r\t\v]/)){f++
}else{if(m.nodeType==4){j++
}}}}if(h){if(f<2&&j<2){d.removeWhite(g);
for(var m=g.firstChild;
m;
m=m.nextSibling){if(m.nodeType==3){l["#text"]=d.escape(m.nodeValue)
}else{if(m.nodeType==4){l["#cdata"]=d.escape(m.nodeValue)
}else{if(l[m.nodeName]){if(l[m.nodeName] instanceof Array){l[m.nodeName][l[m.nodeName].length]=d.toObj(m)
}else{l[m.nodeName]=[l[m.nodeName],d.toObj(m)]
}}else{l[m.nodeName]=d.toObj(m)
}}}}}else{if(!g.attributes.length){l=d.escape(d.innerXml(g))
}else{l["#text"]=d.escape(d.innerXml(g))
}}}else{if(f){if(!g.attributes.length){l=d.escape(d.innerXml(g))
}else{l["#text"]=d.escape(d.innerXml(g))
}}else{if(j){if(j>1){l=d.escape(d.innerXml(g))
}else{for(var m=g.firstChild;
m;
m=m.nextSibling){l["#cdata"]=d.escape(m.nodeValue)
}}}}}}if(!g.attributes.length&&!g.firstChild){l=null
}}else{if(g.nodeType==9){l=d.toObj(g.documentElement)
}else{alert("unhandled node type: "+g.nodeType)
}}return l
},toJson:function(p,h,l){var k=h?('"'+h+'"'):"";
if(p instanceof Array){for(var j=0,q=p.length;
j<q;
j++){p[j]=d.toJson(p[j],"",l+"\t")
}k+=(h?":[":"[")+(p.length>1?("\n"+l+"\t"+p.join(",\n"+l+"\t")+"\n"+l):p.join(""))+"]"
}else{if(p==null){k+=(h&&":")+"null"
}else{if(typeof(p)=="object"){var g=[];
for(var f in p){g[g.length]=d.toJson(p[f],f,l+"\t")
}k+=(h?":{":"{")+(g.length>1?("\n"+l+"\t"+g.join(",\n"+l+"\t")+"\n"+l):g.join(""))+"}"
}else{if(typeof(p)=="string"){k+=(h&&":")+'"'+p.toString()+'"'
}else{k+=(h&&":")+p.toString()
}}}}return k
},innerXml:function(h){var g="";
if("innerHTML" in h){g=h.innerHTML
}else{var f=function(o){var l="";
if(o.nodeType==1){l+="<"+o.nodeName;
for(var k=0;
k<o.attributes.length;
k++){l+=" "+o.attributes[k].nodeName+'="'+(o.attributes[k].nodeValue||"").toString()+'"'
}if(o.firstChild){l+=">";
for(var m=o.firstChild;
m;
m=m.nextSibling){l+=f(m)
}l+="</"+o.nodeName+">"
}else{l+="/>"
}}else{if(o.nodeType==3){l+=o.nodeValue
}else{if(o.nodeType==4){l+="<![CDATA["+o.nodeValue+"]]>"
}}}return l
};
for(var j=h.firstChild;
j;
j=j.nextSibling){g+=f(j)
}}return g
},escape:function(f){return f.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")
},removeWhite:function(g){g.normalize();
for(var h=g.firstChild;
h;
){if(h.nodeType==3){if(!h.nodeValue.match(/[^ \f\n\r\t\v]/)){var f=h.nextSibling;
g.removeChild(h);
h=f
}else{h=h.nextSibling
}}else{if(h.nodeType==1){d.removeWhite(h);
h=h.nextSibling
}else{h=h.nextSibling
}}}return g
}};
if(a.nodeType==9){a=a.documentElement
}var b=d.toJson(d.toObj(d.removeWhite(a)),a.nodeName,"\t");
return"{\n"+c+(c?b.replace(/\t/g,c):b.replace(/\t|\n/g,""))+"\n}"
}function json2xml(d,c){var f=function(h,k,p){var j="";
if(h instanceof Array){for(var l=0,q=h.length;
l<q;
l++){j+=p+f(h[l],k,p+"\t")+"\n"
}}else{if(typeof(h)=="object"){var o=false;
j+=p+"<"+k;
for(var g in h){if(g.charAt(0)=="@"){j+=" "+g.substr(1)+'="'+h[g].toString()+'"'
}else{o=true
}}j+=o?">":"/>";
if(o){for(var g in h){if(g=="#text"){j+=h[g]
}else{if(g=="#cdata"){j+="<![CDATA["+h[g]+"]]>"
}else{if(g.charAt(0)!="@"){j+=f(h[g],g,p+"\t")
}}}}j+=(j.charAt(j.length-1)=="\n"?p:"")+"</"+k+">"
}}else{j+=p+"<"+k+">"+h.toString()+"</"+k+">"
}}return j
},b="";
for(var a in d){b+=f(d[a],a,"")
}return c?b.replace(/\t/g,c):b.replace(/\t|\n/g,"")
}
/*!
 * imagesLoaded PACKAGED v3.1.1
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
(function(){function d(){}function b(j,h){for(var k=j.length;
k--;
){if(j[k].listener===h){return k
}}return -1
}function g(h){return function(){return this[h].apply(this,arguments)
}
}var a=d.prototype,c=this,f=c.EventEmitter;
a.getListeners=function(k){var j,l,h=this._getEvents();
if("object"==typeof k){j={};
for(l in h){h.hasOwnProperty(l)&&k.test(l)&&(j[l]=h[l])
}}else{j=h[k]||(h[k]=[])
}return j
},a.flattenListeners=function(j){var h,k=[];
for(h=0;
j.length>h;
h+=1){k.push(j[h].listener)
}return k
},a.getListenersAsObject=function(j){var h,k=this.getListeners(j);
return k instanceof Array&&(h={},h[j]=k),h||k
},a.addListener=function(k,m){var h,j=this.getListenersAsObject(k),l="object"==typeof m;
for(h in j){j.hasOwnProperty(h)&&-1===b(j[h],m)&&j[h].push(l?m:{listener:m,once:!1})
}return this
},a.on=g("addListener"),a.addOnceListener=function(j,h){return this.addListener(j,{listener:h,once:!0})
},a.once=g("addOnceListener"),a.defineEvent=function(h){return this.getListeners(h),this
},a.defineEvents=function(j){for(var h=0;
j.length>h;
h+=1){this.defineEvent(j[h])
}return this
},a.removeListener=function(k,m){var h,j,l=this.getListenersAsObject(k);
for(j in l){l.hasOwnProperty(j)&&(h=b(l[j],m),-1!==h&&l[j].splice(h,1))
}return this
},a.off=g("removeListener"),a.addListeners=function(j,h){return this.manipulateListeners(!1,j,h)
},a.removeListeners=function(j,h){return this.manipulateListeners(!0,j,h)
},a.manipulateListeners=function(m,j,q){var h,l,p=m?this.removeListener:this.addListener,k=m?this.removeListeners:this.addListeners;
if("object"!=typeof j||j instanceof RegExp){for(h=q.length;
h--;
){p.call(this,j,q[h])
}}else{for(h in j){j.hasOwnProperty(h)&&(l=j[h])&&("function"==typeof l?p.call(this,h,l):k.call(this,h,l))
}}return this
},a.removeEvent=function(k){var j,l=typeof k,h=this._getEvents();
if("string"===l){delete h[k]
}else{if("object"===l){for(j in h){h.hasOwnProperty(j)&&k.test(j)&&delete h[j]
}}else{delete this._events
}}return this
},a.removeAllListeners=g("removeEvent"),a.emitEvent=function(m,j){var q,h,l,p,k=this.getListenersAsObject(m);
for(l in k){if(k.hasOwnProperty(l)){for(h=k[l].length;
h--;
){q=k[l][h],q.once===!0&&this.removeListener(m,q.listener),p=q.listener.apply(this,j||[]),p===this._getOnceReturnValue()&&this.removeListener(m,q.listener)
}}}return this
},a.trigger=g("emitEvent"),a.emit=function(j){var h=Array.prototype.slice.call(arguments,1);
return this.emitEvent(j,h)
},a.setOnceReturnValue=function(h){return this._onceReturnValue=h,this
},a._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0
},a._getEvents=function(){return this._events||(this._events={})
},d.noConflict=function(){return c.EventEmitter=f,d
},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return d
}):"object"==typeof module&&module.exports?module.exports=d:this.EventEmitter=d
}).call(this),function(d){function b(h){var j=d.event;
return j.target=j.target||j.srcElement||h,j
}var g=document.documentElement,a=function(){};
g.addEventListener?a=function(j,h,k){j.addEventListener(h,k,!1)
}:g.attachEvent&&(a=function(j,k,h){j[k+h]=h.handleEvent?function(){var l=b(j);
h.handleEvent.call(h,l)
}:function(){var l=b(j);
h.call(j,l)
},j.attachEvent("on"+k,j[k+h])
});
var c=function(){};
g.removeEventListener?c=function(j,h,k){j.removeEventListener(h,k,!1)
}:g.detachEvent&&(c=function(k,j,l){k.detachEvent("on"+j,k[j+l]);
try{delete k[j+l]
}catch(h){k[j+l]=void 0
}});
var f={bind:a,unbind:c};
"function"==typeof define&&define.amd?define("eventie/eventie",f):d.eventie=f
}(this),function(j){function l(f,c){for(var o in c){f[o]=c[o]
}return f
}function d(c){return"[object Array]"===h.call(c)
}function g(o){var f=[];
if(d(o)){f=o
}else{if("number"==typeof o.length){for(var c=0,n=o.length;
n>c;
c++){f.push(o[c])
}}else{f.push(o)
}}return f
}function a(s,t){function p(r,v,f){if(!(this instanceof p)){return new p(r,v)
}"string"==typeof r&&(r=document.querySelectorAll(r)),this.elements=g(r),this.options=l({},this.options),"function"==typeof v?f=v:l(this.options,v),f&&this.on("always",f),this.getImages(),b&&(this.jqDeferred=new b.Deferred);
var u=this;
setTimeout(function(){u.check()
})
}function q(f){this.img=f
}function c(f){this.src=f,o[f]=this
}p.prototype=new s,p.prototype.options={},p.prototype.getImages=function(){this.images=[];
for(var x=0,u=this.elements.length;
u>x;
x++){var z=this.elements[x];
"IMG"===z.nodeName&&this.addImage(z);
for(var f=z.querySelectorAll("img"),w=0,y=f.length;
y>w;
w++){var v=f[w];
this.addImage(v)
}}},p.prototype.addImage=function(n){var f=new q(n);
this.images.push(f)
},p.prototype.check=function(){function w(z,n){return u.options.debug&&k&&m.log("confirm",z,n),u.progress(z),y++,y===f&&u.complete(),!0
}var u=this,y=0,f=this.images.length;
if(this.hasAnyBroken=!1,!f){return this.complete(),void 0
}for(var v=0;
f>v;
v++){var x=this.images[v];
x.on("confirm",w),x.check()
}},p.prototype.progress=function(n){this.hasAnyBroken=this.hasAnyBroken||!n.isLoaded;
var f=this;
setTimeout(function(){f.emit("progress",f,n),f.jqDeferred&&f.jqDeferred.notify(f,n)
})
},p.prototype.complete=function(){var n=this.hasAnyBroken?"fail":"done";
this.isComplete=!0;
var f=this;
setTimeout(function(){if(f.emit(n,f),f.emit("always",f),f.jqDeferred){var r=f.hasAnyBroken?"reject":"resolve";
f.jqDeferred[r](f)
}})
},b&&(b.fn.imagesLoaded=function(r,f){var u=new p(this,r,f);
return u.jqDeferred.promise(b(this))
}),q.prototype=new s,q.prototype.check=function(){var n=o[this.img.src]||new c(this.img.src);
if(n.isConfirmed){return this.confirm(n.isLoaded,"cached was confirmed"),void 0
}if(this.img.complete&&void 0!==this.img.naturalWidth){return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0
}var f=this;
n.on("confirm",function(r,u){return f.confirm(r.isLoaded,u),!0
}),n.check()
},q.prototype.confirm=function(n,f){this.isLoaded=n,this.emit("confirm",this,f)
};
var o={};
return c.prototype=new s,c.prototype.check=function(){if(!this.isChecked){var f=new Image;
t.bind(f,"load",this),t.bind(f,"error",this),f.src=this.src,this.isChecked=!0
}},c.prototype.handleEvent=function(n){var f="on"+n.type;
this[f]&&this[f](n)
},c.prototype.onload=function(f){this.confirm(!0,"onload"),this.unbindProxyEvents(f)
},c.prototype.onerror=function(f){this.confirm(!1,"onerror"),this.unbindProxyEvents(f)
},c.prototype.confirm=function(n,f){this.isConfirmed=!0,this.isLoaded=n,this.emit("confirm",this,f)
},c.prototype.unbindProxyEvents=function(f){t.unbind(f.target,"load",this),t.unbind(f.target,"error",this)
},p
}var b=j.jQuery,m=j.console,k=m!==void 0,h=Object.prototype.toString;
"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],a):j.imagesLoaded=a(j.EventEmitter,j.eventie)
}(window);
(function(l,g){var c=l(window);
function p(){return new Date(Date.UTC.apply(Date,arguments))
}function h(){var s=new Date();
return p(s.getFullYear(),s.getMonth(),s.getDate())
}function n(s){return function(){return this[s].apply(this,arguments)
}
}var f=(function(){var s={get:function(t){return this.slice(t)[0]
},contains:function(w){var v=w&&w.valueOf();
for(var u=0,t=this.length;
u<t;
u++){if(this[u].valueOf()===v){return u
}}return -1
},remove:function(t){this.splice(t,1)
},replace:function(t){if(!t){return
}if(!l.isArray(t)){t=[t]
}this.clear();
this.push.apply(this,t)
},clear:function(){this.splice(0)
},copy:function(){var t=new f();
t.replace(this);
return t
}};
return function(){var t=[];
t.push.apply(t,arguments);
l.extend(t,s);
return t
}
})();
var m=function(t,s){this.dates=new f();
this.viewDate=h();
this.focusDate=null;
this._process_options(s);
this.element=l(t);
this.isInline=false;
this.isInput=this.element.is("input");
this.component=this.element.is(".date")?this.element.find(".add-on, .input-group-addon, .btn"):false;
this.hasInput=this.component&&this.element.find("input").length;
if(this.component&&this.component.length===0){this.component=false
}this.picker=l(o.template);
this._buildEvents();
this._attachEvents();
if(this.isInline){this.picker.addClass("datepicker-inline").appendTo(this.element)
}else{this.picker.addClass("datepicker-dropdown dropdown-menu")
}if(this.o.rtl){this.picker.addClass("datepicker-rtl")
}this.viewMode=this.o.startView;
if(this.o.calendarWeeks){this.picker.find("tfoot th.today").attr("colspan",function(u,v){return parseInt(v)+1
})
}this._allow_update=false;
this.setStartDate(this._o.startDate);
this.setEndDate(this._o.endDate);
this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);
this.fillDow();
this.fillMonths();
this._allow_update=true;
this.update();
this.showMode();
if(this.isInline){this.show()
}};
m.prototype={constructor:m,_process_options:function(s){this._o=l.extend({},this._o,s);
var w=this.o=l.extend({},this._o);
var v=w.language;
if(!b[v]){v=v.split("-")[0];
if(!b[v]){v=j.language
}}w.language=v;
switch(w.startView){case 2:case"decade":w.startView=2;
break;
case 1:case"year":w.startView=1;
break;
default:w.startView=0
}switch(w.minViewMode){case 1:case"months":w.minViewMode=1;
break;
case 2:case"years":w.minViewMode=2;
break;
default:w.minViewMode=0
}w.startView=Math.max(w.startView,w.minViewMode);
if(w.multidate!==true){w.multidate=Number(w.multidate)||false;
if(w.multidate!==false){w.multidate=Math.max(0,w.multidate)
}else{w.multidate=1
}}w.multidateSeparator=String(w.multidateSeparator);
w.weekStart%=7;
w.weekEnd=((w.weekStart+6)%7);
var t=o.parseFormat(w.format);
if(w.startDate!==-Infinity){if(!!w.startDate){if(w.startDate instanceof Date){w.startDate=this._local_to_utc(this._zero_time(w.startDate))
}else{w.startDate=o.parseDate(w.startDate,t,w.language)
}}else{w.startDate=-Infinity
}}if(w.endDate!==Infinity){if(!!w.endDate){if(w.endDate instanceof Date){w.endDate=this._local_to_utc(this._zero_time(w.endDate))
}else{w.endDate=o.parseDate(w.endDate,t,w.language)
}}else{w.endDate=Infinity
}}w.daysOfWeekDisabled=w.daysOfWeekDisabled||[];
if(!l.isArray(w.daysOfWeekDisabled)){w.daysOfWeekDisabled=w.daysOfWeekDisabled.split(/[,\s]*/)
}w.daysOfWeekDisabled=l.map(w.daysOfWeekDisabled,function(y){return parseInt(y,10)
});
var u=String(w.orientation).toLowerCase().split(/\s+/g),x=w.orientation.toLowerCase();
u=l.grep(u,function(y){return(/^auto|left|right|top|bottom$/).test(y)
});
w.orientation={x:"auto",y:"auto"};
if(!x||x==="auto"){}else{if(u.length===1){switch(u[0]){case"top":case"bottom":w.orientation.y=u[0];
break;
case"left":case"right":w.orientation.x=u[0];
break
}}else{x=l.grep(u,function(y){return(/^left|right$/).test(y)
});
w.orientation.x=x[0]||"auto";
x=l.grep(u,function(y){return(/^top|bottom$/).test(y)
});
w.orientation.y=x[0]||"auto"
}}},_events:[],_secondaryEvents:[],_applyEvents:function(s){for(var t=0,v,u,w;
t<s.length;
t++){v=s[t][0];
if(s[t].length===2){u=g;
w=s[t][1]
}else{if(s[t].length===3){u=s[t][1];
w=s[t][2]
}}v.on(w,u)
}},_unapplyEvents:function(s){for(var t=0,v,w,u;
t<s.length;
t++){v=s[t][0];
if(s[t].length===2){u=g;
w=s[t][1]
}else{if(s[t].length===3){u=s[t][1];
w=s[t][2]
}}v.off(w,u)
}},_buildEvents:function(){if(this.isInput){this._events=[[this.element,{focus:l.proxy(this.show,this),keyup:l.proxy(function(s){if(l.inArray(s.keyCode,[27,37,39,38,40,32,13,9])===-1){this.update()
}},this),keydown:l.proxy(this.keydown,this)}]]
}else{if(this.component&&this.hasInput){this._events=[[this.element.find("input"),{focus:l.proxy(this.show,this),keyup:l.proxy(function(s){if(l.inArray(s.keyCode,[27,37,39,38,40,32,13,9])===-1){this.update()
}},this),keydown:l.proxy(this.keydown,this)}],[this.component,{click:l.proxy(this.show,this)}]]
}else{if(this.element.is("div")){this.isInline=true
}else{this._events=[[this.element,{click:l.proxy(this.show,this)}]]
}}}this._events.push([this.element,"*",{blur:l.proxy(function(s){this._focused_from=s.target
},this)}],[this.element,{blur:l.proxy(function(s){this._focused_from=s.target
},this)}]);
this._secondaryEvents=[[this.picker,{click:l.proxy(this.click,this)}],[l(window),{resize:l.proxy(this.place,this)}],[l(document),{"mousedown touchstart":l.proxy(function(s){if(!(this.element.is(s.target)||this.element.find(s.target).length||this.picker.is(s.target)||this.picker.find(s.target).length)){this.hide()
}},this)}]]
},_attachEvents:function(){this._detachEvents();
this._applyEvents(this._events)
},_detachEvents:function(){this._unapplyEvents(this._events)
},_attachSecondaryEvents:function(){this._detachSecondaryEvents();
this._applyEvents(this._secondaryEvents)
},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)
},_trigger:function(u,v){var t=v||this.dates.get(-1),s=this._utc_to_local(t);
this.element.trigger({type:u,date:s,dates:l.map(this.dates,this._utc_to_local),format:l.proxy(function(w,y){if(arguments.length===0){w=this.dates.length-1;
y=this.o.format
}else{if(typeof w==="string"){y=w;
w=this.dates.length-1
}}y=y||this.o.format;
var x=this.dates.get(w);
return o.formatDate(x,y,this.o.language)
},this)})
},show:function(){if(!this.isInline){this.picker.appendTo("body")
}this.picker.show();
this.place();
this._attachSecondaryEvents();
this._trigger("show")
},hide:function(){if(this.isInline){return
}if(!this.picker.is(":visible")){return
}this.focusDate=null;
this.picker.hide().detach();
this._detachSecondaryEvents();
this.viewMode=this.o.startView;
this.showMode();
if(this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())){this.setValue()
}this._trigger("hide")
},remove:function(){this.hide();
this._detachEvents();
this._detachSecondaryEvents();
this.picker.remove();
delete this.element.data().datepicker;
if(!this.isInput){delete this.element.data().date
}},_utc_to_local:function(s){return s&&new Date(s.getTime()+(s.getTimezoneOffset()*60000))
},_local_to_utc:function(s){return s&&new Date(s.getTime()-(s.getTimezoneOffset()*60000))
},_zero_time:function(s){return s&&new Date(s.getFullYear(),s.getMonth(),s.getDate())
},_zero_utc_time:function(s){return s&&new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()))
},getDates:function(){return l.map(this.dates,this._utc_to_local)
},getUTCDates:function(){return l.map(this.dates,function(s){return new Date(s)
})
},getDate:function(){return this._utc_to_local(this.getUTCDate())
},getUTCDate:function(){return new Date(this.dates.get(-1))
},setDates:function(){var s=l.isArray(arguments[0])?arguments[0]:arguments;
this.update.apply(this,s);
this._trigger("changeDate");
this.setValue()
},setUTCDates:function(){var s=l.isArray(arguments[0])?arguments[0]:arguments;
this.update.apply(this,l.map(s,this._utc_to_local));
this._trigger("changeDate");
this.setValue()
},setDate:n("setDates"),setUTCDate:n("setUTCDates"),setValue:function(){var s=this.getFormattedDate();
if(!this.isInput){if(this.component){this.element.find("input").val(s).change()
}}else{this.element.val(s).change()
}},getFormattedDate:function(s){if(s===g){s=this.o.format
}var t=this.o.language;
return l.map(this.dates,function(u){return o.formatDate(u,s,t)
}).join(this.o.multidateSeparator)
},setStartDate:function(s){this._process_options({startDate:s});
this.update();
this.updateNavArrows()
},setEndDate:function(s){this._process_options({endDate:s});
this.update();
this.updateNavArrows()
},setDaysOfWeekDisabled:function(s){this._process_options({daysOfWeekDisabled:s});
this.update();
this.updateNavArrows()
},place:function(){if(this.isInline){return
}var G=this.picker.outerWidth(),C=this.picker.outerHeight(),w=10,y=c.width(),t=c.height(),x=c.scrollTop();
var E=parseInt(this.element.parents().filter(function(){return l(this).css("z-index")!=="auto"
}).first().css("z-index"))+10;
var B=this.component?this.component.parent().offset():this.element.offset();
var F=this.component?this.component.outerHeight(true):this.element.outerHeight(false);
var v=this.component?this.component.outerWidth(true):this.element.outerWidth(false);
var A=B.left,D=B.top;
this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left");
if(this.o.orientation.x!=="auto"){this.picker.addClass("datepicker-orient-"+this.o.orientation.x);
if(this.o.orientation.x==="right"){A-=G-v
}}else{this.picker.addClass("datepicker-orient-left");
if(B.left<0){A-=B.left-w
}else{if(B.left+G>y){A=y-G-w
}}}var s=this.o.orientation.y,u,z;
if(s==="auto"){u=-x+B.top-C;
z=x+t-(B.top+F+C);
if(Math.max(u,z)===z){s="top"
}else{s="bottom"
}}this.picker.addClass("datepicker-orient-"+s);
if(s==="top"){D+=F
}else{D-=C+parseInt(this.picker.css("padding-top"))
}this.picker.css({top:D,left:A,zIndex:E})
},_allow_update:true,update:function(){if(!this._allow_update){return
}var t=this.dates.copy(),u=[],s=false;
if(arguments.length){l.each(arguments,l.proxy(function(w,v){if(v instanceof Date){v=this._local_to_utc(v)
}u.push(v)
},this));
s=true
}else{u=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val();
if(u&&this.o.multidate){u=u.split(this.o.multidateSeparator)
}else{u=[u]
}delete this.element.data().date
}u=l.map(u,l.proxy(function(v){return o.parseDate(v,this.o.format,this.o.language)
},this));
u=l.grep(u,l.proxy(function(v){return(v<this.o.startDate||v>this.o.endDate||!v)
},this),true);
this.dates.replace(u);
if(this.dates.length){this.viewDate=new Date(this.dates.get(-1))
}else{if(this.viewDate<this.o.startDate){this.viewDate=new Date(this.o.startDate)
}else{if(this.viewDate>this.o.endDate){this.viewDate=new Date(this.o.endDate)
}}}if(s){this.setValue()
}else{if(u.length){if(String(t)!==String(this.dates)){this._trigger("changeDate")
}}}if(!this.dates.length&&t.length){this._trigger("clearDate")
}this.fill()
},fillDow:function(){var t=this.o.weekStart,u="<tr>";
if(this.o.calendarWeeks){var s='<th class="cw">&nbsp;</th>';
u+=s;
this.picker.find(".datepicker-days thead tr:first-child").prepend(s)
}while(t<this.o.weekStart+7){u+='<th class="dow">'+b[this.o.language].daysMin[(t++)%7]+"</th>"
}u+="</tr>";
this.picker.find(".datepicker-days thead").append(u)
},fillMonths:function(){var t="",s=0;
while(s<12){t+='<span class="month">'+b[this.o.language].monthsShort[s++]+"</span>"
}this.picker.find(".datepicker-months td").html(t)
},setRange:function(s){if(!s||!s.length){delete this.range
}else{this.range=l.map(s,function(t){return t.valueOf()
})
}this.fill()
},getClassNames:function(u){var s=[],v=this.viewDate.getUTCFullYear(),w=this.viewDate.getUTCMonth(),t=new Date();
if(u.getUTCFullYear()<v||(u.getUTCFullYear()===v&&u.getUTCMonth()<w)){s.push("old")
}else{if(u.getUTCFullYear()>v||(u.getUTCFullYear()===v&&u.getUTCMonth()>w)){s.push("new")
}}if(this.focusDate&&u.valueOf()===this.focusDate.valueOf()){s.push("focused")
}if(this.o.todayHighlight&&u.getUTCFullYear()===t.getFullYear()&&u.getUTCMonth()===t.getMonth()&&u.getUTCDate()===t.getDate()){s.push("today")
}if(this.dates.contains(u)!==-1){s.push("active")
}if(u.valueOf()<this.o.startDate||u.valueOf()>this.o.endDate||l.inArray(u.getUTCDay(),this.o.daysOfWeekDisabled)!==-1){s.push("disabled")
}if(this.range){if(u>this.range[0]&&u<this.range[this.range.length-1]){s.push("range")
}if(l.inArray(u.valueOf(),this.range)!==-1){s.push("selected")
}}return s
},fill:function(){var N=new Date(this.viewDate),C=N.getUTCFullYear(),O=N.getUTCMonth(),H=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,L=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,z=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,I=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,A=b[this.o.language].today||b.en.today||"",u=b[this.o.language].clear||b.en.clear||"",w;
this.picker.find(".datepicker-days thead th.datepicker-switch").text(b[this.o.language].months[O]+" "+C);
this.picker.find("tfoot th.today").text(A).toggle(this.o.todayBtn!==false);
this.picker.find("tfoot th.clear").text(u).toggle(this.o.clearBtn!==false);
this.updateNavArrows();
this.fillMonths();
var Q=p(C,O-1,28),K=o.getDaysInMonth(Q.getUTCFullYear(),Q.getUTCMonth());
Q.setUTCDate(K);
Q.setUTCDate(K-(Q.getUTCDay()-this.o.weekStart+7)%7);
var s=new Date(Q);
s.setUTCDate(s.getUTCDate()+42);
s=s.valueOf();
var B=[];
var F;
while(Q.valueOf()<s){if(Q.getUTCDay()===this.o.weekStart){B.push("<tr>");
if(this.o.calendarWeeks){var t=new Date(+Q+(this.o.weekStart-Q.getUTCDay()-7)%7*86400000),x=new Date(Number(t)+(7+4-t.getUTCDay())%7*86400000),v=new Date(Number(v=p(x.getUTCFullYear(),0,1))+(7+4-v.getUTCDay())%7*86400000),D=(x-v)/86400000/7+1;
B.push('<td class="cw">'+D+"</td>")
}}F=this.getClassNames(Q);
F.push("day");
if(this.o.beforeShowDay!==l.noop){var E=this.o.beforeShowDay(this._utc_to_local(Q));
if(E===g){E={}
}else{if(typeof(E)==="boolean"){E={enabled:E}
}else{if(typeof(E)==="string"){E={classes:E}
}}}if(E.enabled===false){F.push("disabled")
}if(E.classes){F=F.concat(E.classes.split(/\s+/))
}if(E.tooltip){w=E.tooltip
}}F=l.unique(F);
B.push('<td class="'+F.join(" ")+'"'+(w?' title="'+w+'"':"")+">"+Q.getUTCDate()+"</td>");
if(Q.getUTCDay()===this.o.weekEnd){B.push("</tr>")
}Q.setUTCDate(Q.getUTCDate()+1)
}this.picker.find(".datepicker-days tbody").empty().append(B.join(""));
var y=this.picker.find(".datepicker-months").find("th:eq(1)").text(C).end().find("span").removeClass("active");
l.each(this.dates,function(R,S){if(S.getUTCFullYear()===C){y.eq(S.getUTCMonth()).addClass("active")
}});
if(C<H||C>z){y.addClass("disabled")
}if(C===H){y.slice(0,L).addClass("disabled")
}if(C===z){y.slice(I+1).addClass("disabled")
}B="";
C=parseInt(C/10,10)*10;
var P=this.picker.find(".datepicker-years").find("th:eq(1)").text(C+"-"+(C+9)).end().find("td");
C-=1;
var G=l.map(this.dates,function(R){return R.getUTCFullYear()
}),M;
for(var J=-1;
J<11;
J++){M=["year"];
if(J===-1){M.push("old")
}else{if(J===10){M.push("new")
}}if(l.inArray(C,G)!==-1){M.push("active")
}if(C<H||C>z){M.push("disabled")
}B+='<span class="'+M.join(" ")+'">'+C+"</span>";
C+=1
}P.html(B)
},updateNavArrows:function(){if(!this._allow_update){return
}var u=new Date(this.viewDate),s=u.getUTCFullYear(),t=u.getUTCMonth();
switch(this.viewMode){case 0:if(this.o.startDate!==-Infinity&&s<=this.o.startDate.getUTCFullYear()&&t<=this.o.startDate.getUTCMonth()){this.picker.find(".prev").css({visibility:"hidden"})
}else{this.picker.find(".prev").css({visibility:"visible"})
}if(this.o.endDate!==Infinity&&s>=this.o.endDate.getUTCFullYear()&&t>=this.o.endDate.getUTCMonth()){this.picker.find(".next").css({visibility:"hidden"})
}else{this.picker.find(".next").css({visibility:"visible"})
}break;
case 1:case 2:if(this.o.startDate!==-Infinity&&s<=this.o.startDate.getUTCFullYear()){this.picker.find(".prev").css({visibility:"hidden"})
}else{this.picker.find(".prev").css({visibility:"visible"})
}if(this.o.endDate!==Infinity&&s>=this.o.endDate.getUTCFullYear()){this.picker.find(".next").css({visibility:"hidden"})
}else{this.picker.find(".next").css({visibility:"visible"})
}break
}},click:function(w){w.preventDefault();
var x=l(w.target).closest("span, td, th"),z,y,A;
if(x.length===1){switch(x[0].nodeName.toLowerCase()){case"th":switch(x[0].className){case"datepicker-switch":this.showMode(1);
break;
case"prev":case"next":var s=o.modes[this.viewMode].navStep*(x[0].className==="prev"?-1:1);
switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,s);
this._trigger("changeMonth",this.viewDate);
break;
case 1:case 2:this.viewDate=this.moveYear(this.viewDate,s);
if(this.viewMode===1){this._trigger("changeYear",this.viewDate)
}break
}this.fill();
break;
case"today":var t=new Date();
t=p(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0);
this.showMode(-2);
var u=this.o.todayBtn==="linked"?null:"view";
this._setDate(t,u);
break;
case"clear":var v;
if(this.isInput){v=this.element
}else{if(this.component){v=this.element.find("input")
}}if(v){v.val("").change()
}this.update();
this._trigger("changeDate");
if(this.o.autoclose){this.hide()
}break
}break;
case"span":if(!x.is(".disabled")){this.viewDate.setUTCDate(1);
if(x.is(".month")){A=1;
y=x.parent().find("span").index(x);
z=this.viewDate.getUTCFullYear();
this.viewDate.setUTCMonth(y);
this._trigger("changeMonth",this.viewDate);
if(this.o.minViewMode===1){this._setDate(p(z,y,A))
}}else{A=1;
y=0;
z=parseInt(x.text(),10)||0;
this.viewDate.setUTCFullYear(z);
this._trigger("changeYear",this.viewDate);
if(this.o.minViewMode===2){this._setDate(p(z,y,A))
}}this.showMode(-1);
this.fill()
}break;
case"td":if(x.is(".day")&&!x.is(".disabled")){A=parseInt(x.text(),10)||1;
z=this.viewDate.getUTCFullYear();
y=this.viewDate.getUTCMonth();
if(x.is(".old")){if(y===0){y=11;
z-=1
}else{y-=1
}}else{if(x.is(".new")){if(y===11){y=0;
z+=1
}else{y+=1
}}}this._setDate(p(z,y,A))
}break
}}if(this.picker.is(":visible")&&this._focused_from){l(this._focused_from).focus()
}delete this._focused_from
},_toggle_multidate:function(t){var s=this.dates.contains(t);
if(!t){this.dates.clear()
}else{if(s!==-1){this.dates.remove(s)
}else{this.dates.push(t)
}}if(typeof this.o.multidate==="number"){while(this.dates.length>this.o.multidate){this.dates.remove(0)
}}},_setDate:function(s,u){if(!u||u==="date"){this._toggle_multidate(s&&new Date(s))
}if(!u||u==="view"){this.viewDate=s&&new Date(s)
}this.fill();
this.setValue();
this._trigger("changeDate");
var t;
if(this.isInput){t=this.element
}else{if(this.component){t=this.element.find("input")
}}if(t){t.change()
}if(this.o.autoclose&&(!u||u==="date")){this.hide()
}},moveMonth:function(s,t){if(!s){return g
}if(!t){return s
}var w=new Date(s.valueOf()),A=w.getUTCDate(),x=w.getUTCMonth(),v=Math.abs(t),z,y;
t=t>0?1:-1;
if(v===1){y=t===-1?function(){return w.getUTCMonth()===x
}:function(){return w.getUTCMonth()!==z
};
z=x+t;
w.setUTCMonth(z);
if(z<0||z>11){z=(z+12)%12
}}else{for(var u=0;
u<v;
u++){w=this.moveMonth(w,t)
}z=w.getUTCMonth();
w.setUTCDate(A);
y=function(){return z!==w.getUTCMonth()
}
}while(y()){w.setUTCDate(--A);
w.setUTCMonth(z)
}return w
},moveYear:function(t,s){return this.moveMonth(t,s*12)
},dateWithinRange:function(s){return s>=this.o.startDate&&s<=this.o.endDate
},keydown:function(y){if(this.picker.is(":not(:visible)")){if(y.keyCode===27){this.show()
}return
}var u=false,t,s,w,x=this.focusDate||this.viewDate;
switch(y.keyCode){case 27:if(this.focusDate){this.focusDate=null;
this.viewDate=this.dates.get(-1)||this.viewDate;
this.fill()
}else{this.hide()
}y.preventDefault();
break;
case 37:case 39:if(!this.o.keyboardNavigation){break
}t=y.keyCode===37?-1:1;
if(y.ctrlKey){s=this.moveYear(this.dates.get(-1)||h(),t);
w=this.moveYear(x,t);
this._trigger("changeYear",this.viewDate)
}else{if(y.shiftKey){s=this.moveMonth(this.dates.get(-1)||h(),t);
w=this.moveMonth(x,t);
this._trigger("changeMonth",this.viewDate)
}else{s=new Date(this.dates.get(-1)||h());
s.setUTCDate(s.getUTCDate()+t);
w=new Date(x);
w.setUTCDate(x.getUTCDate()+t)
}}if(this.dateWithinRange(s)){this.focusDate=this.viewDate=w;
this.setValue();
this.fill();
y.preventDefault()
}break;
case 38:case 40:if(!this.o.keyboardNavigation){break
}t=y.keyCode===38?-1:1;
if(y.ctrlKey){s=this.moveYear(this.dates.get(-1)||h(),t);
w=this.moveYear(x,t);
this._trigger("changeYear",this.viewDate)
}else{if(y.shiftKey){s=this.moveMonth(this.dates.get(-1)||h(),t);
w=this.moveMonth(x,t);
this._trigger("changeMonth",this.viewDate)
}else{s=new Date(this.dates.get(-1)||h());
s.setUTCDate(s.getUTCDate()+t*7);
w=new Date(x);
w.setUTCDate(x.getUTCDate()+t*7)
}}if(this.dateWithinRange(s)){this.focusDate=this.viewDate=w;
this.setValue();
this.fill();
y.preventDefault()
}break;
case 32:break;
case 13:x=this.focusDate||this.dates.get(-1)||this.viewDate;
this._toggle_multidate(x);
u=true;
this.focusDate=null;
this.viewDate=this.dates.get(-1)||this.viewDate;
this.setValue();
this.fill();
if(this.picker.is(":visible")){y.preventDefault();
if(this.o.autoclose){this.hide()
}}break;
case 9:this.focusDate=null;
this.viewDate=this.dates.get(-1)||this.viewDate;
this.fill();
this.hide();
break
}if(u){if(this.dates.length){this._trigger("changeDate")
}else{this._trigger("clearDate")
}var v;
if(this.isInput){v=this.element
}else{if(this.component){v=this.element.find("input")
}}if(v){v.change()
}}},showMode:function(s){if(s){this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+s))
}this.picker.find(">div").hide().filter(".datepicker-"+o.modes[this.viewMode].clsName).css("display","block");
this.updateNavArrows()
}};
var r=function(t,s){this.element=l(t);
this.inputs=l.map(s.inputs,function(u){return u.jquery?u[0]:u
});
delete s.inputs;
l(this.inputs).datepicker(s).bind("changeDate",l.proxy(this.dateUpdated,this));
this.pickers=l.map(this.inputs,function(u){return l(u).data("datepicker")
});
this.updateDates()
};
r.prototype={updateDates:function(){this.dates=l.map(this.pickers,function(s){return s.getUTCDate()
});
this.updateRanges()
},updateRanges:function(){var s=l.map(this.dates,function(t){return t.valueOf()
});
l.each(this.pickers,function(t,u){u.setRange(s)
})
},dateUpdated:function(v){if(this.updating){return
}this.updating=true;
var w=l(v.target).data("datepicker"),u=w.getUTCDate(),t=l.inArray(v.target,this.inputs),s=this.inputs.length;
if(t===-1){return
}l.each(this.pickers,function(x,y){if(!y.getUTCDate()){y.setUTCDate(u)
}});
if(u<this.dates[t]){while(t>=0&&u<this.dates[t]){this.pickers[t--].setUTCDate(u)
}}else{if(u>this.dates[t]){while(t<s&&u>this.dates[t]){this.pickers[t++].setUTCDate(u)
}}}this.updateDates();
delete this.updating
},remove:function(){l.map(this.pickers,function(s){s.remove()
});
delete this.element.data().datepicker
}};
function k(v,y){var x=l(v).data(),s={},w,u=new RegExp("^"+y.toLowerCase()+"([A-Z])");
y=new RegExp("^"+y.toLowerCase());
function z(B,A){return A.toLowerCase()
}for(var t in x){if(y.test(t)){w=t.replace(u,z);
s[w]=x[t]
}}return s
}function a(u){var s={};
if(!b[u]){u=u.split("-")[0];
if(!b[u]){return
}}var t=b[u];
l.each(q,function(w,v){if(v in t){s[v]=t[v]
}});
return s
}var d=l.fn.datepicker;
l.fn.datepicker=function(u){var s=Array.apply(null,arguments);
s.shift();
var t;
this.each(function(){var C=l(this),A=C.data("datepicker"),w=typeof u==="object"&&u;
if(!A){var y=k(this,"date"),v=l.extend({},j,y,w),x=a(v.language),z=l.extend({},j,x,y,w);
if(C.is(".input-daterange")||z.inputs){var B={inputs:z.inputs||C.find("input").toArray()};
C.data("datepicker",(A=new r(this,l.extend(z,B))))
}else{C.data("datepicker",(A=new m(this,z)))
}}if(typeof u==="string"&&typeof A[u]==="function"){t=A[u].apply(A,s);
if(t!==g){return false
}}});
if(t!==g){return t
}else{return this
}};
var j=l.fn.datepicker.defaults={autoclose:false,beforeShowDay:l.noop,calendarWeeks:false,clearBtn:false,daysOfWeekDisabled:[],endDate:Infinity,forceParse:true,format:"mm/dd/yyyy",keyboardNavigation:true,language:"en",minViewMode:0,multidate:false,multidateSeparator:",",orientation:"auto",rtl:false,startDate:-Infinity,startView:0,todayBtn:false,todayHighlight:false,weekStart:0};
var q=l.fn.datepicker.locale_opts=["format","rtl","weekStart"];
l.fn.datepicker.Constructor=m;
var b=l.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}};
var o={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(s){return(((s%4===0)&&(s%100!==0))||(s%400===0))
},getDaysInMonth:function(s,t){return[31,(o.isLeapYear(s)?29:28),31,30,31,30,31,31,30,31,30,31][t]
},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(u){var s=u.replace(this.validParts,"\0").split("\0"),t=u.match(this.validParts);
if(!s||!s.length||!t||t.length===0){throw new Error("Invalid date format.")
}return{separators:s,parts:t}
},parseDate:function(J,G,D){if(!J){return g
}if(J instanceof Date){return J
}if(typeof G==="string"){G=o.parseFormat(G)
}var v=/([\-+]\d+)([dmwy])/,B=J.match(/([\-+]\d+)([dmwy])/g),C,A,F;
if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(J)){J=new Date();
for(F=0;
F<B.length;
F++){C=v.exec(B[F]);
A=parseInt(C[1]);
switch(C[2]){case"d":J.setUTCDate(J.getUTCDate()+A);
break;
case"m":J=m.prototype.moveMonth.call(m.prototype,J,A);
break;
case"w":J.setUTCDate(J.getUTCDate()+A*7);
break;
case"y":J=m.prototype.moveYear.call(m.prototype,J,A);
break
}}return p(J.getUTCFullYear(),J.getUTCMonth(),J.getUTCDate(),0,0,0)
}B=J&&J.match(this.nonpunctuation)||[];
J=new Date();
var w={},H=["yyyy","yy","M","MM","m","mm","d","dd"],z={yyyy:function(L,s){return L.setUTCFullYear(s)
},yy:function(L,s){return L.setUTCFullYear(2000+s)
},m:function(L,s){if(isNaN(L)){return L
}s-=1;
while(s<0){s+=12
}s%=12;
L.setUTCMonth(s);
while(L.getUTCMonth()!==s){L.setUTCDate(L.getUTCDate()-1)
}return L
},d:function(L,s){return L.setUTCDate(s)
}},K,u;
z.M=z.MM=z.mm=z.m;
z.dd=z.d;
J=p(J.getFullYear(),J.getMonth(),J.getDate(),0,0,0);
var t=G.parts.slice();
if(B.length!==t.length){t=l(t).filter(function(s,L){return l.inArray(L,H)!==-1
}).toArray()
}function I(){var s=this.slice(0,B[F].length),L=B[F].slice(0,s.length);
return s===L
}if(B.length===t.length){var E;
for(F=0,E=t.length;
F<E;
F++){K=parseInt(B[F],10);
C=t[F];
if(isNaN(K)){switch(C){case"MM":u=l(b[D].months).filter(I);
K=l.inArray(u[0],b[D].months)+1;
break;
case"M":u=l(b[D].monthsShort).filter(I);
K=l.inArray(u[0],b[D].monthsShort)+1;
break
}}w[C]=K
}var x,y;
for(F=0;
F<H.length;
F++){y=H[F];
if(y in w&&!isNaN(w[y])){x=new Date(J);
z[y](x,w[y]);
if(!isNaN(x)){J=x
}}}}return J
},formatDate:function(s,w,y){if(!s){return""
}if(typeof w==="string"){w=o.parseFormat(w)
}var x={d:s.getUTCDate(),D:b[y].daysShort[s.getUTCDay()],DD:b[y].days[s.getUTCDay()],m:s.getUTCMonth()+1,M:b[y].monthsShort[s.getUTCMonth()],MM:b[y].months[s.getUTCMonth()],yy:s.getUTCFullYear().toString().substring(2),yyyy:s.getUTCFullYear()};
x.dd=(x.d<10?"0":"")+x.d;
x.mm=(x.m<10?"0":"")+x.m;
s=[];
var v=l.extend([],w.separators);
for(var u=0,t=w.parts.length;
u<=t;
u++){if(v.length){s.push(v.shift())
}s.push(x[w.parts[u]])
}return s.join("")
},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};
o.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+o.headTemplate+"<tbody></tbody>"+o.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+o.headTemplate+o.contTemplate+o.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+o.headTemplate+o.contTemplate+o.footTemplate+"</table></div></div>";
l.fn.datepicker.DPGlobal=o;
l.fn.datepicker.noConflict=function(){l.fn.datepicker=d;
return this
};
l(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var s=l(this);
if(s.data("datepicker")){return
}t.preventDefault();
s.datepicker("show")
});
l(function(){l('[data-provide="datepicker-inline"]').datepicker()
})
}(window.jQuery));
/*! pace 0.4.17 */
try{(function(){var aY,aX,aW,aV,aU,aT,aS,aR,aQ,aP,aO,aN,aM,aL,aK,aJ,aI,aH,aG,aF,aE,aD,aC,aB,aA,az,ay,ax,aw,av,au,at,ar,aq,ap,ao,an,am,al,ak,aj,ai,ah,ag,af,ae,ad,ac=[].slice,ab={}.hasOwnProperty,aa=function(g,f){function j(){this.constructor=g
}for(var h in f){ab.call(f,h)&&(g[h]=f[h])
}return j.prototype=f.prototype,g.prototype=new j,g.__super__=f.prototype,g
},Z=[].indexOf||function(f){for(var d=0,g=this.length;
g>d;
d++){if(d in this&&this[d]===f){return d
}}return -1
};
for(aF={catchupTime:500,initialRate:0.03,minTime:500,ghostTime:500,maxProgressPerFrame:10,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!1}},ax=function(){var b;
return null!=(b="undefined"!=typeof performance&&null!==performance?"function"==typeof performance.now?performance.now():void 0:void 0)?b:+new Date
},av=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,aG=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==av&&(av=function(b){return setTimeout(b,50)
},aG=function(b){return clearTimeout(b)
}),at=function(f){var d,g;
return d=ax(),(g=function(){var a;
return a=ax()-d,a>=33?(d=ax(),f(a,function(){return av(g)
})):setTimeout(g,33-a)
})()
},au=function(){var f,d,g;
return g=arguments[0],d=arguments[1],f=3<=arguments.length?ac.call(arguments,2):[],"function"==typeof g[d]?g[d].apply(g,f):g[d]
},aE=function(){var j,h,o,n,m,l,k;
for(h=arguments[0],n=2<=arguments.length?ac.call(arguments,1):[],l=0,k=n.length;
k>l;
l++){if(o=n[l]){for(j in o){ab.call(o,j)&&(m=o[j],null!=h[j]&&"object"==typeof h[j]&&null!=m&&"object"==typeof m?aE(h[j],m):h[j]=m)
}}}return h
},aJ=function(h){var g,m,l,k,j;
for(m=g=0,k=0,j=h.length;
j>k;
k++){l=h[k],m+=Math.abs(l),g++
}return m/g
},aC=function(h,g){var m,l,k;
if(null==h&&(h="options"),null==g&&(g=!0),k=document.querySelector("[data-pace-"+h+"]")){if(m=k.getAttribute("data-pace-"+h),!g){return m
}try{return JSON.parse(m)
}catch(j){return l=j,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",l):void 0
}}},aS=function(){function b(){}return b.prototype.on=function(g,f,k,j){var h;
return null==j&&(j=!1),null==this.bindings&&(this.bindings={}),null==(h=this.bindings)[g]&&(h[g]=[]),this.bindings[g].push({handler:f,ctx:k,once:j})
},b.prototype.once=function(f,d,g){return this.on(f,d,g,!0)
},b.prototype.off=function(g,f){var k,j,h;
if(null!=(null!=(j=this.bindings)?j[g]:void 0)){if(null==f){return delete this.bindings[g]
}for(k=0,h=[];
k<this.bindings[g].length;
){this.bindings[g][k].handler===f?h.push(this.bindings[g].splice(k,1)):h.push(k++)
}return h
}},b.prototype.trigger=function(){var r,q,p,o,n,m,l,k,j;
if(p=arguments[0],r=2<=arguments.length?ac.call(arguments,1):[],null!=(l=this.bindings)?l[p]:void 0){for(n=0,j=[];
n<this.bindings[p].length;
){k=this.bindings[p][n],o=k.handler,q=k.ctx,m=k.once,o.apply(null!=q?q:this,r),m?j.push(this.bindings[p].splice(n,1)):j.push(n++)
}return j
}},b
}(),null==window.Pace&&(window.Pace={}),aE(Pace,aS.prototype),aw=Pace.options=aE({},aF,window.paceOptions,aC()),af=["ajax","document","eventLag","elements"],aj=0,ah=af.length;
ah>aj;
aj++){ap=af[aj],aw[ap]===!0&&(aw[ap]=aF[ap])
}aQ=function(d){function c(){return ae=c.__super__.constructor.apply(this,arguments)
}return aa(c,d),c
}(Error),aX=function(){function b(){this.progress=0
}return b.prototype.getElement=function(){var c;
if(null==this.el){if(c=document.querySelector(aw.target),!c){throw new aQ
}this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace("pace-done",""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=c.firstChild?c.insertBefore(this.el,c.firstChild):c.appendChild(this.el)
}return this.el
},b.prototype.finish=function(){var c;
return c=this.getElement(),c.className=c.className.replace("pace-active",""),c.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"
},b.prototype.update=function(c){return this.progress=c,this.render()
},b.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())
}catch(c){aQ=c
}return this.el=void 0
},b.prototype.render=function(){var d,c;
return null==document.querySelector(aw.target)?!1:(d=this.getElement(),d.children[0].style.width=""+this.progress+"%",(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(d.children[0].setAttribute("data-progress-text",""+(0|this.progress)+"%"),this.progress>=100?c="99":(c=this.progress<10?"0":"",c+=0|this.progress),d.children[0].setAttribute("data-progress",""+c)),this.lastRenderedProgress=this.progress)
},b.prototype.done=function(){return this.progress>=100
},b
}(),aR=function(){function b(){this.bindings={}
}return b.prototype.trigger=function(j,h){var o,n,m,l,k;
if(null!=this.bindings[j]){for(l=this.bindings[j],k=[],n=0,m=l.length;
m>n;
n++){o=l[n],k.push(o.call(this,h))
}return k
}},b.prototype.on=function(f,d){var g;
return null==(g=this.bindings)[f]&&(g[f]=[]),this.bindings[f].push(d)
},b
}(),ak=window.XMLHttpRequest,al=window.XDomainRequest,am=window.WebSocket,aD=function(j,h){var o,n,m,l;
l=[];
for(n in h.prototype){try{m=h.prototype[n],null==j[n]&&"function"!=typeof m?l.push(j[n]=m):l.push(void 0)
}catch(k){o=k
}}return l
},az=[],Pace.ignore=function(){var f,d,g;
return d=arguments[0],f=2<=arguments.length?ac.call(arguments,1):[],az.unshift("ignore"),g=d.apply(null,f),az.shift(),g
},Pace.track=function(){var f,d,g;
return d=arguments[0],f=2<=arguments.length?ac.call(arguments,1):[],az.unshift("track"),g=d.apply(null,f),az.shift(),g
},aq=function(d){var c;
if(null==d&&(d="GET"),"track"===az[0]){return"force"
}if(!az.length&&aw.ajax){if("socket"===d&&aw.ajax.trackWebSockets){return !0
}if(c=d.toUpperCase(),Z.call(aw.ajax.trackMethods,c)>=0){return !0
}}return !1
},aP=function(d){function c(){var b,f=this;
c.__super__.constructor.apply(this,arguments),b=function(h){var g;
return g=h.open,h.open=function(j,a){return aq(j)&&f.trigger("request",{type:j,url:a,request:h}),g.apply(h,arguments)
}
},window.XMLHttpRequest=function(a){var g;
return g=new ak(a),b(g),g
},aD(window.XMLHttpRequest,ak),null!=al&&(window.XDomainRequest=function(){var a;
return a=new al,b(a),a
},aD(window.XDomainRequest,al)),null!=am&&aw.ajax.trackWebSockets&&(window.WebSocket=function(h,g){var j;
return j=new am(h,g),aq("socket")&&f.trigger("request",{type:"socket",url:h,protocols:g,request:j}),j
},aD(window.WebSocket,am))
}return aa(c,d),c
}(aR),ai=null,aB=function(){return null==ai&&(ai=new aP),ai
},aB().on("request",function(a){var k,j,h,g;
return g=a.type,h=a.request,Pace.running||aw.restartOnRequestAfter===!1&&"force"!==aq(g)?void 0:(j=arguments,k=aw.restartOnRequestAfter||0,"boolean"==typeof k&&(k=0),setTimeout(function(){var d,o,n,m,l,f;
if(d="socket"===g?h.readyState<2:0<(m=h.readyState)&&4>m){for(Pace.restart(),l=Pace.sources,f=[],o=0,n=l.length;
n>o;
o++){if(ap=l[o],ap instanceof aY){ap.watch.apply(ap,j);
break
}f.push(void 0)
}return f
}},k))
}),aY=function(){function b(){var c=this;
this.elements=[],aB().on("request",function(){return c.watch.apply(c,arguments)
})
}return b.prototype.watch=function(g){var f,j,h;
return h=g.type,f=g.request,j="socket"===h?new aM(f):new aL(f),this.elements.push(j)
},b
}(),aL=function(){function b(k){var j,q,p,o,n,m,l=this;
if(this.progress=0,null!=window.ProgressEvent){for(q=null,k.addEventListener("progress",function(c){return l.progress=c.lengthComputable?100*c.loaded/c.total:l.progress+(100-l.progress)/2
}),m=["load","abort","timeout","error"],p=0,o=m.length;
o>p;
p++){j=m[p],k.addEventListener(j,function(){return l.progress=100
})
}}else{n=k.onreadystatechange,k.onreadystatechange=function(){var a;
return 0===(a=k.readyState)||4===a?l.progress=100:3===k.readyState&&(l.progress=50),"function"==typeof n?n.apply(null,arguments):void 0
}
}}return b
}(),aM=function(){function b(h){var g,m,l,k,j=this;
for(this.progress=0,k=["error","open"],m=0,l=k.length;
l>m;
m++){g=k[m],h.addEventListener(g,function(){return j.progress=100
})
}}return b
}(),aV=function(){function b(h){var g,l,k,j;
for(null==h&&(h={}),this.elements=[],null==h.selectors&&(h.selectors=[]),j=h.selectors,l=0,k=j.length;
k>l;
l++){g=j[l],this.elements.push(new aU(g))
}}return b
}(),aU=function(){function b(c){this.selector=c,this.progress=0,this.check()
}return b.prototype.check=function(){var c=this;
return document.querySelector(this.selector)?this.done():setTimeout(function(){return c.check()
},aw.elements.checkInterval)
},b.prototype.done=function(){return this.progress=100
},b
}(),aW=function(){function b(){var f,d,g=this;
this.progress=null!=(d=this.states[document.readyState])?d:100,f=document.onreadystatechange,document.onreadystatechange=function(){return null!=g.states[document.readyState]&&(g.progress=g.states[document.readyState]),"function"==typeof f?f.apply(null,arguments):void 0
}
}return b.prototype.states={loading:0,interactive:50,complete:100},b
}(),aT=function(){function b(){var h,g,m,l,k,j=this;
this.progress=0,h=0,k=[],l=0,m=ax(),g=setInterval(function(){var a;
return a=ax()-m-50,m=ax(),k.push(a),k.length>aw.eventLag.sampleCount&&k.shift(),h=aJ(k),++l>=aw.eventLag.minSamples&&h<aw.eventLag.lagThreshold?(j.progress=100,clearInterval(g)):j.progress=100*(3/(h+3))
},50)
}return b
}(),aN=function(){function b(c){this.source=c,this.last=this.sinceLastUpdate=0,this.rate=aw.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=au(this.source,"progress"))
}return b.prototype.tick=function(f,d){var g;
return null==d&&(d=au(this.source,"progress")),d>=100&&(this.done=!0),d===this.last?this.sinceLastUpdate+=f:(this.sinceLastUpdate&&(this.rate=(d-this.last)/this.sinceLastUpdate),this.catchup=(d-this.progress)/aw.catchupTime,this.sinceLastUpdate=0,this.last=d),d>this.progress&&(this.progress+=this.catchup*f),g=1-Math.pow(this.progress/100,aw.easeFactor),this.progress+=g*this.rate*f,this.progress=Math.min(this.lastProgress+aw.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress
},b
}(),ao=null,ar=null,aI=null,an=null,aK=null,aH=null,Pace.running=!1,aA=function(){return aw.restartOnPushState?Pace.restart():void 0
},null!=window.history.pushState&&(ag=window.history.pushState,window.history.pushState=function(){return aA(),ag.apply(window.history,arguments)
}),null!=window.history.replaceState&&(ad=window.history.replaceState,window.history.replaceState=function(){return aA(),ad.apply(window.history,arguments)
}),aO={ajax:aY,elements:aV,document:aW,eventLag:aT},(ay=function(){var b,p,o,n,m,l,k,j;
for(Pace.sources=ao=[],l=["ajax","elements","document","eventLag"],p=0,n=l.length;
n>p;
p++){b=l[p],aw[b]!==!1&&ao.push(new aO[b](aw[b]))
}for(j=null!=(k=aw.extraSources)?k:[],o=0,m=j.length;
m>o;
o++){ap=j[o],ao.push(new ap(aw))
}return Pace.bar=aI=new aX,ar=[],an=new aN
})(),Pace.stop=function(){return Pace.trigger("stop"),Pace.running=!1,aI.destroy(),aH=!0,null!=aK&&("function"==typeof aG&&aG(aK),aK=null),ay()
},Pace.restart=function(){return Pace.trigger("restart"),Pace.stop(),Pace.start()
},Pace.go=function(){return Pace.running=!0,aI.render(),aH=!1,aK=at(function(L,K){var J,I,H,G,F,E,D,C,B,A,z,y,x,w,r,q,l;
for(C=100-aI.progress,I=y=0,H=!0,E=x=0,r=ao.length;
r>x;
E=++x){for(ap=ao[E],A=null!=ar[E]?ar[E]:ar[E]=[],F=null!=(l=ap.elements)?l:[ap],D=w=0,q=F.length;
q>w;
D=++w){G=F[D],B=null!=A[D]?A[D]:A[D]=new aN(G),H&=B.done,B.done||(I++,y+=B.tick(L))
}}return J=y/I,aI.update(an.tick(L,J)),z=ax(),aI.done()||H||aH?(aI.update(100),Pace.trigger("done"),setTimeout(function(){return aI.finish(),Pace.running=!1,Pace.trigger("hide")
},Math.max(aw.ghostTime,Math.min(aw.minTime,ax()-z)))):K()
})
},Pace.start=function(d){aE(aw,d),Pace.running=!0;
try{aI.render()
}catch(c){aQ=c
}return document.querySelector(".pace")?(Pace.trigger("start"),Pace.go()):setTimeout(Pace.start,50)
},"function"==typeof define&&define.amd?define(function(){return Pace
}):"object"==typeof exports?module.exports=Pace:aw.startOnPageLoad&&Pace.start()
}).call(this)
}catch(e){}var swfobject=function(){var aq="undefined",aD="object",ab="Shockwave Flash",X="ShockwaveFlash.ShockwaveFlash",aE="application/x-shockwave-flash",ac="SWFObjectExprInst",ax="onreadystatechange",af=window,aL=document,aB=navigator,aa=false,Z=[aN],aG=[],ag=[],al=[],aJ,ad,ap,at,ak=false,aU=false,aH,an,aI=true,ah=function(){var a=typeof aL.getElementById!=aq&&typeof aL.getElementsByTagName!=aq&&typeof aL.createElement!=aq,f=aB.userAgent.toLowerCase(),c=aB.platform.toLowerCase(),j=c?/win/.test(c):/win/.test(f),l=c?/mac/.test(c):/mac/.test(f),h=/webkit/.test(f)?parseFloat(f.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,d=!+"\v1",g=[0,0,0],m=null;
if(typeof aB.plugins!=aq&&typeof aB.plugins[ab]==aD){m=aB.plugins[ab].description;
if(m&&!(typeof aB.mimeTypes!=aq&&aB.mimeTypes[aE]&&!aB.mimeTypes[aE].enabledPlugin)){aa=true;
d=false;
m=m.replace(/^.*\s+(\S+\s+\S+$)/,"$1");
g[0]=parseInt(m.replace(/^(.*)\..*$/,"$1"),10);
g[1]=parseInt(m.replace(/^.*\.(.*)\s.*$/,"$1"),10);
g[2]=/[a-zA-Z]/.test(m)?parseInt(m.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0
}}else{if(typeof af.ActiveXObject!=aq){try{var k=new ActiveXObject(X);
if(k){m=k.GetVariable("$version");
if(m){d=true;
m=m.split(" ")[1].split(",");
g=[parseInt(m[0],10),parseInt(m[1],10),parseInt(m[2],10)]
}}}catch(b){}}}return{w3:a,pv:g,wk:h,ie:d,win:j,mac:l}
}(),aK=function(){if(!ah.w3){return
}if((typeof aL.readyState!=aq&&aL.readyState=="complete")||(typeof aL.readyState==aq&&(aL.getElementsByTagName("body")[0]||aL.body))){aP()
}if(!ak){if(typeof aL.addEventListener!=aq){aL.addEventListener("DOMContentLoaded",aP,false)
}if(ah.ie&&ah.win){aL.attachEvent(ax,function(){if(aL.readyState=="complete"){aL.detachEvent(ax,arguments.callee);
aP()
}});
if(af==top){(function(){if(ak){return
}try{aL.documentElement.doScroll("left")
}catch(a){setTimeout(arguments.callee,0);
return
}aP()
})()
}}if(ah.wk){(function(){if(ak){return
}if(!/loaded|complete/.test(aL.readyState)){setTimeout(arguments.callee,0);
return
}aP()
})()
}aC(aP)
}}();
function aP(){if(ak){return
}try{var b=aL.getElementsByTagName("body")[0].appendChild(ar("span"));
b.parentNode.removeChild(b)
}catch(a){return
}ak=true;
var d=Z.length;
for(var c=0;
c<d;
c++){Z[c]()
}}function aj(a){if(ak){a()
}else{Z[Z.length]=a
}}function aC(a){if(typeof af.addEventListener!=aq){af.addEventListener("load",a,false)
}else{if(typeof aL.addEventListener!=aq){aL.addEventListener("load",a,false)
}else{if(typeof af.attachEvent!=aq){aM(af,"onload",a)
}else{if(typeof af.onload=="function"){var b=af.onload;
af.onload=function(){b();
a()
}
}else{af.onload=a
}}}}}function aN(){if(aa){Y()
}else{am()
}}function Y(){var d=aL.getElementsByTagName("body")[0];
var b=ar(aD);
b.setAttribute("type",aE);
var a=d.appendChild(b);
if(a){var c=0;
(function(){if(typeof a.GetVariable!=aq){var f=a.GetVariable("$version");
if(f){f=f.split(" ")[1].split(",");
ah.pv=[parseInt(f[0],10),parseInt(f[1],10),parseInt(f[2],10)]
}}else{if(c<10){c++;
setTimeout(arguments.callee,10);
return
}}d.removeChild(b);
a=null;
am()
})()
}else{am()
}}function am(){var h=aG.length;
if(h>0){for(var j=0;
j<h;
j++){var c=aG[j].id;
var n=aG[j].callbackFn;
var a={success:false,id:c};
if(ah.pv[0]>0){var k=aS(c);
if(k){if(ao(aG[j].swfVersion)&&!(ah.wk&&ah.wk<312)){ay(c,true);
if(n){a.success=true;
a.ref=av(c);
n(a)
}}else{if(aG[j].expressInstall&&au()){var f={};
f.data=aG[j].expressInstall;
f.width=k.getAttribute("width")||"0";
f.height=k.getAttribute("height")||"0";
if(k.getAttribute("class")){f.styleclass=k.getAttribute("class")
}if(k.getAttribute("align")){f.align=k.getAttribute("align")
}var g={};
var d=k.getElementsByTagName("param");
var m=d.length;
for(var l=0;
l<m;
l++){if(d[l].getAttribute("name").toLowerCase()!="movie"){g[d[l].getAttribute("name")]=d[l].getAttribute("value")
}}ae(f,g,c,n)
}else{aF(k);
if(n){n(a)
}}}}}else{ay(c,true);
if(n){var b=av(c);
if(b&&typeof b.SetVariable!=aq){a.success=true;
a.ref=b
}n(a)
}}}}}function av(b){var d=null;
var c=aS(b);
if(c&&c.nodeName=="OBJECT"){if(typeof c.SetVariable!=aq){d=c
}else{var a=c.getElementsByTagName(aD)[0];
if(a){d=a
}}}return d
}function au(){return !aU&&ao("6.0.65")&&(ah.win||ah.mac)&&!(ah.wk&&ah.wk<312)
}function ae(g,d,j,f){aU=true;
ap=f||null;
at={success:false,id:j};
var a=aS(j);
if(a){if(a.nodeName=="OBJECT"){aJ=aO(a);
ad=null
}else{aJ=a;
ad=j
}g.id=ac;
if(typeof g.width==aq||(!/%$/.test(g.width)&&parseInt(g.width,10)<310)){g.width="310"
}if(typeof g.height==aq||(!/%$/.test(g.height)&&parseInt(g.height,10)<137)){g.height="137"
}aL.title=aL.title.slice(0,47)+" - Flash Player Installation";
var b=ah.ie&&ah.win?"ActiveX":"PlugIn",c="MMredirectURL="+af.location.toString().replace(/&/g,"%26")+"&MMplayerType="+b+"&MMdoctitle="+aL.title;
if(typeof d.flashvars!=aq){d.flashvars+="&"+c
}else{d.flashvars=c
}if(ah.ie&&ah.win&&a.readyState!=4){var h=ar("div");
j+="SWFObjectNew";
h.setAttribute("id",j);
a.parentNode.insertBefore(h,a);
a.style.display="none";
(function(){if(a.readyState==4){a.parentNode.removeChild(a)
}else{setTimeout(arguments.callee,10)
}})()
}aA(g,d,j)
}}function aF(a){if(ah.ie&&ah.win&&a.readyState!=4){var b=ar("div");
a.parentNode.insertBefore(b,a);
b.parentNode.replaceChild(aO(a),b);
a.style.display="none";
(function(){if(a.readyState==4){a.parentNode.removeChild(a)
}else{setTimeout(arguments.callee,10)
}})()
}else{a.parentNode.replaceChild(aO(a),a)
}}function aO(b){var d=ar("div");
if(ah.win&&ah.ie){d.innerHTML=b.innerHTML
}else{var f=b.getElementsByTagName(aD)[0];
if(f){var a=f.childNodes;
if(a){var g=a.length;
for(var c=0;
c<g;
c++){if(!(a[c].nodeType==1&&a[c].nodeName=="PARAM")&&!(a[c].nodeType==8)){d.appendChild(a[c].cloneNode(true))
}}}}}return d
}function aA(f,h,c){var d,a=aS(c);
if(ah.wk&&ah.wk<312){return d
}if(a){if(typeof f.id==aq){f.id=c
}if(ah.ie&&ah.win){var g="";
for(var k in f){if(f[k]!=Object.prototype[k]){if(k.toLowerCase()=="data"){h.movie=f[k]
}else{if(k.toLowerCase()=="styleclass"){g+=' class="'+f[k]+'"'
}else{if(k.toLowerCase()!="classid"){g+=" "+k+'="'+f[k]+'"'
}}}}}var j="";
for(var l in h){if(h[l]!=Object.prototype[l]){j+='<param name="'+l+'" value="'+h[l]+'" />'
}}a.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+g+">"+j+"</object>";
ag[ag.length]=f.id;
d=aS(f.id)
}else{var b=ar(aD);
b.setAttribute("type",aE);
for(var m in f){if(f[m]!=Object.prototype[m]){if(m.toLowerCase()=="styleclass"){b.setAttribute("class",f[m])
}else{if(m.toLowerCase()!="classid"){b.setAttribute(m,f[m])
}}}}for(var n in h){if(h[n]!=Object.prototype[n]&&n.toLowerCase()!="movie"){aQ(b,n,h[n])
}}a.parentNode.replaceChild(b,a);
d=b
}}return d
}function aQ(b,d,c){var a=ar("param");
a.setAttribute("name",d);
a.setAttribute("value",c);
b.appendChild(a)
}function aw(a){var b=aS(a);
if(b&&b.nodeName=="OBJECT"){if(ah.ie&&ah.win){b.style.display="none";
(function(){if(b.readyState==4){aT(a)
}else{setTimeout(arguments.callee,10)
}})()
}else{b.parentNode.removeChild(b)
}}}function aT(a){var b=aS(a);
if(b){for(var c in b){if(typeof b[c]=="function"){b[c]=null
}}b.parentNode.removeChild(b)
}}function aS(a){var c=null;
try{c=aL.getElementById(a)
}catch(b){}return c
}function ar(a){return aL.createElement(a)
}function aM(a,c,b){a.attachEvent(c,b);
al[al.length]=[a,c,b]
}function ao(a){var b=ah.pv,c=a.split(".");
c[0]=parseInt(c[0],10);
c[1]=parseInt(c[1],10)||0;
c[2]=parseInt(c[2],10)||0;
return(b[0]>c[0]||(b[0]==c[0]&&b[1]>c[1])||(b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]))?true:false
}function az(b,g,a,c){if(ah.ie&&ah.mac){return
}var f=aL.getElementsByTagName("head")[0];
if(!f){return
}var h=(a&&typeof a=="string")?a:"screen";
if(c){aH=null;
an=null
}if(!aH||an!=h){var d=ar("style");
d.setAttribute("type","text/css");
d.setAttribute("media",h);
aH=f.appendChild(d);
if(ah.ie&&ah.win&&typeof aL.styleSheets!=aq&&aL.styleSheets.length>0){aH=aL.styleSheets[aL.styleSheets.length-1]
}an=h
}if(ah.ie&&ah.win){if(aH&&typeof aH.addRule==aD){aH.addRule(b,g)
}}else{if(aH&&typeof aL.createTextNode!=aq){aH.appendChild(aL.createTextNode(b+" {"+g+"}"))
}}}function ay(a,c){if(!aI){return
}var b=c?"visible":"hidden";
if(ak&&aS(a)){aS(a).style.visibility=b
}else{az("#"+a,"visibility:"+b)
}}function ai(b){var a=/[\\\"<>\.;]/;
var c=a.exec(b)!=null;
return c&&typeof encodeURIComponent!=aq?encodeURIComponent(b):b
}var aR=function(){if(ah.ie&&ah.win){window.attachEvent("onunload",function(){var a=al.length;
for(var b=0;
b<a;
b++){al[b][0].detachEvent(al[b][1],al[b][2])
}var d=ag.length;
for(var c=0;
c<d;
c++){aw(ag[c])
}for(var f in ah){ah[f]=null
}ah=null;
for(var g in swfobject){swfobject[g]=null
}swfobject=null
})
}}();
return{registerObject:function(a,f,c,b){if(ah.w3&&a&&f){var d={};
d.id=a;
d.swfVersion=f;
d.expressInstall=c;
d.callbackFn=b;
aG[aG.length]=d;
ay(a,false)
}else{if(b){b({success:false,id:a})
}}},getObjectById:function(a){if(ah.w3){return av(a)
}},embedSWF:function(m,f,j,g,c,a,b,k,h,l){var d={success:false,id:f};
if(ah.w3&&!(ah.wk&&ah.wk<312)&&m&&f&&j&&g&&c){ay(f,false);
aj(function(){j+="";
g+="";
var s={};
if(h&&typeof h===aD){for(var q in h){s[q]=h[q]
}}s.data=m;
s.width=j;
s.height=g;
var p={};
if(k&&typeof k===aD){for(var r in k){p[r]=k[r]
}}if(b&&typeof b===aD){for(var n in b){if(typeof p.flashvars!=aq){p.flashvars+="&"+n+"="+b[n]
}else{p.flashvars=n+"="+b[n]
}}}if(ao(c)){var o=aA(s,p,f);
if(s.id==f){ay(f,true)
}d.success=true;
d.ref=o
}else{if(a&&au()){s.data=a;
ae(s,p,f,l);
return
}else{ay(f,true)
}}if(l){l(d)
}})
}else{if(l){l(d)
}}},switchOffAutoHideShow:function(){aI=false
},ua:ah,getFlashPlayerVersion:function(){return{major:ah.pv[0],minor:ah.pv[1],release:ah.pv[2]}
},hasFlashPlayerVersion:ao,createSWF:function(a,b,c){if(ah.w3){return aA(a,b,c)
}else{return undefined
}},showExpressInstall:function(b,a,d,c){if(ah.w3&&au()){ae(b,a,d,c)
}},removeSWF:function(a){if(ah.w3){aw(a)
}},createCSS:function(b,a,c,d){if(ah.w3){az(b,a,c,d)
}},addDomLoadEvent:aj,addLoadEvent:aC,getQueryParamValue:function(b){var a=aL.location.search||aL.location.hash;
if(a){if(/\?/.test(a)){a=a.split("?")[1]
}if(b==null){return ai(a)
}var c=a.split("&");
for(var d=0;
d<c.length;
d++){if(c[d].substring(0,c[d].indexOf("="))==b){return ai(c[d].substring((c[d].indexOf("=")+1)))
}}}return""
},expressInstallCallback:function(){if(aU){var a=aS(ac);
if(a&&aJ){a.parentNode.replaceChild(aJ,a);
if(ad){ay(ad,true);
if(ah.ie&&ah.win){aJ.style.display="block"
}}if(ap){ap(at)
}}aU=false
}}}
}();
$(document).ready(function(){var a=$('input[type="submit"]');
VW.radio("modelProfile:vehicleDataLoaded").subscribe(function(){VW.radio("VPPContact:switchDealer").subscribe(function(f,d){b(f,d)
});
var b=function(g){var d=$(".dealerSelect .contactRadioContainer .contactLocalDealer input"),f=$(".dealerSelect .contactRadioContainer .contactDealerWithCar input");
if(g.hasClass("local")){d.trigger("click",[false])
}else{f.trigger("click",[false])
}};
var c=$(".contactDealerForm.contactContainer");
VW.forms.myForms.contactDealer=new VW.forms.contactDealer({form:c,formValues:{formName:"Contact Dealer",modelName:vehicle.model,zip:VW.location.currentLocation(),dealerId:vehicle.dealerid,trim:VW.utilities.removeHTMLentities(vehicle.subTrimLevel),modelCode:vehicle.factoryModelCode,requestType:"contactDealer",sourceType:"vw",subType:"vw_model bucket page"}});
VW.radio("vppContact:setDealerInfo").subscribe(function(g){var d=$(".dealerComm .dealerSelect"),h=d.find(".contactLocalDealer input"),f=d.find(".contactDealerWithCar input");
d.removeClass("hide");
h.val(g.localDealer.dealerid).siblings().find(".dealerName").text(g.localDealer.name);
f.val(g.dealerWithCar.dealerid).siblings().find(".dealerName").text(g.dealerWithCar.name)
});
$(".contactDealerForm .continue").off("click","a.button").on("click","a.button",function(f){f.preventDefault();
f.stopPropagation();
var d=VW.forms.myForms.contactDealer;
d.nextPane(f,d)
});
$(".dealerSelect .contactRadioContainer input").off("click").on("click",function(h,j){var d=$(this),f,g;
j!=false?j=true:"";
if(j){if($(this).parent().hasClass("contactLocalDealer")){g=$(".letsMeetNavWrapper .local")
}else{g=$(".letsMeetNavWrapper .dealerWithCar")
}b(g);
VW.radio("letsMeet:switchDealer").broadcast(g)
}VW.forms.myForms.contactDealer.options.formValues.dealerId=$(this).val()
});
$(".dealerComm .contactDealerForm .submit").off("click","input").on("click","input",function(h){var d=VW.forms.myForms.contactDealer,g=d.validate($(h.currentTarget)),f=c;
if(a.hasClass("disabled")){return
}if(g){a.addClass("disabled");
d.submit(function(){var k=f.find(".pane2"),j=f.find(".contactSuccess");
d.successErrorScreen(k,j);
d.updateSuccessPane($(".contactDealerForm"),d);
var l={formName:d.options.formValues.formName,step:"submit clicked"};
VW.radio("form:stepChange").broadcast(l);
a.removeClass("disabled")
},function(){var k=$(h.currentTarget).parents(".pane"),j=f.find(".contactError");
d.successErrorScreen(k,j);
d.updateSuccessPane(f);
a.removeClass("disabled")
})
}})
})
});
if(!Array.prototype.indexOf){Array.prototype.indexOf=function(b){var a=this.length>>>0;
var c=Number(arguments[1])||0;
c=(c<0)?Math.ceil(c):Math.floor(c);
if(c<0){c+=a
}for(;
c<a;
c++){if(c in this&&this[c]===b){return c
}}return -1
}
}Number.prototype.formatMoney=function(c,a){var b="(\\d)(?=(\\d{"+(a||3)+"})+"+(c>0?"\\.":"$")+")";
return this.toFixed(Math.max(0,~~c)).replace(new RegExp(b,"g"),"$1,")
};
if(!Object.keys){Object.keys=(function(){var c=Object.prototype.hasOwnProperty,d=!({toString:null}).propertyIsEnumerable("toString"),b=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=b.length;
return function(h){if(typeof h!=="object"&&(typeof h!=="function"||h===null)){throw new TypeError("Object.keys called on non-object")
}var f=[],j,g;
for(j in h){if(c.call(h,j)){f.push(j)
}}if(d){for(g=0;
g<a;
g++){if(c.call(h,b[g])){f.push(b[g])
}}}return f
}
}())
}(function(){var f;
var d=function(){};
var b=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"];
var c=b.length;
var a=(window.console=window.console||{});
while(c--){f=b[c];
if(!a[f]){a[f]=d
}}}());
(function(){var a=["qa.vw.com","vw.com","www.vw.com"];
if(_.contains(a,location.host)){console.log=console.error=console.info=console.debug=console.warn=console.trace=console.dir=console.dirxml=console.group=console.groupEnd=console.time=console.timeEnd=console.assert=console.profile=function(){}
}}());
String.prototype.toProperCase=function(){return this.replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()
})
};
if(typeof String.prototype.trim!=="function"){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")
}
}$(function(){VW.location={currentLocation:function(){var a=VW.store.get("zip");
if(a){var b=this.prependZeroes(a.toString());
if(a!==b){VW.store.set("zip",b);
a=b
}}return a
},showLocation:function(){$(".js-zipCode").text(this.currentLocation());
VW.location.showInventoryCount(this.currentLocation())
},init:function(){if($("html").hasClass("mobileDevice")&&$("body").hasClass("vwModelProfile")){VW.radio("location:ready").broadcast("90066");
return
}$(".js-inventoryCount").text("Finding ");
if(!this.currentLocation()){this.detectLocation(function(a){VW.location.setLocation(a)
})
}else{this.showLocation();
VW.radio("location:ready").broadcast(this.currentLocation())
}},prependZeroes:function(b){if(b.length<5){var c=5-b.length;
for(var a=c;
a--;
){b="0"+b
}}return b
},setLocation:function(a,b){a=a.toString();
a=this.prependZeroes(a);
if(a===VW.store.get("zip")){if(!_.isUndefined(b)){VW.radio("zipUpdated").broadcast({zip:a,autoDetect:false})
}return
}$(".js-inventoryCount").text("Finding ");
VW.store.set("zip",a);
this.showLocation();
if(!_.isUndefined(b)){VW.radio("zipUpdated").broadcast({zip:a,autoDetect:false})
}else{VW.radio("zipUpdated").broadcast({zip:a,autoDetect:true})
}VW.radio("location:ready").broadcast(a)
},showInventoryCount:function(){$(".js-inventoryCount").text(VW.data.getVehicleCount()+" ")
},detectBrowserLocation:function(b){var a=b;
if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(c){var f=c.coords.latitude;
var d=c.coords.longitude
},function(c){console.log(c)
})
}},detectLocation:function(b){var a=b;
$.ajax({url:VW.config.ipSniffingUrl,dataType:"json"}).done(function(c){if(c.zip){if(_.isFunction(a)&&c.zip){a(c.zip)
}}else{VW.radio("location:openLocationOverlay").broadcast()
}}).fail(function(c){VW.radio("location:openLocationOverlay").broadcast()
})
},validateLocation:function(a){return(/^\d{5}$/).test(a)
}};
VW.radio("location:lightboxReady").subscribe(function(){VW.location.init()
});
if(VW.data.loaded){VW.location.showInventoryCount()
}else{VW.radio("globalData:dataloaded").subscribe([VW.location.showInventoryCount,VW.location])
}});
var GlobalData=function(){var u={sdlBaseUrl:sdlBaseUrl,trimLevels:["2014 S","2014 SE","2014 SEL","TDI Clean Diesel","2014 2.0L V6","GLI","Hybrid"],fuelTypes:["Gas","Diesel","Hybrid"],loaded:false,dealers:{},inventory:new Array(),productData:new Array(),dealerMapTemplate:'<a href="https://maps.google.com/maps?q={{latlong}}&z=15" target="_blank" class="map" style="background-image:url(\'http://maps.googleapis.com/maps/api/staticmap?markers=icon:http://www.vw.com/content/dam/vwcom/pages/2014_find_a_dealer_icons/staticMapDealerMarker.png|shadow:false|{{latlong}}&center={{latlong}}&zoom=13&size=600x600&sensor=false\');"></a>',dealerMapThumbnailTemplate:'<a href="https://maps.google.com/maps?q={{latlong}}&z=15" target="_blank"><img src="http://maps.googleapis.com/maps/api/staticmap?markers=icon:http://www.vw.com/content/dam/vwcom/pages/2014_find_a_dealer_icons/staticMapDealerMarker.png|shadow:false|{{latlong}}&center={{latlong}}&zoom=13&size=370x280&sensor=false"  class="map"/></a>'};
function r(){VW.radio("globalData:init").broadcast();
VW.radio("location:ready").subscribe([n,this])
}function v(){return VW.location.currentLocation()
}function f(w){VW.location.setLocation(w)
}function h(w){VW.location.detectLocation(w)
}var d=0;
function n(x){x=x||v();
var w=window.sdlBaseUrl;
this.getModelCodeSummary(function(y){});
$.ajax({url:w+"/rest/product/dealers/zip/"+x+".json",context:this,dataType:"json",tryCount:0,retryLimit:3}).fail(function(A,y,z){console.warn("error getting dealers",A,y,z);
if(y=="timeout"){this.tryCount++;
if(this.tryCount<=this.retryLimit){$.ajax(this);
return
}}else{console.error("inventory retrieval failed due to error",A,y,z)
}}).done(function(y){d=0;
if(_.isEmpty(y.dealers)){console.error("No dealers available, unable to look up inventory without list of dealer IDs");
VW.radio("location:invalidZip").broadcast();
function z(){VW.radio("location:openLocationOverlay").broadcast(function(){$("#lightboxContent").find(".js-locationInput").val("Invalid ZIP entered");
$("#lightboxContentInner").find(".locationChange").removeClass("confirm").addClass("invalid")
})
}if(VW.locationLightbox){z()
}else{VW.radio("location:lightboxReady").subscribe(z)
}return
}VW.radio("location:validZip").broadcast();
y.dealers=_.filter(y.dealers,function(A){return !_.isUndefined(A.dealerid)
});
_.extend(u.dealers,y.dealers);
console.time("inventory retrieved in");
this.dealers=u.dealers=l(y.dealers);
u.inventory=this.inventory=[];
_.each(u.dealers,function(A){d++;
$.ajax({url:w+"/rest/product/dealers/inventory/"+A.dealerid+".json",context:this,dataType:"json",tryCount:0,retryLimit:3}).fail(function(D,B,C){if(B=="timeout"){this.tryCount++;
if(this.tryCount<=this.retryLimit){console.warn("COULD NOT GET INVENTORY, re-attempt #"+this.tryCount);
$.ajax(this);
return
}}else{console.error("inventory retrieval failed due to error",D,B,C)
}}).done(function(B){if(_.isArray(B)&&!_.isEmpty(B)){this.inventory=this.inventory.concat(B)
}if(--d==0){u.inventory=this.inventory=t(this.inventory);
console.timeEnd("inventory retrieved in");
console.log("%c"+u.inventory.length+" VEHICLES LOADED, at "+u.dealers.length+" DEALERS","font-size: 14px; color:purple; font-family:'sans-serif';");
VW.radio("globalData:dataloaded").broadcast(u);
this.loaded=true
}})
},this)
})
}function l(w){_.each(w,function(z,y,A){var x=z.phone.match(/(\d{3})(\d{3})(\d{4})/);
if(_.isArray(x)){z.phonepretty="("+x[1]+") "+x[2]+"-"+x[3]
}z.mapUrl="https://maps.google.com/maps?q="+encodeURIComponent(z.address1+", "+(z.address2?z.address2+", ":"")+z.city+", "+z.state+" "+z.postalcode);
z.map=Mustache.render(u.dealerMapTemplate,z);
z.thumbnailMap=Mustache.render(u.dealerMapThumbnailTemplate,z);
y==0?z.aor=true:z.aor
});
return w
}function t(w){_.each(w,function(x){x.msrpF=parseFloat(x.msrp).formatMoney();
x.exteriorColorBaseColor=x.exteriorColorBaseColor?x.exteriorColorBaseColor.toUpperCase():"";
x.interiorColorBaseColor=x.interiorColorBaseColor?x.interiorColorBaseColor.toUpperCase():"";
x.distance=(_.first(_.where(u.dealers,{dealerid:x.dealerid})))?Math.round(_.first(_.where(u.dealers,{dealerid:x.dealerid})).distance):0;
x.model=x.model.replace("&reg;, ");
if(x.model=="Jetta Sportwagen"){x.model="Jetta SportWagen"
}if(x.transmissionType&&x.transmissionType.toLowerCase()==="standard"){x.transmissionType="Manual"
}x.mediaImageUrl=VW.utilities.getCropSize(x,{width:450});
x.mediaImageUrlAlt=VW.utilities.extendIrisParams(x.mediaImageUrlAlt,{height:882})
});
w=_.sortBy(w,function(x){return x.distance
});
return w
}function s(){return _.groupBy(u.inventory,"dealerid")
}function q(w){return _.where(u.inventory,{dealerid:w})
}function k(y,B){var A=_.first(_.where(u.inventory,{vin:y}));
var z=y;
var x=t;
var w=B;
if(_.isUndefined(A)){$.get(window.sdlBaseUrl+"/rest/product/dealers/inventory/vin/"+y+".json").done(function(C){VW.data.getDealerByID(C.dealerid,function(D){_.extend(C,D);
A=_.first(x([C]));
if(_.isFunction(w)){w(A)
}})
}).fail(function(C){console.warn("getVehicleByVIN has failed",C.status);
B(C);
return
})
}else{VW.data.getDealerByID(A.dealerid,function(C){_.extend(A,C);
if(_.isFunction(w)){w(A)
}})
}}function o(A,z){var x=_.first(_.where(u.dealers,{dealerid:A}));
var y=l;
var w=z;
if(x){if(_.isFunction(w)){w(x)
}else{return x
}}else{if(A===""){w({});
return
}$.get(window.sdlBaseUrl+"/rest/product/dealers/dealerid/"+A+".json").done(function(B){x=_.first(y([B]));
if(_.isFunction(w)){w(x)
}}).fail(function(B){console.warn("there's been an error with 'getDealerByID'",B)
})
}}function j(x,z){var y=_.first(_.where(u.productData,{modelCodeKey:x}));
var w=z;
if(_.isUndefined(y)){$.get(window.sdlBaseUrl+"/rest/product/products/modelcodekey/"+x+".json").done(function(A){if(_.isFunction(w)){w(A)
}}).fail(function(A){console.warn("there's been an error with 'getProductData'",A)
})
}else{if(_.isFunction(w)){w(y)
}else{return y
}}}function c(x){var w=x;
if(_.isUndefined(u.modelCodeSummary)){$.get(window.sdlBaseUrl+"/rest/product/products/summary/list.json").done(function(y){VW.data.modelCodeSummary=y;
if(_.isFunction(w)){w(u)
}}).fail(function(y){console.warn("there's been an error with 'getModelCodeSummary'",y)
})
}else{if(_.isFunction(w)){w(u.modelCodeSummary)
}else{return u.modelCodeSummary
}}}function m(){return _.size(u.inventory)
}function a(){return _.find(_.sortBy(u.dealers,function(w){return w.distance
}),function(w){return w.aor==true
})
}function g(){return _.toArray(u.dealers)
}function p(){return _.toArray(u.inventory)
}function b(){return(/^\d{5}$/).test(zip)
}return{init:r,getLocation:v,grabData:n,dealers:u.dealers,inventory:u.inventory,getDealers:g,getInventory:p,inventoryByDealer:s,closestAORDealer:a,inventoryByDealerID:q,getVehicleByVIN:k,getDealerByID:o,getVehicleCount:m,validateLocation:b,setLocation:f,loaded:u.loaded,getModelCodeSummary:c,modelCodeSummary:u.modelCodeSummary,getProductData:j,sdlBaseUrl:u.sdlBaseUrl}
};
window.VW={radio:radio,crossOrigin:"use-credentials",breakpoints:[768,1024,1280,2048],facebookAppId:"1388392698094467",youTubeAPIKey:"AIzaSyD1REgN5SPY_ZQADwwXRge6lIzNW3gpwRM",googleMapsMarkerImage:"http://www.vw.com/content/dam/vwcom/pages/2014_find_a_dealer_icons/staticMapDealerMarker.png",JSAnimationSpeed:150,store:new Persist.Store("VW"),data:new GlobalData(),googleMapsID:function(){return(window.location.host==="www.vw.com"||window.location.host==="vw.com")?"&client=gme-volkswagenag":""
},forceUseCSS3:true,runIfModern:function(a){if(Modernizr[a.rule]){a.yes()
}else{a.no()
}},config:{localMode:false,ipSniffingUrl:"/iptozip",clientLibAssetPath:"",damAssetPath:"",localClientLibAssetPath:"/media/",localDamAssetPath:"/media/dam/",cqClientLibAssetPath:"/etc/clientlibs/vwcom/",cqDamAssetPath:"/content/dam/vwcom/pages/matchmaker/"},ui:{},strings:{},matchmaker:{views:{},routers:{},models:{},collections:{},config:{localMode:false,clientLibAssetPath:"",damAssetPath:"",localClientLibAssetPath:"/media/",localDamAssetPath:"/media/dam/",cqClientLibAssetPath:"/etc/clientlibs/vwcom/",cqDamAssetPath:"/content/dam/vwcom/pages/matchmaker/",urlRoot:window.pagePath}},socialnews:{models:{},views:{},collections:{},config:{path:"/etc/clientlibs/socialAndNews/"}},specialOffers:{models:{},views:{},collections:{},config:{path:"/etc/clientlibs/specialOffers/"}},userProfile:{views:{},models:{},collections:{}},utilities:{},vehicleProfile:{models:{},views:{},collections:{}},mediaPlayer:{views:{},models:{}},legal:{}};
if(VW.matchmaker.config.localMode){VW.matchmaker.config.clientLibAssetPath=VW.matchmaker.config.localClientLibAssetPath;
VW.matchmaker.config.damAssetPath=VW.matchmaker.config.localDamAssetPath
}else{VW.matchmaker.config.clientLibAssetPath=VW.matchmaker.config.cqClientLibAssetPath;
VW.matchmaker.config.damAssetPath=VW.matchmaker.config.cqDamAssetPath
}Backbone.View.prototype.close=function(){this.remove();
this.unbind();
if(this.onClose){this.onClose()
}};
window.devicePixelRatio=window.devicePixelRatio||1;
$(function(){VW.data.init()
});
VW.strings.filterTypeLookup={bodyType:{type:"slider",navItem:"bodyType",friendlyName:""},engineCategory:{type:"slider",navItem:"engine",friendlyName:""},interiorColor:{type:"colorSlider",navItem:"colors",friendlyName:"Color"},exteriorColor:{type:"colorSlider",navItem:"colors",friendlyName:"Color"},isFourWheel:{friendlyName:"4 Wheel Drive",type:"checkbox",navItem:"engine"},transmissionType:{type:"radio",navItem:"engine",friendlyName:""},doors:{type:"radio",navItem:"bodyType",friendlyName:""},featureSeats:{type:"radio",navItem:"features",friendlyName:""},featureHeatedSeats:{type:"checkbox",navItem:"features",friendlyName:"Heated Seats"},featurePowerSeats:{type:"checkbox",navItem:"features",friendlyName:"Power Seats"},featureNavigation:{type:"feature",navItem:"features",friendlyName:"Navigation"},featurePremiumAudio:{type:"feature",navItem:"features",friendlyName:"Premium Audio"},featureSunroof:{type:"feature",navItem:"features",friendlyName:"Sunroof"},featureCarNet:{type:"feature",navItem:"features",friendlyName:"Car-Net"},featureClimateControl:{type:"feature",navItem:"features",friendlyName:"Climate Control"},featureKeylessEntry:{type:"feature",navItem:"features",friendlyName:"Keyless Entry"},featureBluetooth:{type:"feature",navItem:"features",friendlyName:"Bluetooth"},featureHeadlights:{type:"feature",navItem:"features",friendlyName:"Bi Xenon Lights"},featureRearCamera:{type:"feature",navItem:"features",friendlyName:"Rear Camera"},featureDriverAssistance:{type:"feature",navItem:"features",friendlyName:"Driver Assistance"},"package":{type:"package",navItem:"features",friendlyName:""},msrp:{type:"price",outputFormat:"$-$",navItem:"budget",friendlyName:""},lease:{type:"price",outputFormat:"$",navItem:"budget",friendlyName:""},finance:{type:"price",outputFormat:"$",navItem:"budget",friendlyName:""},mileage:{type:"range",outputFormat:"mi-mi",navItem:"age",friendlyName:""},year:{type:"range",outputFormat:"-",navItem:"age",friendlyName:"Model Year"},vehicleType:{type:"slider",navItem:"type",friendlyName:""},model:{navItem:"model",friendlyName:"",type:"model"},trim:{navItem:"trim",type:"trim"}};
VW.strings.featureLookup=[{key:"bodyType",tileString:"Other body types",iconClass:"iconCar",friendlyName:"Body Type"},{key:"model",tileString:"Other Models",iconClass:"iconModel",friendlyName:"Model"},{key:"exteriorColor",tileString:"Other Exterior Colors",iconClass:"iconDrop",friendlyName:"Exterior Color"},{key:"interiorColor",tileString:"Other Interior Colors",iconClass:"iconDrop",friendlyName:"Interior Color"},{key:"featureNavigation",tileString:"Without Navigation",iconClass:"iconGrid",friendlyName:"Navigation"},{key:"featurePremiumAudio",tileString:"Without Premium Audio",iconClass:"iconMusic",friendlyName:"Premium Audio"},{key:"featureSunroof",tileString:"Without Sunroof",iconClass:"iconGrid",friendlyName:"Sunroof"},{key:"featurePanoramicSunroof",tileString:"Without Panoramic Sunroof",iconClass:"iconGrid",friendlyName:"Panoramic Sunroof"},{key:"featureCarNet",tileString:"Without Volkswagen Car-Net",iconClass:"iconGrid",friendlyName:"Car-Net"},{key:"featureClimateControl",tileString:"Without Climate Control",iconClass:"iconGrid",friendlyName:"Climate Control"},{key:"featureKeylessEntry",tileString:"Without Keyless Access",iconClass:"iconGrid",friendlyName:"Keyless Entry"},{key:"featureBluetooth",tileString:"Without Bluetooth",iconClass:"iconGrid",friendlyName:"Bluetooth"},{key:"featureRearCamera",tileString:"Without Rear Camera",iconClass:"iconGrid",friendlyName:"Rear Camera"},{key:"featureHeadlights",tileString:"Without Bi-Xenon Headlights",iconClass:"iconGrid",friendlyName:"Bi Xenon Lights"},{key:"featureSeats",tileString:"Other Seating Materials",iconClass:"iconGrid",friendlyName:"Seats"},{key:"featureHeatedSeats",tileString:"Without Heated Seats",iconClass:"iconGrid",friendlyName:"Heated Seats"},{key:"featurePowerSeats",tileString:"Without Power Seats",iconClass:"iconGrid",friendlyName:"Power Seats"},{key:"featureAlloyWheels",tileString:"Without Alloy Wheels",iconClass:"iconGrid",friendlyName:"Alloy Wheels"},{key:"featureDaytimeRunningLights",tileString:"Without Daytime Running Lights",iconClass:"iconGrid",friendlyName:"Daytime Running Lights"},{key:"featureDriverAssistance",tileString:"Without Driver Assistance",iconClass:"iconGrid",friendlyName:"Driver Assistance"},{key:"engineCategory",tileString:"Other Engines",iconClass:"iconGears"},{key:"transmissionType",tileString:"Other Transmissions",iconClass:"iconGears"},{key:"isFourWheel",tileString:"Without 4 Wheel Drive",iconClass:"iconGears"},{key:"doors",tileString:"Matches with different door configuration",iconClass:"iconGrid"},{key:"msrp",tileString:"Outside Your Budget",iconClass:"iconCash"},{key:"lease",tileString:"Outside Your Budget",iconClass:"iconCash"},{key:"finance",tileString:"Outside Your Budget",iconClass:"iconCash"},{key:"trimfamilies",tileString:"Outside Your Budget",iconClass:"iconCash",friendlyName:"Trim Families"},{key:"trim",tileString:"Other trims",iconClass:"iconCash",friendlyName:"Trims"},{key:"package",tileString:"Other packages",iconClass:"iconCash",friendlyName:"Packages"}];
VW.strings.modelTagline={Beetle:"The sporty icon","Beetle Convertible":"The top-down Beetle",CC:"The sleek sports coupe",Eos:"The hardtop convertible",Golf:"The hatchback",Jetta:"The compact sedan","Jetta SportWagen":"The wagon",Passat:"The midsize sedan",Tiguan:"The sporty SUV",Touareg:"The premium SUV"};
VW.strings.crops={defaultCrop:{X:"2500",Y:"0",w:"5000",h:"10000"},extendedCrops:[{modelName:"CC",angle:"EH01",data:{X:3033,Y:1000,w:4000,h:8000}},{modelName:"CC",angle:"EH02",data:{X:2800,Y:666,w:4333,h:8666}},{modelName:"CC",angle:"EH03",data:{X:3067,Y:1000,w:4000,h:8000}},{modelName:"CC",angle:"EH04",data:{X:2367,Y:0,w:5000,h:10000}},{modelName:"CC",angle:"EH05",data:{X:2567,Y:333,w:4667,h:9333}},{modelName:"CC",angle:"EH06",data:{X:3033,Y:1000,w:4000,h:8000}},{modelName:"Tiguan",angle:"EH01",data:{X:3067,Y:1333,w:3667,h:7333}},{modelName:"Tiguan",angle:"EH02",data:{X:2333,Y:0,w:5000,h:10000}},{modelName:"Tiguan",angle:"EH03",data:{X:2600,Y:333,w:4667,h:9333}},{modelName:"Tiguan",angle:"EH04",data:{X:2950,Y:833,w:4167,h:8333}},{modelName:"Tiguan",angle:"EH05",data:{X:2567,Y:333,w:4667,h:9333}},{modelName:"Tiguan",angle:"EH06",data:{X:2867,Y:1000,w:4000,h:8000}},{modelName:"Touareg",angle:"EH01",data:{X:3300,Y:1333,w:3667,h:7333}},{modelName:"Touareg",angle:"EH03",data:{X:2733,Y:333,w:4667,h:9333}},{modelName:"Touareg",angle:"EH05",data:{X:2933,Y:667,w:4333,h:8667}},{modelName:"Touareg",angle:"EH06",data:{X:2533,Y:333,w:4667,h:9333}},{modelName:"Jetta",angle:"EH01",data:{X:2433,Y:667,w:4333,h:8667}},{modelName:"Jetta",angle:"EH03",data:{X:2833,Y:667,w:4333,h:8667}},{modelName:"Jetta",angle:"EH04",data:{X:2333,Y:333,w:4667,h:9333}},{modelName:"Jetta",angle:"EH05",data:{X:2433,Y:333,w:4667,h:9333}},{modelName:"Jetta",angle:"EH06",data:{X:2533,Y:0,w:5000,h:10000}},{modelName:"Beetle",angle:"EH02",data:{X:3267,Y:1000,w:4000,h:8000}},{modelName:"Beetle",angle:"EH03",data:{X:3067,Y:1000,w:4000,h:8000}},{modelName:"Beetle",angle:"EH04",data:{X:2933,Y:333,w:4667,h:9333}},{modelName:"Beetle",angle:"EH05",data:{X:3117,Y:833,w:4167,h:8333}},{modelName:"Beetle",angle:"EH06",data:{X:2967,Y:1000,w:4000,h:8000}},{modelName:"Beetle Convertible",angle:"EH01",data:{X:2933,Y:1000,w:4000,h:8000}},{modelName:"Beetle Convertible",angle:"EH02",data:{X:2567,Y:333,w:4667,h:9333}},{modelName:"Beetle Convertible",angle:"EH03",data:{X:2567,Y:333,w:4667,h:9333}},{modelName:"Beetle Convertible",angle:"EH04",data:{X:2267,Y:0,w:5000,h:10000}},{modelName:"Beetle Convertible",angle:"EH05",data:{X:2983,Y:833,w:4167,h:8333}},{modelName:"Beetle Convertible",angle:"EH06",data:{X:2567,Y:667,w:4333,h:8667}},{modelName:"Passat",angle:"EH01",data:{X:2933,Y:667,w:4333,h:8667}},{modelName:"Passat",angle:"EH03",data:{X:2967,Y:1000,w:4000,h:8000}},{modelName:"Passat",angle:"EH04",data:{X:2700,Y:667,w:4333,h:8667}},{modelName:"Passat",angle:"EH06",data:{X:3100,Y:1000,w:4000,h:8000}},{modelName:"Jetta SportWagen",angle:"EH01",data:{X:2600,Y:333,w:4667,h:9333}},{modelName:"Jetta SportWagen",angle:"EH02",data:{X:2867,Y:1000,w:4000,h:8000}},{modelName:"Jetta SportWagen",angle:"EH03",data:{X:2700,Y:333,w:4333,h:8667}},{modelName:"Jetta SportWagen",angle:"EH04",data:{X:3033,Y:1000,w:4000,h:8000}},{modelName:"Jetta SportWagen",angle:"EH05",data:{X:2900,Y:333,w:4667,h:9333}},{modelName:"Jetta SportWagen",angle:"EH06",data:{X:2367,Y:0,w:5000,h:10000}},{modelName:"Eos",angle:"EH01",data:{X:2833,Y:667,w:4333,h:8667}},{modelName:"Eos",angle:"EH02",data:{X:3200,Y:1000,w:4000,h:8000}},{modelName:"Eos",angle:"EH03",data:{X:2633,Y:333,w:4667,h:9333}},{modelName:"Eos",angle:"EH04",data:{X:2900,Y:1000,w:4000,h:8000}},{modelName:"Eos",angle:"EH05",data:{X:2667,Y:0,w:5000,h:10000}},{modelName:"Eos",angle:"EH06",data:{X:3000,Y:667,w:4333,h:8667}},{modelName:"Golf GTI",angle:"EH01",data:{X:2950,Y:833,w:4167,h:8333}},{modelName:"Golf GTI",angle:"EH02",data:{X:2600,Y:0,w:5000,h:10000}},{modelName:"Golf GTI",angle:"EH03",data:{X:3167,Y:1000,w:4000,h:8000}},{modelName:"Golf GTI",angle:"EH04",data:{X:3067,Y:1000,w:4000,h:8000}},{modelName:"Golf GTI",angle:"EH05",data:{X:2600,Y:667,w:4333,h:8667}},{modelName:"Golf GTI",angle:"EH06",data:{X:2433,Y:667,w:4500,h:9000}}]};
VW.strings.states=[{name:"ALABAMA",abbreviation:"AL"},{name:"ALASKA",abbreviation:"AK"},{name:"AMERICAN SAMOA",abbreviation:"AS"},{name:"ARIZONA",abbreviation:"AZ"},{name:"ARKANSAS",abbreviation:"AR"},{name:"CALIFORNIA",abbreviation:"CA"},{name:"COLORADO",abbreviation:"CO"},{name:"CONNECTICUT",abbreviation:"CT"},{name:"DELAWARE",abbreviation:"DE"},{name:"DISTRICT OF COLUMBIA",abbreviation:"DC"},{name:"FEDERATED STATES OF MICRONESIA",abbreviation:"FM"},{name:"FLORIDA",abbreviation:"FL"},{name:"GEORGIA",abbreviation:"GA"},{name:"GUAM",abbreviation:"GU"},{name:"HAWAII",abbreviation:"HI"},{name:"IDAHO",abbreviation:"ID"},{name:"ILLINOIS",abbreviation:"IL"},{name:"INDIANA",abbreviation:"IN"},{name:"IOWA",abbreviation:"IA"},{name:"KANSAS",abbreviation:"KS"},{name:"KENTUCKY",abbreviation:"KY"},{name:"LOUISIANA",abbreviation:"LA"},{name:"MAINE",abbreviation:"ME"},{name:"MARSHALL ISLANDS",abbreviation:"MH"},{name:"MARYLAND",abbreviation:"MD"},{name:"MASSACHUSETTS",abbreviation:"MA"},{name:"MICHIGAN",abbreviation:"MI"},{name:"MINNESOTA",abbreviation:"MN"},{name:"MISSISSIPPI",abbreviation:"MS"},{name:"MISSOURI",abbreviation:"MO"},{name:"MONTANA",abbreviation:"MT"},{name:"NEBRASKA",abbreviation:"NE"},{name:"NEVADA",abbreviation:"NV"},{name:"NEW HAMPSHIRE",abbreviation:"NH"},{name:"NEW JERSEY",abbreviation:"NJ"},{name:"NEW MEXICO",abbreviation:"NM"},{name:"NEW YORK",abbreviation:"NY"},{name:"NORTH CAROLINA",abbreviation:"NC"},{name:"NORTH DAKOTA",abbreviation:"ND"},{name:"NORTHERN MARIANA ISLANDS",abbreviation:"MP"},{name:"OHIO",abbreviation:"OH"},{name:"OKLAHOMA",abbreviation:"OK"},{name:"OREGON",abbreviation:"OR"},{name:"PALAU",abbreviation:"PW"},{name:"PENNSYLVANIA",abbreviation:"PA"},{name:"PUERTO RICO",abbreviation:"PR"},{name:"RHODE ISLAND",abbreviation:"RI"},{name:"SOUTH CAROLINA",abbreviation:"SC"},{name:"SOUTH DAKOTA",abbreviation:"SD"},{name:"TENNESSEE",abbreviation:"TN"},{name:"TEXAS",abbreviation:"TX"},{name:"UTAH",abbreviation:"UT"},{name:"VERMONT",abbreviation:"VT"},{name:"VIRGIN ISLANDS",abbreviation:"VI"},{name:"VIRGINIA",abbreviation:"VA"},{name:"WASHINGTON",abbreviation:"WA"},{name:"WEST VIRGINIA",abbreviation:"WV"},{name:"WISCONSIN",abbreviation:"WI"},{name:"WYOMING",abbreviation:"WY"}];
VW.strings.packageBio=[{numOfPackages:1,copy:"And if that wasn't enough, this {{vehicle}} also comes equipped with "},{numOfPackages:2,copy:"And if having more is more your style, this {{vehicle}} also comes with "},{numOfPackages:3,copy:"And to top it all off, this {{vehicle}} also comes with "},{numOfPackages:4,copy:"Bells, whistles and then some, this {{vehicle}} comes loaded with "}];
$(document).ready(function(){VW.lightbox=function(a){var b={defaults:{css:{},elms:$(".tile"),type:"featureTile",addAccentClass:true,fullWidth:false,isFixed:false,closeButtonImage:"closeButton.png",closeButtonImageHover:"closeButtonHover.png",closeButtonStyles:{},retainPageScroll:true,keyboardContentUpdate:false,showNav:false},options:{},init:function(){$.extend(this.options,this.defaults,a);
if(!$("#lightboxPageOverlay").length){$("body").append($("<div>",{id:"lightboxPageOverlay"}))
}if(!$("#lightboxContent").length){$("body").append($("<div>",{id:"lightboxContent"}))
}this.contentDiv=$("#lightboxContent");
this.pageOverlay=$("#lightboxPageOverlay");
if(!$("#lightboxContentInner").length){this.contentDiv.append($("<div>",{id:"lightboxContentInner"})).append($("<div>",{id:"closeLightbox"}))
}this.closeBtn=$("#closeLightbox");
this.contentInnerDiv=$("#lightboxContentInner");
this.options.elms.on("click",$.proxy(b.openLightbox,this));
return this
},openLightbox:function(h,j){var c=null;
if(h){h.preventDefault();
c=$(h.currentTarget)
}else{if(j){c=j
}}var n=$(document).height()>$(window).height()?"fakeScroll":"noScroll";
var f=$("body");
var m=f.scrollTop()||$("html").scrollTop();
f.addClass(n);
if(this.options.isFixed&&this.options.retainPageScroll){if(m){f.css("top",-m)
}this.options.scrollTop=m||""
}if(this.options.closeButtonImageHover){var g=new Image();
g.src=VW.matchmaker.config.clientLibAssetPath+"img/components/lightBox/"+this.options.closeButtonImageHover
}this.generateContent(c);
this.contentDiv.removeAttr("style").css(this.options.css);
var k="url("+VW.matchmaker.config.clientLibAssetPath+"img/components/lightBox/"+this.options.closeButtonImage+")";
this.closeBtn.removeAttr("style").css(this.options.closeButtonStyles).css("background-image",k);
if(!_.isUndefined(this.options.beforeOpen)){this.options.beforeOpen.call(this,c)
}if(this.options.closeButtonImageHover){var d="url("+VW.matchmaker.config.clientLibAssetPath+"img/components/lightBox/"+this.options.closeButtonImageHover+")";
this.closeBtn.on({mouseover:function(){$(this).css("background-image",d)
},mouseleave:function(){$(this).css("background-image",k)
}})
}if(this.options.isFixed){this.contentDiv.css({position:"fixed",top:0})
}else{this.reposition()
}if(this.options.fullWidth){this.contentDiv.css({width:"100%",height:"100%"})
}if(this.options.showNav){this.resizeLightbox();
$(window).on("resize",this.resizeLightbox)
}VW.radio("lightbox:open").broadcast({triggerElement:c,data:c.data()});
this.pageOverlay.fadeIn(300);
var l=false;
this.contentDiv.add("#lightboxContentInner .fixedWrapper").css({top:window.innerHeight,display:"block"}).animate({top:0},$.proxy(function(){if(!l){l=true
}else{return false
}if(!this.options.isFixed){$(window).on("resize",this.reposition)
}this.closeBtn.off("click").on("click",$.proxy(this.closeLightbox,this));
if(!_.isUndefined(this.options.afterOpen)){this.options.afterOpen.call(this,c)
}$(window).on("keydown",$.proxy(function(o){if(o.keyCode===27){if(this.contentDiv.find("#closeLightbox").is(":visible")){this.closeLightbox()
}}if(this.options.keyboardContentUpdate){if(o.keyCode===37&&c.prev().length){c=c.prev();
VW.radio("lightbox:open").broadcast({triggerElement:c,data:c.data()});
this.generateContent(c);
if(this.options.type=="featureTile"){VW.utilities.keepLightboxImageDimensions()
}}if(o.keyCode===39&&c.next().length){c=c.next();
VW.radio("lightbox:open").broadcast({triggerElement:c,data:c.data()});
this.generateContent(c);
if(this.options.type=="featureTile"){VW.utilities.keepLightboxImageDimensions()
}}}},this))
},this))
},closeLightbox:function(c){this.closeBtn.off("mouseover").off("mouseleave").off("click");
this.contentDiv.find(".nav").off("click");
VW.radio("lightbox:close").broadcast({triggerElement:this.options.elms});
var f=false;
this.contentDiv.add("#lightboxContentInner .fixedWrapper").animate({top:window.innerHeight},300,function(){if(!f){f=true
}else{return false
}b.contentDiv.removeAttr("style");
b.contentInnerDiv.empty();
if(!_.isUndefined(b.options.afterClose)){b.options.afterClose.call(b)
}});
this.pageOverlay.fadeOut(500,function(){b.pageOverlay.removeAttr("style")
});
$(window).off("resize",b.reposition).off("resize",b.resizeLightbox);
$(window).off("keydown");
var d=$("body");
d.removeClass("noScroll").removeClass("fakeScroll").css("top","");
if(this.options.isFixed&&this.options.retainPageScroll&&this.options.scrollTop){$("html,body").scrollTop(this.options.scrollTop);
this.options.scrollTop=null
}if(c){c.preventDefault()
}return false
},generateContent:function(l){this.contentDiv.find(".nav").off("click");
this.contentInnerDiv.empty();
var h="";
switch(this.options.type){case"featureTile":var f=l.find(".lightboxInfo");
if(!f.length){f=l.next()
}h=f.html();
this.contentInnerDiv.append(h);
var j=b.contentInnerDiv.find(".lightboxInfoImage");
if(f.data("image")){j.css({"background-image":"url("+f.data("image")+")","background-position":"center center","background-repeat":"no-repeat"})
}else{if(f.data("youtubeid")){j.youTubeEmbed({video:"http://www.youtube.com/watch?v="+f.data("youtubeid"),progressBar:true})
}}if(f.data("youtubeid")){var d=$("<div/>").addClass("cta-container sharedButton bigBlue watch").text("Watch Video").click(function(){b.contentInnerDiv.empty().removeClass("displayTable").addClass("youtubeEmbed").youTubeEmbed({video:"http://www.youtube.com/watch?v="+f.data("youtubeid"),progressBar:true,autoplay:true})
});
j.append(d)
}this.addNavigation(j,l);
break;
case"html":if(!_.isUndefined(this.options.html)){this.contentInnerDiv.append(this.options.html)
}else{this.contentInnerDiv.append($(l.data("html")).html())
}break;
case"modelChange":this.contentInnerDiv.html(Mustache.to_html(VW.matchmaker.main.templates.modelChangeLightbox));
$("#changeModelsConfirmBtn").click(function(m){m.preventDefault();
VW.radio("matchmaker:confirmLastModelFilterRemoval").broadcast();
b.closeLightbox()
});
break;
case"hiddenDivContent":var k=this.options.elms.attr("id");
this.contentInnerDiv.html($("."+k).html());
VW.utilities.activateTabs(this.contentInnerDiv);
break;
case"fullSpecs":var c=this.options.elms.data("model-code-key"),g=this;
$.ajax({url:"/content/vwcom/en/car-profile.fullspecs."+c+".html",type:"get",data:{},success:function(m){g.contentInnerDiv.html($.parseHTML(m));
g.contentInnerDiv.find("p.center").remove();
if(!_.isUndefined(g.options.afterDataReceived)){g.options.afterDataReceived.call(g)
}},fail:function(){alert("AJAX FAIL")
}});
break
}if(this.options.addAccentClass){this.contentDiv.addClass("bgAccent fgAccent")
}else{this.contentDiv.removeClass("bgAccent fgAccent")
}return this
},addNavigation:function(c,d){if(d.parents(".matchmakerConfigurator").length){return
}c.append('<div class="nav prev">Prev</div><div class="nav next">Next</div>');
if(!d.next().length){c.find(".next").addClass("hide")
}if(!d.prev().length){c.find(".prev").addClass("hide")
}this.bindNavEvents(d)
},reposition:function(){var c=($(window).width()-b.contentDiv.outerWidth(true))/2+$(window).scrollLeft();
var d=($(window).height()-b.contentDiv.outerHeight(true))/2+$(window).scrollTop();
c=c<0?0:c;
d=d<0?0:d;
b.contentDiv.css({left:c,top:d})
},resizeLightbox:function(){var c=$("#visibleNav").width();
b.pageOverlay.css({left:"auto",right:"0",width:"100%"}).width(b.pageOverlay.width()-c);
b.contentDiv.css({left:"auto",right:"0",width:"100%"}).width(b.contentDiv.width()-c);
if($("html").hasClass("mobileDevice")&&$("body").hasClass("vwModelProfile")){b.pageOverlay.css({left:"0",right:"0",width:"100%"});
b.contentDiv.css({left:"0",right:"0",width:"100%"})
}},bindNavEvents:function(c){this.contentDiv.find(".nav").on("click",$.proxy(function(f){var d=$(f.currentTarget);
if(d.hasClass("prev")&&c.prev().length){c=c.prev()
}else{if(d.hasClass("next")&&c.prev().next){c=c.next()
}else{return
}}VW.radio("lightbox:open").broadcast({triggerElement:c,data:c.data()});
this.generateContent(c);
if(this.options.type=="featureTile"){VW.utilities.keepLightboxImageDimensions()
}},this))
}};
return b.init()
}
});
$(document).ready(function(){var a=new VW.lightbox({elms:$(".socialShare"),addAccentClass:false,isFixed:true,fullWidth:true,type:"html",html:$(".socialShareLightboxContent").html(),showNav:true,afterOpen:function(){$(".socialIcon").hover(function(){$(this).css({background:"url('"+$(this).attr("data-icon-path")+"') bottom"})
},function(){$(this).css({background:"url('"+$(this).attr("data-icon-path")+"')"})
});
$(".socialIcon").on("click",function(){var d=$(this);
var f=[];
f.push($(this).attr("data-target-url"));
f.push(encodeURIComponent(window.location.href));
switch(true){case d.hasClass("facebook"):if(!_.isUndefined(window.vehicle)&&$("body").hasClass("vwModelProfile")){f=[];
f.push("https://www.facebook.com/dialog/feed?");
var b=$('meta[property="og:description"]').attr("content")||$('meta[name="description]').attr("content")||$('meta[property="og:title"]').attr("content")||$('meta[name="title]').attr("content");
var c={app_id:VW.facebookAppId,picture:vehicle.mediaImageUrl,link:window.location.href,description:_.isUndefined(b)?"":b,redirect_uri:"http://www.vw.com"};
f.push($.param(c))
}break;
case d.hasClass("twitter"):if($('meta[property="vw:tweet"]').length){f.push("&text="+encodeURIComponent($('meta[property="vw:tweet"]').attr("content")))
}break;
case d.hasClass("email"):f=[];
f.push($(this).attr("data-target-url"));
f.push(encodeURIComponent($('meta[property="vw:email:message"]').attr("content"))+" "+window.location.href);
f.push("&subject="+encodeURIComponent($('meta[property="vw:email:subject"]').attr("content")));
window.open(f.join(""),"_self");
return;
case d.hasClass("google"):break;
case d.hasClass("pinterest"):if($('meta[property="og:image"]').length){f.push("&media="+$('meta[property="og:image"]').attr("content"))
}if($('meta[property="og:description"]').length){f.push("&description="+encodeURIComponent($('meta[property="og:description"]').attr("content")))
}break
}window.open(f.join(""))
})
},afterClose:function(){$(".socialIcon").off("click")
}})
});
VW.DownloadFile=Class.extend({defaults:{targetSelector:"[data-file-download]",event:"click",dataSourceAttr:"file-download",radioTopic:"fileDownload",fileDownloadBasePath:"/download.php"},init:function(a){if(_.isUndefined(a)){a={}
}this.options=_.defaults(a,this.defaults);
$(document).on(this.options.event,this.options.targetSelector,$.proxy(this.handleDownload,this))
},handleDownload:function(b){b.preventDefault();
b.stopPropagation();
b.radioTopic=this.options.radioTopic;
window.VW.radio(b.radioTopic).broadcast(b);
var a=this.options.fileDownloadBasePath+"?file=";
a+=$(b.currentTarget).data(this.options.dataSourceAttr);
if(VW.utilities.isOnMobileDevice()){window.open(a)
}else{if(!_.isUndefined(this.$iframe)&&this.$iframe.length){this.$iframe.remove()
}this.$iframe=$('<iframe style="display:none;height:1px;width:1px;"></iframe>');
this.$iframe.attr("src",a);
$("body").append(this.$iframe)
}}});
$(document).ready(function(){window.VW.downloadFiles=new VW.DownloadFile()
});
(function(b){(jQuery.browser=jQuery.browser||{}).mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4))
})(navigator.userAgent||navigator.vendor||window.opera);
$(document).ready(function(){VW.radio("contact:openForm").subscribe([k,this]);
VW.radio("scheduleForm:close").subscribe([j,this]);
if(jQuery.browser.mobile&&$("body").hasClass("vwModelProfile")){$("html").addClass("mobileDevice");
if(VW.utilities.areWeOnAndroid()){$("meta[name=viewport]").attr("content","user-scalable=yes,width=673,initial-scale=0.5,maximum-scale=1.0")
}else{$("meta[name=viewport]").attr("content","user-scalable=yes,width=673,initial-scale=0.45,maximum-scale=1.0")
}setTimeout(function(){$("div[data-tab=Finance], div[data-tab=Lease]").removeClass("selected")
},2000)
}var l="Enter a valid zip";
var h="Enter your zip";
var f=false;
var m=false;
var c=function(){if(m){VW.radio("location:openLocationOverlay").broadcast(function(){$("#lightboxContent").find(".js-locationInput").val("Invalid ZIP entered");
$("#lightboxContentInner").find(".locationChange").removeClass("confirm").addClass("invalid")
})
}};
function n(){VW.store.set("userLocationIsReallyConfirmed","yes");
VW.radio("location:confirmedByUser").broadcast();
f=false;
VW.radio("location:validZip").unsubscribe(n)
}VW.radio("location:invalidZip").subscribe(function(){m=true
});
VW.radio("location:validZip").subscribe(function(){m=false
});
$.get(VW.matchmaker.config.cqClientLibAssetPath+"templates/zipChangeLightbox.tpl",function(o){VW.locationLightbox=new VW.lightbox({elms:$(".js-locationChange"),type:"html",html:o,fullWidth:true,isFixed:true,addAccentClass:false,showNav:true,beforeOpen:function(){if(f){$("#closeLightbox").hide()
}},afterOpen:function(){var q=this,r=this.contentDiv.find(".locationChange"),s=r.find(".js-locationInput"),p=s.val()===l?l:(VW.location.currentLocation()?VW.location.currentLocation():l);
if(f&&!r.hasClass("invalid")){r.addClass("confirm");
s.val(h)
}else{if(!r.hasClass("invalid")){s.val(p)
}}s.click(function(){r.removeClass("confirm invalid");
$(this).val("")
});
$(".js-submitLocationChange").off("click").on("click",function(){d(q,$(this));
setTimeout(function(){$(window).scrollLeft(0)
},500)
});
s.on("keypress",function(t){if(t.keyCode>31&&(t.keyCode<48||t.keyCode>57)){return false
}});
$(document).on("keyup",g);
$(".js-setDefaultLocation").off("click").on("click",function(t){t.preventDefault();
VW.location.detectLocation(function(u){r.removeClass("confirm invalid");
s.val(u)
})
});
$("#lightboxPageOverlay").removeClass("loading");
$("#closeLightbox").off("click",c).on("click",c)
},afterClose:function(){if(!VW.location.validateLocation(VW.location.currentLocation())){VW.location.setLocation("20171")
}$(".js-submitLocationChange").off("click");
$(document).off("keyup",g);
$(".js-locationInput").off("keypress");
$(window).scrollLeft(0);
$("#closeLightbox").show()
}});
VW.radio("location:notConfirmedByUser").subscribe(function(){setTimeout(function(){f=true;
VW.locationLightbox.openLightbox(false,$(".js-locationChange"))
},300)
});
VW.radio("location:lightboxReady").broadcast();
VW.radio("location:openLocationOverlay").subscribe(function(p){setTimeout(function(){VW.locationLightbox.openLightbox(false,$(".js-locationChange"));
if(p){p()
}},300)
})
});
function g(o){if(o.keyCode==13){d(VW.locationLightbox,$(".js-submitLocationChange"))
}}function d(q,p){var o=p.parent().find(".js-locationInput");
var s=o.val(),r=$("#lightboxContentInner").find(".locationChange");
if(s!=VW.location.currentLocation()){if(VW.location.validateLocation(s)){r.removeClass("confirm invalid");
VW.location.setLocation(s,true);
if(f){VW.radio("location:validZip").unsubscribe(n).subscribe(n)
}q.closeLightbox()
}else{r.removeClass("confirm").addClass("invalid");
o.val(l);
VW.radio("zip:invalid").broadcast({data:s})
}}else{if(m){r.removeClass("confirm").addClass("invalid");
o.val(l)
}else{if(f){VW.store.set("userLocationIsReallyConfirmed","yes");
f=false;
VW.radio("location:confirmedByUser").broadcast()
}else{if(p.hasClass("js-submitLocationChange")){VW.store.set("userLocationIsReallyConfirmed","yes")
}}VW.locationLightbox.closeLightbox()
}}}$(".vwLazy").filter(function(o){return $($(".vwLazy")[o]).parents(".distributedMatchmakerWrapper").length===0
}).lazyload({effect:"fadeIn",skip_invisible:false});
VW.radio("distributedMatchmaker:opened").subscribe(function(){$(".distributedMatchmakerWrapper").find(".vwLazy").lazyload({effect:"fadeIn",skip_invisible:false})
});
$("[data-scroll-to]").on("click",function(q){q.preventDefault();
var p=$(this);
var o=0;
if(p.data("radio")){VW.radio(p.data("radio")).broadcast()
}if(!p.data("no-header")){o=$(".headerBar").height()-10
}$("html,body").animate({scrollTop:$($(this).data("scroll-to")).offset().top-o},1000,function(){if(p.data("then-click")){$(p.data("scroll-to")+" "+p.data("then-click")).click()
}})
});
$("#mainWrapper").delegate(".js-favoriteCar","click",function(s){s.preventDefault();
var p=$(s.currentTarget);
var q=p.attr("data-vin"),r=null;
if(!q){return
}var o=VW.store.get("favorites")||"";
if(VW.utilities.isVINinFavorites(q)){o=o.replace(q+";","");
p.removeClass("favorited");
r=false
}else{o+=q+";";
VW.utilities.updateFavoritesWithVIN(q);
p.addClass("favorited");
r=true
}VW.radio("globalData:favoriteChange").broadcast({vin:q,isAdded:r});
VW.store.set("favorites",o)
});
$(".expand").on("click",function(q){q.preventDefault();
var p=$(this);
if(p.hasClass("accordion-toggle")){var o=p.parent(".accordion-heading").siblings(".accordion-body")
}else{var o=p.next()
}if(o.hasClass("expanded")){o.slideUp("medium","swing",function(){o.toggleClass("expanded");
p.toggleClass("expanded")
})
}else{o.slideDown("medium","swing",function(){o.toggleClass("expanded");
p.toggleClass("expanded");
VW.utilities.initStickyHeaders();
radio("changeTab").subscribe(function(){if(_.isElement($(".fullSpecs")[0])){VW.utilities.scrollToDiv(".fullSpecs",VW.utilities.initStickyHeaders())
}})
})
}});
$(".specsWrapper .print").on("click",function(o){o.preventDefault();
var p=$(o.currentTarget).data("print-class");
$("html").addClass(p);
$(window).on("click keydown",function(){$("html").removeClass(p);
$(window).off("click keydown")
});
window.print()
});
_.each($(".col.desc.centered"),function(p,o,q){console.log($($(".col.desc")[o]).height());
$($(".col.header")[o]).css({height:$($(".col.desc")[o]).height()})
});
function a(o){return $targetHeight=o.find(".quickViewWindowBackground").outerHeight()
}function k(u,t,w){var C,s=$(u),q=s.children(".quickViewOpenPointer"),r=s.children(".quickViewWindowWrapper"),D=r.children(".quickViewWindowBackground"),B=$(t);
var A=function(E){if(B.parent(".contactButtons").length){var F=E.offset().top-E.height();
$("html, body").animate({scrollTop:F},300)
}};
var z=function(E,F){var G=E.parents(".row").offset();
var H=(E.offset().left-G.left)+(E.width()/2)-(F.width()/2);
if(!_.isUndefined(w)){H-=w
}F.css({left:H})
};
if(C){return
}if(!s.length||!q.length||!r.length||!D.length){}C=true;
var v=r.parents(".contactContainer").siblings(".visible"),y=v.length>0,p=v.siblings(".quickViewOpenPointer"),x=v.children(".quickViewWindowWrapper"),o=x.children(".quickViewWindowBackground");
if(B.parent(".contactButtons").length){q=s.siblings(".quickViewOpenPointer")
}if(y){s.addClass("visible");
r.slideDown();
D.slideDown(function(){r.removeClass("hide");
var E=B.parents(".row").offset();
var F=(B.offset().left-E.left)+(B.width()/2)-(q.width()/2);
if(!_.isUndefined(w)){F-=w
}q.css({left:F});
C=false
});
v.removeClass("visible");
o.slideUp();
x.slideUp("fast",function(){$(this).off("click","a.close");
x.addClass("hide");
C=false
})
}else{if(!r.hasClass("hide")){q.attr("style","");
D.slideUp("fast");
r.slideUp("fast",function(){$(this).off("click","a.close");
r.addClass("hide");
C=false
})
}else{r.slideDown();
s.addClass("visible");
D.slideDown(function(){r.removeClass("hide");
var E=B.parents(".row").offset();
var F=(B.offset().left-E.left)+(B.width()/2)-(q.width()/2);
if(!_.isUndefined(w)){F-=w
}q.css({left:F});
$(this).on("click","a.close",function(G){B.trigger("click")
});
A(s)
});
C=false
}}}function j(u,t,w){var D,s=$(u),p=s.parent(".formContainer"),r=s.children(".quickViewWindowWrapper"),E=r.children(".quickViewWindowBackground"),q=p.siblings(".quickViewOpenPointer"),B=$(t),v=s.siblings(".visible"),x=v.length>0,o=p.siblings(".quickViewOpenPointer"),C=s.hasClass("visible"),z;
var A=function(F){if(B.parent(".contactButtons").length){$("html, body").animate({scrollTop:F.find(".quickViewWindowBackground").offset().top-$(".headerBar").height()},500)
}};
D=true;
if(!x&&!C){$(".dealerComm").removeClass("closed");
s.addClass("opened");
s.slideDown().addClass("visible");
r.parents(".contactContainer").css("height",600);
r.add(E).slideDown(function(){r.css("height",a(s));
r.removeClass("hide");
r.parents(".contactContainer").css("height",a(s));
var F=B.parents(".row").offset();
var G=(B.offset().left-F.left)+(B.width()/2);
if(!_.isUndefined(w)){G-=w
}q.css({left:G});
A(s);
VW.radio("contact:contactFormSetup").broadcast();
D=false
})
}else{$(this).on("click","a.close",function(F){B.trigger("click")
});
if(C){p.css("background","transparent");
$(".dealerComm").addClass("closed");
s.removeClass("opened");
r.slideUp();
q.attr("style","");
s.slideDown().removeClass("visible");
E.slideUp(function(){r.removeClass("hide");
D=false;
r.parents(".contactContainer").height(0);
s.find(".pane").addClass("hide").hide();
$(s.find(".pane")[0]).removeClass("hide").show()
})
}else{s.siblings().removeClass("opened").removeClass("visible");
s.show().addClass("opened").addClass("visible");
function y(){r.removeClass("hide");
r.css("display","block");
r.css("height",a(s));
r.parents(".contactContainer").css("height",a(s));
var F=B.parents(".row").offset();
var G=(B.offset().left-F.left)+(B.width()/2)-(q.width()/2);
q.css({left:G});
v.children(".quickViewWindowWrapper").css("display","none");
v.children(".quickViewWindowBackground").css("display","none");
v.css("display","none").removeClass("visible");
D=false
}E.css("display","block");
setTimeout(y,100)
}}}$(".rowOfButtons .contactContainer .closeWindow").on("click","a.button",function(s){s.preventDefault();
s.stopPropagation();
var q=$(s.currentTarget).parents(".pane3"),r=q.siblings(".pane1"),o=$(s.currentTarget).parents(".contactContainer.visible"),p=o.find(".quickViewWindowWrapper");
j(o,s.currentTarget,30);
$(s.currentTarget).parents(".contactContainer").find(".quickViewOpenPointer").attr("style","")
});
$(".rowOfButtons .contactButtons").on("click","a.button",function(r){r.preventDefault();
r.stopPropagation();
if($(r.currentTarget).parent().hasClass("disabled")){VW.radio("forms:showTestDriveAlert").broadcast()
}else{var s=$(r.currentTarget).data("target").replace(".formContainer .",""),o;
if(s=="saveToPhone"){o=VW.forms.myForms.sendToPhone
}else{if(s=="schedule"){o=VW.forms.myForms.scheduleTestDrive
}else{if(s=="getQuote"){o=VW.forms.myForms.getQuote;
o.updateDefaultMessage($(".getQuote.contactContainer"),o)
}else{o=VW.forms.myForms.contactDealer
}}}var p=$("."+s).hasClass("opened")?true:false;
if(!p){var q={formName:o.options.formValues.formName,step:"form opened",clickedElement:$(r.currentTarget)};
VW.radio("form:stepChange").broadcast(q)
}j($(r.currentTarget).data("target"),r.currentTarget,30)
}});
$(".rowOfButtons .contactContainer").on("click","a.close",function(o){o.preventDefault();
o.stopPropagation();
j($(o.currentTarget).data("target"),o.currentTarget,30)
});
$(".rowOfButtons .closeWindow").off("click").on("click","a",function(o){o.preventDefault();
o.stopPropagation();
j($(o.currentTarget).parents(".contactContainer"),o.currentTarget,30)
});
$(".rowOfButtons .contactContainer").off("click").on("click","a.close",function(o){o.preventDefault();
o.stopPropagation();
j($(o.currentTarget).parents(".contactContainer"),o.currentTarget,30)
});
$(".carefreeMaintenance .endButton").on("click","a.button",function(o){o.preventDefault();
o.stopPropagation();
k($(o.currentTarget).data("target"),o.currentTarget,10);
VW.utilities.activateTabs($(".carefreeMaintenanceDetails"))
});
$(".contact-right").on("click","#email-owners",function(o){o.preventDefault();
o.stopPropagation();
j($(o.currentTarget).data("target"),o.currentTarget,30)
});
$(window).on("scroll",b);
function b(){$(".arrowHolder").fadeOut(500,function(){$(window).off("scroll",b);
$(this).remove()
})
}$(".arrowHolder").on("click",function(){$("html,body").animate({scrollTop:$(window).height()},500)
})
});
$(document).ready(function(){VW.radio("paymentEstimator:initForm").subscribe(function(a,c){VW.forms.myForms.getQuote=new VW.forms.getQuote({form:$(".getQuote.contactContainer"),formValues:{formName:"Get a Quote",modelName:a.model,zip:VW.location.currentLocation(),dealerId:VW.data.closestAORDealer().dealerid,trim:a.trimLevel?VW.utilities.removeHTMLentities(a.trimLevel):"",modelCode:a.addlField1?a.addlField1:"",requestType:"quote",sourceType:"vw",subType:"vw_inventory",year:a.year?a.year:""}});
$(".cta-container.getAQuote").off("click","a").on("click","a",function(g){var f=$(g.currentTarget).parent().siblings(".vwPage").find(".contactContainer"),d=VW.forms.myForms.getQuote;
d.options.formValues.formName="Payment Estimator - Get a Quote";
VW.forms.myForms.getQuote.toggleFormOpen(g,d);
if(!f.find(".quickViewWindowWrapper").hasClass("opened")){VW.forms.myForms.getQuote.updateDefaultMessage(f,d)
}});
$(".getQuote .continue").off("click","a.button").on("click","a.button",function(f){f.preventDefault();
f.stopPropagation();
var d=VW.forms.myForms.getQuote;
VW.forms.myForms.getQuote.nextPane(f,d)
});
$(".getQuote").off("click").on("click","a.close",function(d){d.preventDefault();
d.stopPropagation();
VW.forms.myForms.getQuote.toggleFormOpen(d)
});
$(".getQuote .closeWindow").off("click").on("click","a",function(d){d.preventDefault();
d.stopPropagation();
VW.forms.myForms.getQuote.toggleFormOpen(d)
});
var b=$('input[type="submit"]');
$(".getQuote .submit").off("click","input").on("click","input",function(h){var d=VW.forms.myForms.getQuote,g=d.validate($(h.currentTarget)),f=$(".getQuote");
if(b.hasClass("disabled")){return
}if(g){d.submit(function(){var k=f.find(".pane2"),j=f.find(".contactSuccess");
d.successErrorScreen(k,j);
VW.forms.myForms.getQuote.updateSuccessPane($(".getQuote"),d);
var l={formName:d.options.formValues.formName,step:"submit clicked"};
VW.radio("form:stepChange").broadcast(l);
b.removeClass("disabled")
},function(){var k=$(h.currentTarget).parents(".pane"),j=f.find(".contactError");
d.successErrorScreen(k,j);
VW.forms.myForms.getQuote.updateSuccessPane($(".getQuote"),d);
b.removeClass("disabled")
})
}})
})
});
_.extend(VW.utilities,{selectMe:function(a){a.addClass("selected").siblings().removeClass("selected")
},isEven:function(a){return(a%2==0)
},showMe:function(a,b){VW.runIfModern({rule:"csstransitions",yes:function(){if(!_.isUndefined(a.css("transition-duration"))&&parseFloat(a.css("transition-duration"))>0){if(a.hasClass("in")){a.removeClass("in");
a.on("transitionend webkitTransitionEnd",function(c){c.stopPropagation();
a.addClass("hide").filter(b).removeClass("hide").delay(100).queue(function(d){$(this).addClass("in");
a.off("transitionend webkitTransitionEnd");
d()
})
})
}else{a.filter(b).removeClass("hide").delay(100).queue(function(c){$(this).addClass("in");
c()
})
}}else{a.addClass("hide").filter(b).removeClass("hide").addClass("in")
}},no:function(){a.addClass("hide").filter(b).removeClass("hide").addClass("in")
}})
},replaceConfig:function(b,a){_.each(b,function(d,c){if(!_.isUndefined(a[c])){b[c]=a[c]
}},this);
return b
},escapeRegExp:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\.\\\^\$\|]/g,"\\$&")
},replaceAll:function(c,b,a){return a.replace(new RegExp(this.escapeRegExp(c),"g"),b)
},generateFriendlyNames:function(f,d){for(var c=0,a=d.length;
c<a;
c++){var b=c===0?' class="active"':"";
f.append("<span"+b+' style="width:'+f.width()/a+"px;height:"+225/(a-1)+'px;">'+d[c]+"</span>")
}},areWeOnTablet:function(){return(this.isOnTabletWidth()||this.tabletIsInPortraitMode())
},areWeOnAndroid:function(){return(navigator.userAgent.indexOf("Android")!=-1)
},getNumColumns:function(){if(this.areWeOnTablet()){return 3
}return 4
},isOnTabletWidth:function(){return($(window).width()<1024)
},checkCSSModeBasedOnWindowWidth:function(){var b="",a=$(window).width();
if(a<1024){b="tablet"
}else{if(a<1280){b="desktop"
}else{b="widescreen"
}}return b
},makeId:function(){var c="";
var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
for(var b=0;
b<5;
b++){c+=a.charAt(Math.floor(Math.random()*a.length))
}return c
},tabletIsInPortraitMode:function(){return(window.orientation==0||window.orientation==180)
},isOnMobileDevice:function(){return(/android|webos|iphone|ipad|ipod|blackberry/i.test(navigator.userAgent.toLowerCase()))
},getSubType:function(){var c="vw_vehicle profile page";
var b={vwDealerFinder:"vw_find a dealer_list view",vwDealerDetail:"vw_find a dealer_dealer profile",vwModelProfile:"vw_vehicle profile page",vwSpecialOfferPage:"vw_special offers",vwModelBucket:"vw_model bucket page",vwModelBucketFutureGolf:"vw_model bucket page",vwHome:"vw_homepage"};
if($(".financialServicesPaymentEstimatorWrapper").length){c="vw_payment estimator"
}else{if($("#vehicleProtectionAdvisor").length){c="vw_financial services"
}else{for(var a in b){if($("body").hasClass(a)){c=b[a]
}}}}return c
},setElmWidthBasedOnChildrenWidth:function(a){a=$(a);
a.css("width",a.children().outerWidth(true)*a.children().length)
},activateTabs:function(a,f){var c=this;
var d=a.find(".tabbedNav").find("a");
var b=a.find(".tabbedContent");
d.off("click").on("click",function(h){if(this.className!="printMe"){h.preventDefault();
if(this.className!="active"&&this.className!="close"){c.destroyStickyHeaders();
var g=$(this).parent("li").index();
d.removeClass("active");
a.find(".tabbedNav").each(function(){$(this).find("a:eq("+g+")").addClass("active")
});
b.find(".tabbedContentItem").addClass("hide");
b.find(".tabbedContentItem:eq("+g+")").removeClass("hide");
radio("changeTab").broadcast()
}}});
if(!f){f=d.filter(".active").parent().index()
}if(f<0){f=0
}$(d[f]).removeClass("active").click()
},activateDropdown:function(h,g){var d=$(h);
var a=d.find("ul");
var c=a.find("li");
var f=this;
d.click(function(k){k.stopPropagation();
var l=$(this),j=l.find("ul");
if(!l.hasClass("open")){l.addClass("open");
j.removeClass("hide");
f.checkInView(l,j);
setTimeout(function(){$(document).off("click",b).on("click",b)
},10)
}else{l.removeClass("open");
j.addClass("hide");
$(document).off("click",b)
}});
c.click(function(j){$selectedValue=$(this).parents(".textboxWrapper").find("p");
$selectedValue.html($(j.currentTarget).html());
if(g){g(j)
}});
function b(){d.removeClass("open");
a.addClass("hide");
$(document).off("click",b)
}},checkInView:function(b,d){var g=$(b).parents(".contactTextbox").length?g=$(b).parents(".contactTextbox").offset().top:$(b).offset().top,h=$(d).offset().top,c=$(d).height(),f=$(window).scrollTop(),a=f+$(window).height();
if((h+c)>a){g=$(".pageNavBar")?g-$(".pageNavBar").height()-10:g;
$("html, body").animate({scrollTop:g},300)
}},scrollToDiv:function(c,b){b=function(){}||b;
var a=this;
$("body").animate({scrollTop:$(c).offset().top},"400","swing",b)
},initStickyHeaders:function(){this.stickyHeaders=$("#lightboxContentInner").find(".tabbedContentItem").stickem({offset:80,scrollContainer:$("#lightboxContentInner")})
},destroyStickyHeaders:function(){if(!_.isUndefined(this.stickyHeaders)&&!_.isUndefined(this.stickyTabs)){this.stickyHeaders.destroy();
this.stickyTabs.destroy()
}},formatOutputValue:function(c,b){function a(d){d=parseInt(d);
if(d>=1000){d=d.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")
}return d
}if(_.isUndefined(c)){return c
}switch(b){case"mi":c=a(c)+" mi";
break;
case"miles":c=a(c)+" miles";
break;
case"mi-mi":c=a(c[0])+"mi-"+a(c[1])+"mi";
break;
case"$":c="$"+a(c);
break;
case"$-$":c="$"+a(c[0])+"-$"+a(c[1]);
break;
case"-":c=c[0]+"-"+c[1];
break;
case"thousand":c=a(c);
break;
case"phone":c=c.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3");
break;
case"mo":c=c+" mo.";
break;
case"%":c=c.toFixed(2)+"%";
break;
case"normal":default:c=c
}return c
},removeValueFromArray:function(c){var g,d=arguments,b=d.length,f;
while(b>1&&c.length){g=d[--b];
while((f=c.indexOf(g))!==-1){c.splice(f,1)
}}return c
},getScrollXY:function(){var a=0,b=0;
if(typeof(window.pageYOffset)=="number"){a=window.pageXOffset;
b=window.pageYOffset
}else{if(document.body&&(document.body.scrollLeft||document.body.scrollTop)){a=document.body.scrollLeft;
b=document.body.scrollTop
}else{if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)){a=document.documentElement.scrollLeft;
b=document.documentElement.scrollTop
}}}return[a,b]
},getNumTiles:function(){if(!VW.matchmaker.isNew){return VW.matchmaker.main.dataController.get("inventory").length
}else{return VW.matchmaker.main.dataController.getFilteredCollection().length
}},convertToTitleCase:function(a){return a.replace(/\w\S*/g,function(b){return b.charAt(0).toUpperCase()+b.substr(1).toLowerCase()
})
},isIE:function(){var c=-1;
var a=navigator.userAgent;
var b=null;
if(navigator.appName=="Microsoft Internet Explorer"){b=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");
if(b.exec(a)!=null){c=parseFloat(RegExp.$1)
}}else{if(navigator.appName=="Netscape"){b=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})");
if(b.exec(a)!=null){c=parseFloat(RegExp.$1)
}}}return((c>-1)?c:false)
},initSimpleTabs:function(){var a=$(".simpleTabs"),b=$(".simpleTabsContents");
a.find("> li:eq(0)").addClass("selected");
b.find("> div:eq(0)").addClass("selected");
a.on("click","li a",function(c){VW.utilities.selectMe($(this).parent());
VW.utilities.selectMe(b.find('> div[data-tab="'+$(this).data("target")+'"]'));
c.preventDefault();
VW.radio("simpleTab:selected").broadcast()
})
},isVINinFavorites:function(b){if(!b){return false
}var a=VW.store.get("favorites")||"";
return a.indexOf(b+";")>-1
},isVINviewed:function(b){if(!b){return false
}var a=VW.store.get("viewed")||"";
return a.indexOf(b+";")>-1
},isVINinCompare:function(b){if(!b){return false
}var a=VW.store.get("compare")||"";
return a.indexOf(b)>-1
},isVINinCompareHistory:function(b){if(!b){return false
}var a=VW.store.get("compareHistory")||"";
return a.indexOf(b)>-1
},getActiveConfiguratorTab:function(){return $(".subMenu").find(".matchmakerSelection").filter(".selected").data("target")
},getUrlHashValue:function(f){if(!window.location.hash){return false
}var d=(window.location.hash.substring(0,2)=="#!")?window.location.hash.substring(2):window.location.hash(1);
var a=d.split("&");
for(var b=0;
b<a.length;
b++){var c=a[b].split("=");
if(decodeURIComponent(c[0])==f){return decodeURIComponent(c[1])
}}return false
},getUrlToParams:function(a){if(_.isEmpty(a)){return{}
}if(_.isNull(a.match(/\?([^#]*)/i))){return{}
}a=a.match(/\?([^#]*)/i)[1];
return _.object(_.map(a.split("&"),function(b){return b.split("=")
}))
},loadingScreen:function(b){var a=$("#loadingOverlay");
if(!a.length){$("body").append('<div id="loadingOverlay"></div>');
a=$("#loadingOverlay")
}if(b){a.fadeOut(function(){a.removeAttr("style")
})
}else{a.fadeIn()
}},isRetina:function(){return((window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 2dppx)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min--moz-device-pixel-ratio: 2), only screen and (min-device-pixel-ratio: 2)").matches))||(window.devicePixelRatio&&window.devicePixelRatio>2))&&/(iPad|iPhone|iPod)/g.test(navigator.userAgent)
},noWidows:function(b){var a=b.split(" ");
if(a.length>1){a[a.length-2]+="&nbsp;"+a[a.length-1];
a.pop();
a=a.join(" ")
}return a
},updateFavoritesWithVIN:function(a){$.getJSON(window.sdlBaseUrl+"/rest/action/views/pageViewAction?events=favorite_view:"+a+":"+VW.data.getLocation())
},areStringsAlphanumericValuesTheSame:function(a,b){return a.replace(/[^a-zA-Z0-9]/g,"").toLowerCase()===b.replace(/[^a-zA-Z0-9]/g,"").toLowerCase()
},matchmakerResultsVisible:function(){return $(".matchmakerResults").find(".results").is(":visible")
},keepLightboxImageDimensions:function(){var d=$(window).height(),a=$(window).width(),b=d/a,c=$("#lightboxContentInner");
if(b<1.2){c.removeClass("displayCell").addClass("displayTable");
c.find(".lightboxInfoImage").css({width:d,height:"auto"})
}else{c.removeClass("displayTable").addClass("displayCell");
c.find(".lightboxInfoImage").css({height:(d-a>=300?a:d-300),width:a})
}},getCropSize:function(h,d){d=d||{};
var a=VW.utilities.getUrlToParams(h.mediaImageUrl);
var c=_.first(h.mediaImageUrl.split("?"));
if(_.isEmpty(a)){console.warn("No mediaImageUrl found for modelkeycode: ",h.modelCodeKey);
return"/content/dam/vwcom/modelImages/silhouette/"+h.model.toLowerCase()+".jpg"
}if(_.isUndefined(a.pov)){console.warn("No POV found for this config: ",h)
}var g=_.findWhere(VW.strings.crops.extendedCrops,{modelName:h.model,angle:_.first(a.pov.split(","))});
var b=(_.isEmpty(g))?VW.strings.crops.defaultCrop:g.data;
var f=_.extend(d,a,b);
return c+"?"+$.param(f)
},extendIrisParams:function(f,d){var c=_.first(f.split("?"));
if(c.length==0){return f
}var a=VW.utilities.getUrlToParams(f);
var b=_.extend(a,d);
return c+"?"+decodeURIComponent($.param(b))
},warnAboutRemovingRequiredFeature:function(){if(!$("#filterUnavailableWarning").length){var b=$("#visibleNav").find(".find-a-match").attr("href");
var a=urlUtils.convertObjectToURLString(_.omit(_.clone(VW.matchmaker.main.dataController.currentFilters),"trim"));
if(a.length>2){b+=a
}$(".matchmakerConfigurator").append('<div id="filterUnavailableWarning"><div id="closeUnavailableWarning"></div><h2>Are you sure you<br />want to leave this page?</h2><p><a href="'+b+'">Yes, proceed</a></p></div>');
$("#closeUnavailableWarning").off("click").on("click",function(){$(this).off("click").parent().remove()
})
}},insertRemoveSpecialCharacterAfter:function(b,f,d,g){if(b.indexOf(g)>-1){if(d){var a=b.split(" ");
var c="";
_.each(a,function(j,h){if(h){c+=" "
}c+=j;
if(j===g){c+=f
}});
return c
}else{return b.replace(f,"")
}}else{return b
}},generateClassFriendlyName:function(a){if(_.isString(a)){return a.replace(/[^\w\s]/gi,"").replace(/[^\w]/gi,"-").toLowerCase()
}},stripNonAlphaNumeric:function(a){return a.replace(/\W/g,"")
},htmlEncode:function(a){return $("<div/>").text(a).html()
},htmlDecode:function(a){return $("<div/>").html(a).text()
},getNextBreakPoint:function(a){return _.find(VW.breakpoints,function(b){return b>(a*window.devicePixelRatio)
})||_.last(VW.breakpoints)
},initPaymentEstimator:function(){if(_.isFunction(window.finance)&&_.isFunction(window.lease)){window.sliderTabArray=[];
window.finance();
window.lease()
}else{console.warn("no payment estimator avail");
setTimeout(this.initPaymentEstimator(),800)
}},convertSymbolToUnicode:function(a){return a.replace("&reg;","\u00AE").replace("&copy;","\u00A9").replace("&trade;","\u2122")
},appendVinToComments:function(b,a){if(b.length<=974){return b+" "+a
}else{return b.substring(0,974)+" "+a
}},getProfilePagePath:function(){var a="";
if(!_.isUndefined(window.pagePath)){a=window.pagePath.indexOf("/content/vwcom")>-1?"/content/vwcom/en/car-profile.":"/car-profile."
}else{a="/content/vwcom/en/car-profile."
}return a
},isSlashInPagePath:function(){return window.pagePath.charAt(window.pagePath.length-1)==="/"
},removeHTMLentities:function(a){if(a){return a.replace(/&#{0,1}[a-z0-9]+;/ig,"")
}},create360ImageArray:function(g,h){var a=[],n="number",f=[],j=function(o){return[o.splice(0,Math.ceil(o.length/2)),o]
},m=function(o){return(o&&o.length&&typeof o[0]===n&&f.indexOf(o[0])<0)
},c=function(o){if(m(o)){f.push(o[0])
}},b=function(o){var p=[];
_.each(o,function(t,q){if(m(t)){c(t);
c(o[(o.length/2+q)])
}var r=Math.ceil(t.length/2);
var s=t.splice(0,r);
var u=t;
p.push(s);
p.push(u)
});
return p
},k=function(){var o=_.difference(a,f);
if(o.length){o=o[0]
}return typeof o===n?o:0
};
for(var d=1;
d<=g;
d++){a.push(d)
}if(h){a=_.union(a.splice(h-1),a)
}var l=j(_.clone(a));
while(f.length<g){if(f.length+1===g){f.push(k)
}else{l=b(l)
}}return f
},packageFormatter:function(a){if(_.isObject(a)){if(!_.isUndefined(a.packages)){if(a.packages.length==1){return("w/ "+_.first(a.packages).packageName+" Pkg")
}else{if(!a.packages.length){return("")
}else{return("w/ "+a.packages.length+" Packages")
}}}else{return""
}}},prependIris:function(a){var b="";
if(a.substring(0,6)=="/iris?"){b="/iris"
}return b+a
},changeUrlParameter:function(c,d){var a=c.split("?")[0];
var b=VW.utilities.getUrlToParams(c);
$.each(d,function(f,g){b[f]=d[f]
});
return a+"?"+$.param(b)
}});
$(document).ready(function(){VW.radio("contact:closeMatchContactFormSetup").subscribe([a,this]);
function a(b,f){var c=$(".results .contactContainer");
VW.forms.myForms.contactDealer=new VW.forms.contactDealer({form:c,formValues:{formName:"Matchmaker Close Match/Out of Stock - Contact Dealer",modelName:b.modelName,zip:VW.location.currentLocation(),dealerId:VW.data.closestAORDealer().dealerid,trim:VW.utilities.removeHTMLentities(b.trim),modelCode:b.modelCode,requestType:"contactDealer",sourceType:"vw",subType:"vw_inventory",year:b.modelYear}});
var d={formName:VW.forms.myForms.contactDealer.options.formValues.formName,step:"form opened",clickedElement:$(f.currentTarget)};
VW.radio("form:stepChange").broadcast(d,f);
c.find(".submit").off("click","input").on("click","input",function(k){k.preventDefault();
var g=VW.forms.myForms.contactDealer,j=g.validate($(k.currentTarget)),h=c;
if(j){g.submit(function(){var m=c.find(".pane"),l=c.find(".contactSuccess");
g.successErrorScreen(m,l);
VW.forms.myForms.contactDealer.updateSuccessPane(c,g);
var n={formName:g.options.formValues.formName,step:"submit clicked"};
VW.radio("form:stepChange").broadcast(n)
},function(){var m=$(k.currentTarget).parents(".pane"),l=h.find(".contactError");
g.successErrorScreen(m,l);
VW.forms.myForms.contactDealer.updateSuccessPane(c,g)
})
}});
c.find(".continue").off("click","a.button").on("click","a.button",function(h){h.preventDefault();
h.stopPropagation();
var g=VW.forms.myForms.contactDealer;
VW.forms.myForms.contactDealer.nextPane(h,g)
});
c.find(".closeWindow").off("click","a").on("click","a",function(g){g.preventDefault();
g.stopPropagation();
VW.radio("matchmaker:onContactClose").broadcast(g)
});
c.find(".actions").off("click","a.close").on("click","a.close",function(g){g.preventDefault();
g.stopPropagation();
VW.radio("matchmaker:onContactClose").broadcast(g)
})
}});
VW.mediaPlayer.views.baseView=Backbone.View.extend({events:{},changeItem:function(a){this.$el.find(".item").hide().removeClass("selected");
this.$el.find(".item").eq(a).show().addClass("selected")
},isCurrentView:function(){return this.$el.is(":visible")
},isFullscreen:function(){return this.$el.parents(".mediaPlayer").hasClass("fullScreenMode")
},mainView:function(){return VW.mediaPlayer.main
},makeId:function(){return VW.utilities.makeId()
}});
VW.mediaPlayer.views.ImageView=VW.mediaPlayer.views.baseView.extend({config:{minZoom:1,maxZoom:3,currentZoom:1,lastX:0,prevY:0,lastY:0,lastCurX:0,lastCurY:0,lastDir:null,moveFactor:1.5},events:{},initialize:function(a){this.mainViewConfig=a.config;
_.extend(this.config,a.config);
this.controls=this.$el.parents(".mediaPlayer").find(".controls");
_.each(this.$el.find(".item"),function(d,c,f){$(d).css("z-index",f.length-c)
});
VW.radio("mediaPlayer:resize").subscribe([this.onResize,this]);
VW.radio("mediaPlayer:forceResetPhotos").subscribe([this.forceResetPhotos,this]);
var b=$(this.$el.find(".item")).hammer();
b.on("swiperight",$.proxy(this.swipeRight,this));
b.on("swipeleft",$.proxy(this.swipeLeft,this));
b.on("doubletap",$.proxy(this.doubleTap,this));
b.on("pinch",$.proxy(this.pinch,this));
b.on("drag",$.proxy(this.drag,this));
b.on("dragend",$.proxy(this.dragEnd,this));
this.$el.addClass("initialized")
},finalizeLoading:function(){if($("body").hasClass("vwModelProfile")){return
}var a=$("img.loading",this.$el);
a.each(function(){var b=$(this);
if(!_.isUndefined(b.data("image"))){b.attr("src",b.data("image"))
}b.removeClass("loading")
})
},swipeRight:function(a){if(this.isCurrentView()&&this.config.currentZoom==this.config.minZoom){this.mainView().changeItem(this.$el,this.$el.find(".item.selected").index()-1,"swipe");
a.preventDefault()
}},swipeLeft:function(a){if(this.isCurrentView()&&this.config.currentZoom==this.config.minZoom){this.mainView().changeItem(this.$el,this.$el.find(".item.selected").index()+1,"swipe");
a.preventDefault()
}},doubleTap:function(b){if(this.isCurrentView()&&VW.utilities.isOnMobileDevice()&&this.isFullscreen()){var a=this.$el.find(".item.selected img");
if(this.config.currentZoom>this.config.minZoom){this.zoom(a,this.config.minZoom)
}else{this.zoom(a,this.config.maxZoom)
}}},zoom:function(a,b){this.config.currentZoom=b;
a.css({transform:"scale("+b+")",transition:"all 80ms ease","-moz-transform":"scale("+b+")","-moz-transition":"all 80ms ease","-o-transform":"scale("+b+")","-o-transition":"all 80ms ease","-webkit-transform":"scale("+b+")","-webkit-transition":"all 80ms ease"});
this.config.prevX=0;
this.config.lastX=0;
this.config.prevY=0;
this.config.lastY=0;
this.config.lastCurX=0;
this.config.lastCurY=0;
this.config.lastDir=null
},translate:function(c,b,a){c.css({transform:"scale("+this.config.currentZoom+") translate("+b+"px, "+a+"px)",transition:"all 50ms linear","-moz-transform":"scale("+this.config.currentZoom+") translate("+b+"px, "+a+"px)","-moz-transition":"all 50ms linear","-o-transform":"scale("+this.config.currentZoom+") translate("+b+"px, "+a+"px)","-o-transition":"all 50ms linear","-webkit-transform":"scale("+this.config.currentZoom+") translate("+b+"px, "+a+"px)","-webkit-transition":"all 50ms linear"})
},drag:function(g){if(this.isCurrentView()&&VW.utilities.isOnMobileDevice()&&this.isFullscreen()&&this.config.currentZoom>this.config.minZoom){var f=this.$el.find(".item.selected img");
var c=g.gesture.deltaX;
var a=g.gesture.deltaY;
var d=Math.abs(this.config.prevX-(this.config.lastX+c));
var b=Math.abs(this.config.prevY-(this.config.lastY+a));
this.config.prevX+=(c>this.config.lastCurX)?d:(d*-1);
this.config.prevY+=(a>this.config.lastCurY)?b:(b*-1);
this.config.lastCurX=c;
this.config.lastCurY=a;
this.translate(f,(this.config.prevX/(this.config.currentZoom/this.config.moveFactor)),(this.config.prevY/(this.config.currentZoom/this.config.moveFactor)));
g.gesture.preventDefault();
g.gesture.stopPropagation()
}},dragEnd:function(a){this.config.lastX=this.config.prevX;
this.config.lastY=this.config.prevY
},pinch:function(b){if(this.isCurrentView&&VW.utilities.isOnMobileDevice()&&this.isFullscreen()){var a=this.$el.find(".item.selected img");
this.config.currentZoom*=b.gesture.scale;
if(this.config.currentZoom<this.config.minZoom){this.config.currentZoom=this.config.minZoom
}if(this.config.currentZoom>this.config.maxZoom){this.config.currentZoom=this.config.maxZoom
}this.zoom(a,this.config.currentZoom)
}},onResize:function(c){if(c.isFullscreen){this.onResizeFullscreen(c);
return
}var b=this.$el.find(".item");
b.find("img").removeClass("imgIsNarrowerThanScreen imgIsWiderThanScreen").attr("style","");
var a=0;
if(c.windowWidth>1024){a=(-1*(((this.config.originalRatio*c.mediaPlayerWidth)-(this.config.widescreenRatio*c.mediaPlayerWidth))/2))
}b.find(".wrapper").css("top",a);
_.each(b.find(".wrapper"),function(f){var d=$(f).find(".caption");
d.attr("style","");
d.css("top",this.payload.mediaPlayerHeight-this.calcImgTop-d.height()-80+"px");
d.parent(".container").removeClass("makeRelative")
},{payload:c,self:this,calcImgTop:a})
},onResizeFullscreen:function(d){var a=this.$el.find(".item");
a.find(".wrapper").css("top","");
var c=this.$el.width()/this.$el.height();
var f=$(a[0]).find("img").height();
var b=$(a[0]).find("img").width();
_.each(a,function(h){var g=$(h).find("img");
if(c<this.self.mainViewConfig.naturalRatio){g.removeAttr("style").removeClass("imgIsNarrowerThanScreen").addClass("imgIsWiderThanScreen").css("margin-top",(this.self.$el.height()-f)/2)
}if(c>this.self.mainViewConfig.naturalRatio){g.removeAttr("style").removeClass("imgIsWiderThanScreen").addClass("imgIsNarrowerThanScreen");
g.height(this.self.$el.height()).width(this.self.$el.height()*this.self.mainViewConfig.naturalRatio)
}$caption=$(h).find(".caption");
$caption.attr("style","");
$caption.css({bottom:"40px",right:"40px"});
$caption.parent(".container").addClass("makeRelative")
},{payload:d,self:this,mediaPlayerAspectRatio:c})
},changeItem:function(a){var b=this.$el.find(".item").eq(a);
var c=b.find("img");
b.prevAll(".item").removeClass("selected rightHidden queue").addClass("leftHidden");
b.next(".item").nextAll(".item").removeClass("selected leftHidden queue").addClass("rightHidden");
b.next(".item").removeClass("selected rightHidden leftHidden").addClass("queue");
b.removeClass("rightHidden leftHidden queue").addClass("selected");
VW.radio("mediaPlayer:changeItem").broadcast()
},forceResetPhotos:function(){this.changeItem(0)
}});
VW.mediaPlayer.views.ThreeSixtyView=VW.mediaPlayer.views.baseView.extend({config:{currentVisibleImageIndex:0,previousImageBlock:0,threeSixtyWidth:3000,threeSixtyHeight:2250,interior:{isWebGl:false,baseImg:window.irisBaseUrl+"/iris/iris?vehicle=2014_162WR1_PF4_PMC_2013_06_30&paint=8E8E&fabric=QR",upperZoomLimit:55,lowerZoomLimit:35,lat:-15,lon:-180,onMouseDownLon:0,onMouseDownLat:0,phi:0,theta:0,angles:["&pov=centerpano,CGD&quality=90&HEIGHT=1000&WIDTH=1000&ANGLE=0&PITCH=0&HFOV=90","&pov=centerpano,CGD&quality=90&HEIGHT=1000&WIDTH=1000&ANGLE=90&PITCH=0&HFOV=90","&pov=centerpano,CGD&quality=90&HEIGHT=1000&WIDTH=1000&ANGLE=180&PITCH=0&HFOV=90","&pov=centerpano,CGD&quality=90&HEIGHT=1000&WIDTH=1000&ANGLE=270&PITCH=0&HFOV=90","&pov=centerpano,CGD&quality=90&HEIGHT=1000&WIDTH=1000&ANGLE=0&PITCH=-90&HFOV=90","&pov=centerpano,CGD&quality=90&HEIGHT=1000&WIDTH=1000&ANGLE=0&PITCH=90&HFOV=90"]}},events:{"click .extIntSwitch":"switchMode"},initialize:function(a){_.extend(this.config,a.config);
this.exterior=this.$el.find(".item.exterior");
this.interior=this.$el.find(".item.interior");
this.controls=this.$el.parents(".mediaPlayer").find(".controller");
VW.radio("mediaPlayer:resize").subscribe([this.onResize,this]);
VW.radio("mediaPlayer:threeSixyInterior:imagesReady").subscribe([this.initializeExterior,this]);
VW.radio("mediaPlayer:threeSixyInterior:interactionAllowed").subscribe([this.removeOverlay,this]);
VW.radio("mediaPlayer:forceToExterior").subscribe([this.forceToExterior,this]);
VW.radio("mediaPlayer:threeSixyInterior:fullyLoaded").subscribe([this.onFullyLoaded,this]);
VW.radio("mediaPlayer:resetExteriorThreeSixty").subscribe([this.onResetExteriorThreeSixty,this]);
VW.radio("mediaPlayer:resetInteriorThreeSixty").subscribe([this.updateInterior360,this]);
var b=$(this.controls).hammer();
b.on("dragstart",$.proxy(this.dragStart,this));
b.on("dragend",$.proxy(this.dragEnd,this));
b.on("drag",$.proxy(this.drag,this));
this.prepData();
this.$el.addClass("initialized")
},onResetExteriorThreeSixty:function(a){if(!this.exterior.hasClass("selected")){return
}var b=a.exteriorColorCode||"0Q0Q";
this.exterior.removeClass("initialized");
this.controls.addClass("loading");
this.allImagesLoaded=false;
this.exterior.find("img").remove();
this.prepData({paint:b})
},onFullyLoaded:function(){this.allImagesLoaded=true
},switchMode:function(c){var a=$(c.currentTarget);
var b=a.hasClass("exterior")?".interior":".exterior";
this.$el.find(".item").hide().removeClass("selected").filter(b).show().addClass("selected");
a.toggleClass("exterior interior");
if(b==".interior"){this.initializeInterior()
}else{this.initializeExterior()
}},dragStart:function(a){if(this.$el.find(".controller").hasClass("loading")){return false
}this.$el.find(".dragMe").addClass("alreadyHidden").fadeOut()
},dragEnd:function(a){this.config.previousImageBlock=0
},drag:function(h){if(this.$el.find(".controller").hasClass("loading")){return false
}var d=Math.floor(h.gesture.deltaX/this.threshold);
if(this.config.previousImageBlock!=d){var b=d-this.config.previousImageBlock;
this.config.previousImageBlock=d;
var f=this.config.currentVisibleImageIndex;
this.config.currentVisibleImageIndex-=b;
if(this.config.currentVisibleImageIndex>this.exteriorImages.length-1||this.config.currentVisibleImageIndex<=(this.exteriorImages.length*-1)){this.config.currentVisibleImageIndex=0
}if(this.allImagesLoaded){this.exteriorImages.eq(this.config.currentVisibleImageIndex).show();
this.exteriorImages.eq(f).hide()
}else{if(this.config.currentVisibleImageIndex<0){var c=this.config.currentVisibleImageIndex+this.exteriorImages.length
}else{var c=this.config.currentVisibleImageIndex
}if(_.contains(this.loadedImages,c)){this.exteriorImages.eq(this.config.currentVisibleImageIndex).show().siblings().hide()
}else{var g=-(c-this.findClosestNumber(c));
var a=0;
if(this.config.currentVisibleImageIndex<0){a=c-this.exteriorImages.length+g
}else{a=c+g
}if(a>this.exteriorImages.length-1||a<(this.exteriorImages.length*-1)){a=0
}this.exteriorImages.eq(a).show().siblings().hide()
}}}h.gesture.preventDefault()
},findClosestNumber:function(b){var d=0,f,g,c;
var a=this.loadedImages;
if(a.length){f=a[0];
for(d;
d<a.length;
d++){g=Math.abs(b-f);
c=Math.abs(b-a[d]);
if(c<g){f=a[d]
}g=null;
c=null
}return f
}return false
},prepData:function(j){this.exterior=$(this.exterior.selector);
var g=this.exterior.find(".js-exteriorData").data(),f=g.anglesstart,l=this,b=24,k=60,h=[],o=false,n=[],a=VW.utilities.getUrlToParams(g.datasource);
if(j){_.each(j,function(q,p){if(a[p]){a[p]=q
}})
}this.config.currentVisibleImageIndex=g.defaultangle-1;
while(f<=g.anglesend){var m=$('<img class="hide" />');
this.exterior.append(m);
f++
}this.exterior.find("img").eq(g.defaultangle).removeClass("hide");
var c=VW.utilities.create360ImageArray(g.anglesend,g.defaultangle);
for(var d=0;
d<b;
d++){n.push(c[d])
}_.each(c,function(r,q){var p=("0"+(r+1)).slice(-2);
var t=_.extend(a,{pov:"E"+p+",CGN",height:"",width:VW.utilities.getNextBreakPoint(l.$el.width()),quality:k});
var s=l.exterior.find("img").eq(r);
if(!s.length){s=l.exterior.find("img").eq(0)
}s.attr("src",window.irisBaseUrl+"/iris/iris?"+$.param(t)).load(function(){h.push((r));
h.sort();
if(!o){if(_.intersection(n,h).length==b){o=true;
l.loadedImages=h;
VW.radio("mediaPlayer:threeSixyInterior:interactionAllowed").broadcast();
VW.radio("mediaPlayer:threeSixyInterior:imagesReady").broadcast(g.defaultangle)
}}else{if(h.length===g.anglesend){VW.radio("mediaPlayer:threeSixyInterior:fullyLoaded").broadcast()
}}})
})
},forceToExterior:function(a){this.$el.find(".extIntSwitch").removeClass("interior").addClass("exterior");
this.initializeExterior(a);
console.log("forceToExterior")
},initializeExterior:function(a){this.$el.find(".dragMe:not(.alreadyHidden.hide)").show();
this.$el.find(".controller").css("visibility","");
this.$el.find(".threeSixtyInterior").empty();
this.interiorPano=null;
if(this.exterior.hasClass("initialized")){return
}this.exterior.addClass("initialized");
this.exteriorImages=this.exterior.find("img");
VW.radio("mediaPlayer:resize").broadcast({isFullscreen:this.isFullscreen(),windowWidth:$(window).width(),mediaPlayerHeight:this.$el.parents(".mediaPlayer").height(),mediaPlayerWidth:this.$el.width()})
},removeOverlay:function(){this.$el.find(".controller").removeClass("loading")
},updateInterior360:function(){var a=this;
if(this.$el.find(".item.interior").hasClass("selected")){a.initializeInterior()
}},initializeInterior:function(){this.$el.find(".dragMe").hide();
this.$el.find(".controller").css("visibility","hidden");
var c=this.interior.find(".threeSixtyInterior"),b=navigator.userAgent.toLowerCase(),a=false;
if(!c.attr("id")){c.attr("id",this.makeId())
}if(!_.isUndefined(window.vehicle)){var d=_.pick(VW.utilities.getUrlToParams(vehicle.mediaImageUrl),"vehicle","fabric","paint");
this.config.interior.baseImg=irisBaseUrl+"/iris/iris?"+$.param(d)
}else{this.config.interior.baseImg=irisBaseUrl+"/iris/iris?"+$.param(VW.utilities.getUrlToParams(c.data("source")))
}if(b.indexOf("safari")!=-1){if(b.indexOf("chrome")>-1){a=false
}else{a=true
}}if(Modernizr.webgl&&!a){this.interiorWebGL(c)
}else{if(Modernizr.csstransforms3d){this.interiorCSS(c)
}else{this.interiorFlash(c)
}}},interiorWebGL:function(h){var d=document.createElement("canvas");
var f=(!_.isNull(d.getContext("webgl")))?d.getContext("webgl"):d.getContext("experimental-webgl");
if(_.isNull(f)){this.interiorCSS(h);
return
}var c=f.getParameter(f.MAX_TEXTURE_SIZE)||2096;
if(c<4096){this.interiorCSS(h);
return
}c=(c>8192)?8192:c;
this.config.interior.isWebGl=true;
h.find(".controller").addClass("loading");
THREE.ImageUtils.crossOrigin=VW.crossOrigin;
this.config.interior.el=h;
this.config.interior.camera=new THREE.PerspectiveCamera(this.config.interior.upperZoomLimit,this.mainView().$el.width()/this.mainView().$el.height(),1,1100);
this.config.interior.camera.target=new THREE.Vector3(0,0,0);
this.config.interior.scene=new THREE.Scene();
this.config.interior.geometry=new THREE.SphereGeometry(500,60,40);
this.config.interior.geometry.applyMatrix(new THREE.Matrix4().makeScale(-1,1,1));
var b=this.config.interior.baseImg+"&pov=I01&width="+c;
this.config.interior.material=new THREE.MeshBasicMaterial({map:THREE.ImageUtils.loadTexture(b,new THREE.UVMapping(),function(){$(".threeSixtyInterior .controller.loading").removeClass("loading")
})});
this.config.interior.mesh=new THREE.Mesh(this.config.interior.geometry,this.config.interior.material);
this.config.interior.scene.add(this.config.interior.mesh);
this.config.interior.renderer=new THREE.WebGLRenderer();
this.config.interior.renderer.setSize(this.mainView().$el.width(),this.mainView().$el.height());
h.append(this.config.interior.renderer.domElement);
var a=$("<div/>").addClass("controller loading");
h.append(a);
var g=$(a).hammer();
g.on("dragstart",$.proxy(this.interiorDragStart,this));
g.on("dragend",$.proxy(this.interiorDragEnd,this));
g.on("drag",$.proxy(this.interiorDrag,this));
this.animateInterior()
},interiorDragStart:function(b){b.preventDefault();
var a=this.config.interior.el.find(".controller");
a.css("cursor","-webkit-grabbing");
a.css("cursor","-moz-grabbing");
this.config.interior.onPointerDownPointerX=b.gesture.deltaX;
this.config.interior.onPointerDownPointerY=b.gesture.deltaY;
this.config.interior.onPointerDownLon=this.config.interior.lon;
this.config.interior.onPointerDownLat=this.config.interior.lat
},interiorDragEnd:function(b){b.preventDefault();
var a=this.config.interior.el.find(".controller");
a.css("cursor","-webkit-grab");
a.css("cursor","-moz-grab")
},interiorDrag:function(a){a.preventDefault();
this.config.interior.lon=(this.config.interior.onPointerDownPointerX-a.gesture.deltaX)*0.1+this.config.interior.onPointerDownLon;
this.config.interior.lat=(a.gesture.deltaY-this.config.interior.onPointerDownPointerY)*0.1+this.config.interior.onPointerDownLat
},animateInterior:function(){window.requestAnimationFrame(VW.mediaPlayer.main.galleryViews.spinner.animateInterior);
VW.mediaPlayer.main.galleryViews.spinner.updateInterior()
},updateInterior:function(){this.config.interior.lat=Math.max(-85,Math.min(85,this.config.interior.lat));
this.config.interior.phi=THREE.Math.degToRad(90-this.config.interior.lat);
this.config.interior.theta=THREE.Math.degToRad(this.config.interior.lon);
this.config.interior.camera.target.x=500*Math.sin(this.config.interior.phi)*Math.cos(this.config.interior.theta);
this.config.interior.camera.target.y=500*Math.cos(this.config.interior.phi);
this.config.interior.camera.target.z=500*Math.sin(this.config.interior.phi)*Math.sin(this.config.interior.theta);
this.config.interior.camera.lookAt(this.config.interior.camera.target);
this.config.interior.renderer.render(this.config.interior.scene,this.config.interior.camera)
},interiorCSS:function(c){var a=[];
this.config.interior.isWebGl=false;
var b=this.config.interior.baseImg;
a.push('<panorama id="">');
a.push('<view fovmode="0" pannorth="0">');
a.push('<start pan="0" fov="60" tilt="0"/>');
a.push('<min pan="0" fov="60" tilt="-90"/>');
a.push('<max pan="360" fov="60" tilt="90"/>');
a.push("</view>");
a.push('<userdata title="" datetime="2013:08:12 17:51:03" description="" copyright="" tags="" author="" source="" comment="" info="" longitude="" latitude=""/>');
a.push('<hotspots width="180" height="20" wordwrap="1">');
a.push('<label width="180" backgroundalpha="1" enabled="1" height="20" backgroundcolor="0xffffff" bordercolor="0x000000" border="1" textcolor="0x000000" background="1" borderalpha="1" borderradius="1" wordwrap="1" textalpha="1"/>');
a.push('<polystyle mode="0" backgroundalpha="0.2509803921568627" backgroundcolor="0x0000ff" bordercolor="0x0000ff" borderalpha="1"/>');
a.push("</hotspots>");
a.push("<media/>");
a.push('<input tilesize="750" tilescale="1.002" ');
a.push('tile0url="'+encodeURIComponent(b+this.config.interior.angles[0])+'" ');
a.push('tile1url="'+encodeURIComponent(b+this.config.interior.angles[1])+'" ');
a.push('tile2url="'+encodeURIComponent(b+this.config.interior.angles[2])+'" ');
a.push('tile3url="'+encodeURIComponent(b+this.config.interior.angles[3])+'" ');
a.push('tile4url="'+encodeURIComponent(b+this.config.interior.angles[4])+'" ');
a.push('tile5url="'+encodeURIComponent(b+this.config.interior.angles[5])+'" ');
a.push("/>");
a.push('<control simulatemass="1" lockedmouse="0" lockedkeyboard="0" dblclickfullscreen="0" invertwheel="1" lockedwheel="0" invertcontrol="1" speedwheel="1" sensitivity="8"/>');
a.push("</panorama>");
this.interiorPano=new pano2vrPlayer(c.attr("id"));
this.interiorPano.readConfigString(a.join(""))
},interiorFlash:function(f){var c=[];
this.config.interior.isWebGl=false;
var d=this.config.interior.baseImg;
var j=d.replace(irisBaseUrl,"");
var a={imagePath:escape(this.config.interior.baseImg+"&pov=I01")};
var g="/etc/clientlibs/vwcom/swf/3dpanorama.swf";
var h={menu:"false",scale:"noScale",wmode:"opaque",allowFullscreen:"true",allowScriptAccess:"always",bgcolor:"#000000"};
var b={id:"TEXTTWIST"};
swfobject.embedSWF(g,f.attr("id"),"100%","100%","9.0.0","expressInstall.swf",a,h,b)
},onResize:function(d){this.threshold=Math.round(this.$el.parents(".mediaPlayer").width()/this.exteriorImages.length);
var c=this.config.threeSixtyWidth/this.config.threeSixtyHeight;
var a=this.$el.parents(".mediaPlayer").width()*(1/c);
var b=(a-this.$el.parents(".mediaPlayer").height())/2;
this.exterior.css("margin-top",b*-1);
if(this.$el.find(".item.interior:visible").length>0){if(this.config.interior.isWebGl){this.config.interior.camera.aspect=this.$el.width()/this.$el.height();
this.config.interior.camera.updateProjectionMatrix();
this.config.interior.renderer.setSize(this.$el.width(),this.$el.height())
}else{this.interiorPano.toggleFullscreen()
}}},onResizeFullscreen:function(a){}});
VW.mediaPlayer.views.VideoView=VW.mediaPlayer.views.baseView.extend({events:{},initialize:function(a){this.config=a.config;
_.each(this.$el.find(".youtubeEmbed"),function(b){$(b).youTubeEmbed({video:"http://www.youtube.com/watch?v="+$(b).data("youtubeid"),width:936,height:672,progressBar:true})
},this);
VW.radio("mediaPlayer:resize").subscribe([this.onResize,this]);
this.$el.addClass("initialized")
},onResize:function(a){},onResizeFullscreen:function(a){}});
VW.mediaPlayer.views.MainView=Backbone.View.extend({config:{originalWidth:929,originalHeight:602,widescreenWidth:1825,widescreenHeight:890},galleries:["photos","videos","spinner"],galleryViews:{},events:{"click .fullScreen":"onFullscreen","click .nav.prev":"prevItem","click .nav.next":"nextItem"},initialize:function(){this.config.originalRatio=this.config.originalHeight/this.config.originalWidth;
this.config.widescreenRatio=this.config.widescreenHeight/this.config.widescreenWidth;
this.dots=this.$el.find(".dots");
this.nav=this.$el.find(".nav");
if(VW.utilities.isOnMobileDevice()){this.nav.addClass("touch")
}this.$el.find(".filterSelector a").bind("click",$.proxy(this.selectFilter,this)).eq(0).trigger("click");
if(this.$el.find(".filterSelector a").length==1){this.$el.find(".filterSelector").hide()
}$(window).bind("resize",$.proxy(this.onResize,this)).trigger("resize");
this.$el.on("click",".dots a",$.proxy(function(d){d.preventDefault();
var c=c||this.$el.find(".filter.selected");
this.changeItem(c,$(d.currentTarget).index(),"dots")
},this));
this.changeItem(this.$el.find(".filter.selected"),0);
this.createTabs();
if(window.location.hash.length>0){var a=window.location.hash.replace("#","");
var b=a.replace("!v=","");
$('[name="'+a+'"]').click();
if($("body").hasClass("vwContentPage")&&b){$(window).scrollTop(0);
setTimeout(function(){var d=$(".vwContentPage .pageNavBar").height();
var c=($("a[name="+b+"]:first").offset().top-d)-($("a[name="+b+"]:first").parents(".accordion-group").height());
$("body,html").animate({scrollTop:c},500,"swing")
},0)
}}$("html").on("keydown",$.proxy(this.keydown,this))
},keydown:function(c){if(this.$el.hasClass("fullScreenMode")){var b=c.keyCode||c.which;
var a={left:37,up:38,right:39,down:40,esc:27};
switch(b){case a.left:this.$el.find(".nav.prev:visible").trigger("click");
break;
case a.up:break;
case a.right:this.$el.find(".nav.next:visible").trigger("click");
break;
case a.down:break;
case a.esc:this.$el.find("a.fullScreen").trigger("click");
break
}}},nextItem:function(b,a){b.preventDefault();
a=a||this.$el.find(".filter.selected");
this.changeItem(a,a.find(".item.selected").index()+1,"arrows")
},prevItem:function(b,a){b.preventDefault();
a=a||this.$el.find(".filter.selected");
this.changeItem(a,a.find(".item.selected").index()-1,"arrows")
},getGalleryType:function(a){return _.first(_.intersection(a.attr("class").split(" "),this.galleries))
},changeItem:function(a,c,b){if(_.isUndefined(a)){a=this.$el.find(".filter.selected")
}var d=_.first(_.intersection(a.attr("class").split(" "),this.galleries));
if(!this.galleryViews[d]){return false
}if(c<0||c>=a.find(".item").length){return false
}this.galleryViews[d].changeItem(c);
this.dots.find("a.selected").removeClass("selected");
this.dots.find("a").eq(c).addClass("selected");
if(!this.inContentPage()){this.nav.show()
}if(c==0){this.nav.filter(".prev").hide()
}if(c==a.find(".item").length-1){this.nav.filter(".next").hide()
}VW.radio("mediaPlayer:slideChange").broadcast({trigger:b,targetIndex:c,parentElement:a})
},onFullscreen:function(b){b.preventDefault();
this.$el.toggleClass("fullScreenMode").removeAttr("style");
var a=$(".imageGallery .item.selected img");
this.config.naturalRatio=a.width()/a.height();
this.onResize()
},onResize:function(){var c=this.$el.hasClass("fullScreenMode");
var b=$(window).width();
var d=(b>1024)?this.config.widescreenRatio:this.config.originalRatio;
var a=d*this.$el.width();
if(c){this.$el.css("height","")
}else{this.$el.css({height:a+"px"})
}VW.radio("mediaPlayer:resize").broadcast({isFullscreen:c,windowWidth:b,mediaPlayerHeight:a,mediaPlayerWidth:this.$el.width()})
},selectFilter:function(f){f.preventDefault();
var c=$(f.currentTarget);
var b=this.$el.find(".filter."+c.data("target"));
if(!b.hasClass("initialized")){switch(this.getGalleryType(b)){case"photos":this.galleryViews[this.getGalleryType(b)]=new VW.mediaPlayer.views.ImageView({el:b,config:this.config});
break;
case"videos":this.galleryViews[this.getGalleryType(b)]=new VW.mediaPlayer.views.VideoView({el:b,config:this.config});
break;
case"spinner":this.galleryViews[this.getGalleryType(b)]=new VW.mediaPlayer.views.ThreeSixtyView({el:b,config:this.config});
break
}}if(!b.hasClass("selected")){c.addClass("selected").siblings().removeClass("selected");
b.show().addClass("selected").siblings(".filter").hide().removeClass("selected");
if(this.getGalleryType(b)=="photos"){VW.radio("mediaPlayer:forceResetPhotos").broadcast()
}else{b.find(".item").eq(0).show().addClass("selected").siblings(".item").hide().removeClass("selected")
}this.nav.hide();
this.dots.empty().hide();
if(this.getGalleryType(b)=="spinner"){b.find(".controller").css("visibility","visible");
b.find(".item.exterior").addClass("selected");
b.find(".item.interior").removeClass("selected");
VW.radio("mediaPlayer:forceToExterior").broadcast({defaultIndex:7})
}else{if(b.find(".item").length>1){this.nav.filter(".next").show();
for(var a=0;
a<b.find(".item").length;
a++){this.dots.append('<a href="#">'+(a+1)+"</a>")
}var d=this.$el.find(".filter.selected").find(".item.selected").index();
d=(d>0)?d:0;
this.dots.show().find("a").eq(d).addClass("selected")
}}}this.onResize()
},inContentPage:function(){return $("body").hasClass("vwContentPage")
},createTabs:function(){if(this.inContentPage()){this.$el.addClass("container").before('<div class="mediaPlayerTabs container"><ul></ul></div>');
this.dots.hide();
this.nav.hide();
this.$el.find(".fullScreen").hide();
this.$el.find(".videoGallery .item").each(function(){$(".mediaPlayerTabs").find("ul").append('<li><a href="#" name="video-'+VW.utilities.generateClassFriendlyName($(this).find(".videoDescription").text())+'">'+$(this).find(".videoDescription").text()+"</a></li>")
});
$(".mediaPlayerTabs").on("click","li a",$.proxy(function(a){this.changeItem(this.$el.find(".filter.videos"),$(a.currentTarget).parent().index(),"tabs");
$(a.currentTarget).parent().addClass("selected").siblings().removeClass("selected");
a.preventDefault()
},this));
$(".mediaPlayerTabs").find("li").eq(0).addClass("selected")
}}});
$(function(){_.extend(VW.mediaPlayer,{init:function(){this.main=new VW.mediaPlayer.views.MainView({el:$(".mediaPlayer")})
}});
if($(".mediaPlayer").length>0){if(_.isUndefined(window.THREE)&&Modernizr.webgl){var a=document.createElement("script");
a.type="text/javascript";
a.async=true;
a.onload=function(){VW.mediaPlayer.init()
};
a.src="/etc/clientlibs/vwcom/js/libs/three.js";
document.getElementsByTagName("head")[0].appendChild(a)
}else{VW.mediaPlayer.init()
}}});
$(document).ready(function(){var b=$(".storyModule");
if(b.length>0){function a(g,d,f){var j=f.find(".regularPanel"),c=f.find(".nav"),h=f.find(".dots");
var k=j.eq(g);
k.prevAll().removeClass("selected rightHidden queue").addClass("leftHidden");
k.next().nextAll().removeClass("selected leftHidden queue").addClass("rightHidden");
k.next().removeClass("selected rightHidden leftHidden").addClass("queue");
k.removeClass("rightHidden leftHidden queue").addClass("selected");
h.find("a.selected").removeClass("selected");
h.find("a").eq(g).addClass("selected");
c.show();
if(g==0){c.filter(".prev").hide()
}if(g==f.find(".regularPanel").length-1){c.filter(".next").hide()
}VW.radio("storyModule:slideChange").broadcast({trigger:d,targetIndex:g,parentElement:f})
}_.each(b,function(f){var d=$(f);
var c=d.find(".nav");
_.each(d.find(".regularPanel"),function(h,g,j){$(h).css("z-index",j.length-g)
});
a(0,"",d);
d.find(".nav.next").off("click").on("click",function(g){a(d.find(".regularPanel.selected").index()+1,"arrows",d);
g.preventDefault()
});
d.find(".nav.prev").off("click").on("click",function(g){a(d.find(".regularPanel.selected").index()-1,"arrows",d);
g.preventDefault()
});
d.find(".dots").find("a").off("click").on("click",function(g){a($(this).index(),"dots",d);
g.preventDefault()
});
if(VW.utilities.isOnMobileDevice()){c.css({opacity:1,"-moz-opacity":1,"-khtml-opacity":1});
d.hammer().off("swiperight").on("swiperight",function(){if($(".storyModule .regularPanel.selected").index()!=0){a(d.find(".regularPanel.selected").index()-1,"swipe",d)
}});
d.hammer().off("swipeleft").on("swipeleft",function(){if($(".storyModule .regularPanel.selected").index()!=d.find(".regularPanel").length-1){a(d.find(".regularPanel.selected").index()+1,"swipe",d)
}})
}})
}});
$(function(){var a=VW.lightbox({backgroundColor:"black",textColor:"white",elms:$(".accTile"),type:"featureTile",css:{"background-color":"#000",color:"white",height:"672px",width:"1024px"}})
});
$(function(){var b=[];
b.push('<span class="digit">');
b.push("<br/>");
b.push("0<br/>");
b.push("1<br/>");
b.push("2<br/>");
b.push("3<br/>");
b.push("4<br/>");
b.push("5<br/>");
b.push("6<br/>");
b.push("7<br/>");
b.push("8<br/>");
b.push("9<br/>");
b.push("</span>");
var a={init:function(c){$(this).addClass("odometerCounter").addClass(c.type).html(b.join(""));
return this
},update:function(c,d){$(this).each(function(){var g=$(this);
g.data("type",d);
var l=c.toString();
var h=$(".digit",this);
if(l.length>h.length){var k=l.length-h.length;
for(var f=0;
f<k;
f++){g.prepend(b.join(""))
}}else{if(l.length<h.length){var k=h.length-l.length;
$(".digit:lt("+k+")",this).remove()
}}if((g.data("type")=="msrp")){g.find(".formatting.dollar").remove();
g.prepend('<span class="formatting dollar">$</span')
}if(_.contains(["msrp","comma"],g.data("type"))){g.find(".formatting.comma").remove();
_.each(g.find(".digit").get().reverse(),function(n,m){if(m%3==0&&m>0){$(n).after($('<span class="formatting comma">,</span>'))
}})
}var j=l.split("");
$.each(j,function(m,n){$(".digit",g).eq(m).css("margin-top",(-1*(n)-1)+"em")
})
});
$(this).data("count",c);
return this
}};
$.fn.odometerCounter=function(c){if(a[c]){return a[c].apply(this,Array.prototype.slice.call(arguments,1))
}else{if(typeof c==="object"||!c){return a.init.apply(this,arguments)
}else{$.error("Method "+c+" does not exist on odometerCounter")
}}}
});
$(document).ready(function(){$(".vwDealerDetail .contactDealer.button").on("click",function(b){VW.radio("contact:dealerDetailContactFormSetup").broadcast()
});
VW.radio("contact:dealerDetailContactFormSetup").subscribe([a,this]);
function a(b){VW.forms.myForms.contactDealer=new VW.forms.contactDealer({form:$(".vwDealerDetail .contactContainer"),formValues:{formName:"Dealer Detail Page - Contact Dealer",modelName:"unknown",zip:VW.location.currentLocation(),dealerId:VW.selectedDealerID.dealerid.toString(),requestType:"contactDealer",sourceType:"VW"}});
$(".vwDealerDetail .continue").on("click","a.button",function(d){d.preventDefault();
d.stopPropagation();
var c=VW.forms.myForms.contactDealer;
VW.forms.myForms.contactDealer.nextPane(d,c)
});
$(".vwDealerDetail .contactContainer .submit").on("click","input",function(g){var c=VW.forms.myForms.contactDealer,f=c.validate($(g.currentTarget)),d=$(".contactContainer");
if(f){c.submit(function(){var j=$(g.currentTarget).parents(".pane"),h=d.find(".contactSuccess");
c.successErrorScreen(j,h);
VW.forms.myForms.contactDealer.updateSuccessPane(d,c);
var k={formName:c.options.formValues.formName,step:"submit clicked"};
VW.radio("form:stepChange").broadcast(k)
},function(){var j=$(g.currentTarget).parents(".pane"),h=d.find(".contactError");
c.successErrorScreen(j,h);
VW.forms.myForms.contactDealer.updateSuccessPane(d,c)
})
}})
}});
_.extend(VW,{forms:{baseFunctions:{setup:function(){var c=$(this.options.form);
if(!c.length){return
}this.updateSelectors();
var a=this;
VW.radio("contact:openForm").subscribe(a.toggleFormOpen);
VW.radio("contact:closeForm").subscribe(a.toggleFormOpen);
$(".cta-container.openForm").off("click").on("click",function(d){d.preventDefault();
a.toggleFormOpen(d)
});
c.find(".goBack").off("click").on("click",function(d){d.preventDefault();
a.prevPane(d)
});
c.find(".aorDealerMessage").on("click","a",function(d){d.preventDefault();
a.switchToAorPane(d)
});
c.find(".contactRadioContainer.vin").on("click","input",function(f){var d=$(f.currentTarget).val();
a.toggleVinField(f,d)
});
c.find(".formMessage.scheduleDates, .formMessage.noDatesAlert").on("click","a",function(d){d.preventDefault();
a.prevPane(d)
});
c.find(".phone").find("input").on("keyup",function(d){d.preventDefault();
a.switchPhoneInput(d)
});
c.find(".message").find("textarea").on("keyup",function(d){d.preventDefault();
a.countDownCharacters(d)
});
c.find("input.zip").val(function(d,f){f=VW.store.get("zip");
return f
});
var b=_.find(_.unique(_.map(c.find("[name]"),function(d){return d.name
})),function(d){return d.indexOf("contactMethod")>-1
});
c.find(".contactRadioContainer").find('input[name="'+b+'"]').off("click").on("click",function(d){a.toggleLegalMessage(d);
a.toggleRequiredFields(d)
}).filter('[value="email"]').prop("checked","checked");
c.find(".contactRadioContainer").off("change").on("change",function(d){a.removeError(d)
})
},updateSelectors:function(){if($("body").hasClass("sponsorship")){return
}var b=$(this.options.form);
_.each(b.find("[id]").not("#dealerList, #vppSelectedPlans"),function(f){var d=$(f);
var g=d.attr("id");
var c=g+"-"+VW.utilities.makeId();
d.attr("id",c);
b.find('[for="'+g+'"]').attr("for",c)
});
var a=_.unique(_.map(b.find("[name]"),function(c){return c.name
}));
_.each(a,function(c){b.find('[name="'+c+'"]').attr("name",c+"-"+VW.utilities.makeId())
})
},removeError:function(b){var a=$(b.currentTarget);
if(a.find("input:checked").length>0){a.removeClass("error")
}},toggleRequiredFields:function(d){var b=$(d.currentTarget),a=b.parents(".pane").find(".contactTextbox.email"),c=b.parents(".pane").find(".contactTextbox.phone");
if(b.val()=="phone"){a.removeClass("required");
c.addClass("required");
a.find("input").hasClass("error")?a.find("input").removeClass("error"):""
}else{if(b.val()=="email"){a.addClass("required");
c.removeClass("required");
$(c).find("input").each(function(f,g){$(g).hasClass("error")?$(g).removeClass("error"):""
})
}else{if(b.val()=="either"){a.addClass("required");
c.addClass("required")
}}}},toggleFormOpen:function(h,g,a){h.preventDefault();
var b=$(h.currentTarget),f;
if(b.hasClass("close")){f=$(h.currentTarget).parents(".quickViewWindowWrapper")
}else{if(b.siblings(".vwPage").length>0){f=b.siblings(".vwPage").find(".formContainer .quickViewWindowWrapper")
}else{if(g.options.form.length){f=g.options.form.find(".quickViewWindowWrapper")
}else{f=b.parents("body").find(".quickViewWindowWrapper")
}}}var j=f.parents(".contactContainer"),k=f.find(".quickViewWindowBackground"),c=f.parents(".formContainer").siblings(".quickViewOpenPointer");
a=a||$(h.currentTarget).parent();
if(f.hasClass("opened")||b.hasClass("close")){c.css("left","-9999px");
f.add(k).add(j).slideUp(function(){f.removeClass("opened").css("height",0);
f.addClass("hide");
f.find(".pane").hide();
_.each(f,function(l){$($(l).find(".pane")[0]).show()
});
j.height(0)
})
}else{f.parents(".contactContainer").height("600px").slideDown().addClass("visible");
f.add(k).slideDown(function(){var p=a.offset().left-a.parent().offset().left+a.width()/2-c.width()/2,m=k.outerHeight();
f.parents(".contactContainer").css("height",k.outerHeight());
if(a.parents(".dealerComm").hasClass("vehicleProtectionAdvisor")){p=a.offset().left-$("#vehicleProtectionAdvisor").offset().left+a.width()/2-c.width()/2;
var l=$(window).width()<1024?2:3,o=Math.round($(".dealerResult").length/l);
$("#dealerList").height(o*$(".dealerResult").height());
m=f.find(".wrapper").height();
f.parents(".contactContainer").css("height",m);
f.parents(".contactContainer").find(".quickViewWindowWrapper").css("height",m);
k.css("height",m)
}c.css({left:p+"px","margin-top":"0"});
f.addClass("opened");
f.removeClass("hide");
if(f.parents("#lightboxContentInner").length){$("#lightboxContentInner").stop().animate({scrollTop:b.position().top+30},500)
}else{$("html, body").stop().animate({scrollTop:b.offset().top},500)
}var n=[];
f.parents("#mainWrapper").find(".quickViewWindowWrapper").each(function(q,r){if($(r).hasClass("opened")){n.push($(r))
}});
if(n.length<2){VW.radio("contact:contactFormSetup").broadcast()
}});
var d={formName:g?g.options.formValues.formName:"",step:"form opened",clickedElement:a};
VW.radio("form:stepChange").broadcast(d)
}},nextPane:function(j,h){var k=$(j.currentTarget).parents(".contactContainer"),b=$(j.currentTarget).parents(".pane"),l=this,g=null;
if(k.find("textarea.message").length){var c=k.find("textarea.message")[0].getAttribute("maxlength");
if(k.find("textarea.message").val().length>c){k.find("textarea.message").addClass("error");
return false
}else{k.find("textarea.message").removeClass("error")
}}if(b.hasClass("localDealerView")){g=k.find(".pane2");
b.hide();
g.find(".aorDealerMessage").show()
}else{if(k.parents(".vwDealerDetail").length>0){g=k.find(".pane2")
}else{g=k.find(".pane").eq(1)
}}if(b.hasClass("testDrive")){l.updateScheduleDates(b,g)
}g.show().prevAll(".pane").hide();
var a=k.find(".quickViewWindowWrapper"),f=a.find(".quickViewWindowBackground").outerHeight();
k.css("height",g.parents(".quickViewWindowWrapper").find(".quickViewWindowBackground").outerHeight());
a.css("height",g.parents(".quickViewWindowWrapper").find(".quickViewWindowBackground").outerHeight());
var d={formName:h.options.formValues.formName,step:"continue clicked"};
VW.radio("form:stepChange").broadcast(d)
},prevPane:function(h){var c=$(h.currentTarget).parents(".contactContainer"),g=$(h.currentTarget).parents(".pane"),d=$(g.siblings(".pane")[0]);
g.hide();
d.show();
if($(h.currentTarget).parents(".formContainer").hasClass("contactVPP")){var b=$(window).width()<1024?2:3,f=Math.round($(".dealerResult").length/b);
$("#dealerList").height(f*$(".dealerResult").height());
c.css("height",d.outerHeight());
c.find(".quickViewWindowWrapper").css("height",d.outerHeight())
}else{var a=d.parents(".quickViewWindowWrapper").find(".quickViewWindowBackground").outerHeight();
c.css("height",a);
c.find(".quickViewWindowWrapper").css("height",a)
}},getWrapperHeight:function(a){return $(a).find(".quickViewWindowBackground").outerHeight()
},toggleLegalMessage:function(g){var a=$(g.currentTarget),f=a.parents(".contactContainer"),b=f.find(".quickViewWindowWrapper"),d=f.find(".phoneMessage");
if(a.hasClass("phone")||a.hasClass("either")){d.is(":hidden")?d.show():""
}else{!d.is(":hidden")?d.hide():""
}var c=b.find(".quickViewWindowBackground").outerHeight();
f.css("height",c);
b.css("height",c)
},updateDealerInfo:function(b,a){b.each(function(d,c){$(c).find("[data-model-href]").each(function(f,h){var g=$(h);
g.attr("href",a.url)
});
$(c).find("[data-model]").each(function(f,h){var g=$(h);
g.html([g.data("model")])
})
});
$(".miles span").each(function(c,f){var d=$(f),g=d.text();
d.html(Math.round(g))
})
},countDownCharacters:function(d){var c=$(d.currentTarget),a=c.parent(".message").find(".right"),b=c[0].getAttribute("maxlength")-c.val().length;
a.html(b)
},toggleVinField:function(d,c){var b=$(".contactTextbox.vin"),a=$(".contactTextbox.address");
if(c=="vinYes"){b.removeClass("hide");
a.addClass("hide")
}else{b.addClass("hide");
a.removeClass("hide")
}},validate:function(d,a){var j=true;
var f={};
var c=d.parents(".contactContainer")||a;
if(c.length==0){return false
}var b=this;
if(this.options.formValues.formName=="VW Owner's Customer Care"&&d.parents(".pane").hasClass("pane1")){var h=d.parents(".pane1");
h.find(".required textarea, .required input, .dropdownbox.required, .required .contactCheckboxContainer input, .required .contactRadioContainer input").each(function(m,n){var o=$(this);
var l=o.attr("data-inputName");
var k=true;
if(l=="postalCode"&&$(o).parents(".addressRight").hasClass("required")){if(!o.val()){k=b.handleEmptyFields(o)
}else{if(!/^\d{5}(?:-\d{4})?$/.test(o.val())){k=false
}}}else{if(l=="vinNumber"){if(!o.val()){k=b.handleEmptyFields(o)
}else{if(o.val().length!=17){k=false
}}}else{k=b.handleEmptyFields(o)
}}if(k==false){f=b.getInvalidFieldData(o,f);
o.addClass("error")
}else{o.removeClass("error")
}j=j&&k
})
}else{c.find(".required textarea, .required input, .dropdownbox.required, .required .contactCheckboxContainer input, .required .contactRadioContainer input").each(function(p,l){var r=$(this);
var q=r.attr("data-inputName");
var m=l.type;
var o=true;
if(q=="name"||q=="lastName"){if(!r.val()){o=b.handleEmptyFields(r)
}else{if(!/^[A-z]+$/.test(r.val())){o=false
}}}if(q=="model"){var n=$("#lightboxContentInner .selectModelInModal.required");
if(!r.val()){o=b.handleEmptyFields(r);
n.addClass("error")
}else{n.removeClass("error")
}}if(q=="email"){if(!r.val()){o=b.handleEmptyFields(r)
}else{if(!/(.+)@(.+){2,}\.(.+){2,}/.test(r.val())){o=false
}}}else{if(q=="phone"){var t=c.find(".phone1").val()+c.find(".phone2").val()+c.find(".phone3").val();
if(r.hasClass("phone3")&&r.val().length<4){r.parents(".contactTextbox").addClass("error");
o=false
}else{if(r.hasClass("phone1")&&r.val().length<3){r.parents(".contactTextbox").addClass("error");
o=false
}else{if(r.hasClass("phone2")&&r.val().length<3){r.parents(".contactTextbox").addClass("error");
o=false
}else{if(!$.isNumeric(r.val())){r.parents(".contactTextbox").addClass("error");
o=false
}else{if(!/^[0-9]{1,45}$/.test(t)){r.parents(".contactTextbox").addClass("error");
o=false
}else{if(t.length!="10"){r.parents(".contactTextbox").addClass("error");
o=false
}else{r.parents(".contactTextbox").removeClass("error")
}}}}}}}else{if(q=="emailConfirm"){if(!r.val()){o=b.handleEmptyFields(r)
}else{if(r.val()!=r.parents(".contactContainer").find(".email").val()){o=false
}}}else{if(r.hasClass("dropdownbox")){r=r.find(".formDropDown");
o=b.handleEmptyFields(r)
}else{if(m=="radio"){o=b.checkCheckedInputs(r)
}else{if(m=="checkbox"){o=b.checkCheckedInputs(r)
}else{if(r.hasClass("dateInput")){if(_.isUndefined(r.data("dateformat"))){if(!/(\d{2}\/){2}\d{4}$/.test(r.val())){o=false
}}else{if(!moment(r.val(),r.data("dateformat"),true).isValid()){o=false
}}}else{if(q=="vinNumber"){if(!r.val()){o=b.handleEmptyFields(r)
}else{if(r.val().length!=17){o=false
}}}else{if(q=="yearsInExistence"){o=$.isNumeric(parseInt(r.val()))
}else{o=b.handleEmptyFields(r)
}}}}}}}}}if(c.hasClass("contactVPP")){if(q=="zipCode"){var k=$("input[data-inputname=zipCode]");
if(!VW.location.validateLocation(k.val())){o=false
}}}if(c.hasClass("sponsorshipForm")){if(q=="emailConfirm"){var s=$(".emailConfirm").parents(".formSection").find(".email");
r.val()!=s.val()?o=false:""
}}if(o==false){f=b.getInvalidFieldData(r,f);
r.addClass("error")
}else{r.removeClass("error")
}j=j&&o
})
}if(j==false){c.find(".errorMessage").css("visibility","visible");
var g={formName:this.options.formValues.formName,invalidFields:f,userZip:VW.data.getLocation()};
VW.radio("form:invalidField").broadcast(g);
return false
}else{c.find(".errorMessage").css("visibility","hidden");
return true
}},checkCheckedInputs:function(b){var a=b.parents("ul"),c=a.find("input:checked");
if(c.length<1){a.addClass("error");
return false
}else{a.removeClass("error");
return true
}},getInvalidFieldData:function(c,a){var d=c.attr("data-inputName"),b=c.val();
a[d]=b;
return a
},handleEmptyFields:function(b){var a=false;
if(!b.val()){b.addClass("error");
a=false
}else{b.removeClass("error");
a=true
}return a
},updateSuccessPane:function(c,f,d){var m=_.find(_.unique(_.map(c.find("[name]"),function(o){return o.name
})),function(o){return o.indexOf("contactMethod")>-1
});
var g=c.find(".contactRadioContainer").find('input[name="'+m+'"]:checked').val(),h=c.find(".contactTextbox input.email").val(),n="("+c.find(".contactTextbox .phone1").val()+") "+c.find(".contactTextbox .phone2").val()+"-"+c.find(".contactTextbox .phone3").val(),a,l;
if(f){var j=f.options.formValues.formName,k=f.options.formValues.dealerId!=undefined?f.options.formValues.dealerId:VW.data.closestAORDealer().dealerid;
VW.data.getDealerByID(k,function(o){l=o;
c.find(".contactSuccess").find("[data-model]").each(function(p,q){$(q).html(l[$(q).data("model")])
});
if(j.toLowerCase()==="get a quote"){c.find(".contactSuccess").find("[data-model]").html(l.name)
}})
}if(g=="email"){a=h
}else{if(g=="phone"){n="("+c.find(".contactTextbox .phone1").val()+") "+c.find(".contactTextbox .phone2").val()+"-"+c.find(".contactTextbox .phone3").val(),a=n
}else{if(g=="either"){if(h.length&&n.length){n="("+c.find(".contactTextbox .phone1").val()+") "+c.find(".contactTextbox .phone2").val()+"-"+c.find(".contactTextbox .phone3").val(),a=c.find(".contactTextbox input.email").val()+" or "+n
}else{if(h.length&&!n.length){a=c.find(".contactTextbox input.email").val()
}else{if(!h.length&&n.length){n="("+c.find(".contactTextbox .phone1").val()+") "+c.find(".contactTextbox .phone2").val()+"-"+c.find(".contactTextbox .phone3").val(),a=n
}}}}else{a=h
}}}if(c.hasClass("saveToPhone")){n=c.find(".contactTextbox .phone1").val()+" "+c.find(".contactTextbox .phone2").val()+" "+c.find(".contactTextbox .phone3").val(),a=n
}c.find(".contactMethod").html(a);
if(c.hasClass("saveToPhone")){c.find(".phoneNumber").html(n)
}if(c.hasClass("contactVPP")){var b=d.dealerPhone.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3");
c.find(".vppContactDealerName").html(d.dealerName);
c.find("#vppSelectedPlans").html(d.selectedPlans);
c.find(".vppDealerPhone").html(b)
}},x:function(d){var a=$($(d.currentTarget).data("target")).find(".pane1"),b={},c=null;
if(_.isUndefined(window.vehicle)){var f=VW.utilities.getUrlHashValue("v");
VW.data.getVehicleByVIN(f,function(g){c=g.dealerid
})
}else{c=window.vehicle.dealerid
}VW.data.getDealerByID(c,function(g){b=g
});
if(b.aor=="false"){VW.forms.myForms.contactDealer.toggleAorMessage(a,false)
}},toggleAorMessage:function(a,b){if(a.parents(".contactContainer").hasClass("contactDealer")||a.parents(".contactContainer").hasClass("getQuote")){if(b==false){a.addClass("aorDealer");
a.siblings(".aorDealerForm").addClass("aorDealer");
a.find(".aorDealerMessage").show()
}else{a.removeClass("aorDealer");
a.siblings(".aorDealerForm").removeClass("aorDealer");
a.find(".aorDealerMessage").hide()
}}},switchToAorPane:function(f){var b=this,a=$(f.currentTarget).parents(".contactContainer"),d=$(f.currentTarget).parents(".pane"),c=a.find(".quickViewWindowWrapper"),g=$(f.currentTarget).parents(".pane").siblings();
b.updateDealerInfo(g,VW.data.closestAORDealer());
d.hide();
if(d.hasClass("pane1")){a.find(".localDealerView").show();
VW.forms.myForms.contactDealer.options.formValues.dealerId=VW.data.closestAORDealer().dealerid
}else{a.find(".pane1").show();
VW.forms.myForms.contactDealer.toggleAorMessage(d,true);
VW.forms.myForms.contactDealer.toggleAorMessage(d.siblings(".pane1"),true);
VW.forms.myForms.contactDealer.options.formValues.dealerId=vehicle.dealerid
}c.css("height",a.find(".quickViewWindowBackground").outerHeight())
},updateScheduleDates:function(c,a){var b=c.find(".timeOfDay .selected"),f=$(b[0]).data("day")+" "+$(b[0]).data("time")+" ("+$(b[0]).data("date")+")",d=$(b[1]).data("day")+" "+$(b[1]).data("time")+" ("+$(b[1]).data("date")+")";
if(b.length<1){a.find(".formMessage.noDatesAlert").show();
a.find(".formMessage.scheduleDates").hide()
}else{a.find(".formMessage.noDatesAlert").hide();
a.find(".formMessage.scheduleDates").show();
if(b[0]&&b[1]){$(a.find(".formMessage").find(".scheduleDate")[0]).text(f);
$(a.find(".formMessage").find(".scheduleDate")[1]).text(d);
$(".secondDateText").show()
}else{if(b[0]){f=$(b[0]).data("day")+" "+$(b[0]).data("time")+" ("+$(b[0]).data("date")+")";
$(".secondDateText").hide();
$(a.find(".formMessage").find(".scheduleDate")[0]).text(f+".")
}}}},switchPhoneInput:function(c){var b=$(c.currentTarget),d=b.siblings("input"),a=b.val().length;
d.each(function(f){if(f>=0){if(a>=3){b.next("input").focus()
}}if($.isNumeric(f)==true){}})
},postUrl:function(a,c){var b=VWBaseURL+a;
if(VWBaseURL.indexOf("apps/proxy")>-1){b+=escape("?"+c)
}else{b+="?"+c
}return b
},showHiddenField:function(c){var a=null,b=null;
if($(c).attr("id")=="partnershipOther"){a=$(c).parents(".contactCheckboxContainer").siblings("input");
b=$(c).parents(".contactCheckboxContainer").siblings(".label.hide");
if(c.is(":checked")){a.show();
b.show()
}else{a.hide();
b.hide()
}}else{a=$(c);
b=a.siblings(".label");
a.show();
b.show()
}},updateDefaultMessage:function(n,f){var a=$(n).find(".contactTextbox.message").find("textarea"),h=null,j=null,c=null,b=null;
if(window.defaultMessage){h=window.defaultMessage
}else{h=a.text();
window.defaultMessage=h
}if(h){if(f.options.formValues.formName=="Payment Estimator - Get a Quote"){j=f.options.formValues.modelName;
c=f.options.formValues.trim;
$(h).text(function(o,p){p=p.replace(/\b(Year )\b/g,"").replace(/\b(Model)\b/g,j).replace(/\b(Trim).*\b/g,c).toString();
p=p.replace(/&nbsp;/g," ").toString();
b=p
});
a.val(b)
}else{if(f.options.formValues.formName=="Get a Quote"){var k=window.vehicle.modelYear,g=window.vehicle.exteriorColorBaseColor.toProperCase(),d=window.vehicle.transmissionType;
j=window.vehicle.model,c=window.vehicle.trimLevel;
$(h).text(function(o,p){p=p.replace(/\b(Year)\b/g,k).replace(/\b(Model)\b/g,j).replace(/\b(Trim)\b/g,c).replace(/\b(Color)\b/g,g).replace(/\b(Transmission)\b/g,d+" Transmission");
p=p.replace(/&nbsp;/g," ").toString();
b=p
});
a.html(b)
}}var l=a.parent(".message").find(".right"),m=1000-a.val().length;
l.html(m)
}},successErrorScreen:function(a,d){var b=a.parents(".contactContainer").closest(),f=b.find(".quickViewWindowWrapper");
a.hide();
d.show();
var c=f.find(".quickViewWindowBackground").outerHeight();
b.css("height",c);
f.css("height",c)
},getCampaignId:function(){var a=window.location.href;
return a.indexOf("cid=")>-1?a.split("cid=")[1]:""
},checkDevice:function(){var a;
if(VW.utilities.isOnMobileDevice()){a=mobile;
if(isOnTabletWidth()){a=tablet
}}else{a=desktop
}return a
}},myForms:{}}});
_.extend(VW.forms,{sendToPhone:function(a){var b={};
this.options=_.extend(b,a);
_.extend(this,VW.forms.baseFunctions);
this.setup();
this.submit=function(n,f){var d=$(".saveToPhone.contactContainer"),p=d.find(".phone1").val()+d.find(".phone2").val()+d.find(".phone3").val(),j=(vehicle.model!="null")?vehicle.model:"",g=(vehicle.trimLevel!="null")?vehicle.trimLevel:"",l=n,o=f,m=window.location.href,k="440e7a299b555d8cb61e71ffcd0796b51f1f5afc";
function c(q){$.post("/vwsdl/rest/sms/send/"+p+".json",{message:j+" "+g+" "+q},function(r){}).done(function(r){if(_.isFunction(l)){l(r)
}var s={formName:"Send to Phone",userZip:VW.data.getLocation(),formData:{phoneNumber:p}};
VW.radio("form:complete").broadcast(s)
}).fail(function(r){if(_.isFunction(o)){o(r.responseText)
}else{console.log(r.responseText)
}var s={formName:"Send to Phone",userZip:VW.data.getLocation(),errorResponse:r.responseText};
VW.radio("form:error").broadcast(s)
})
}var h=$("html");
if(h.hasClass("ie8")||h.hasClass("ie9")){c(m)
}else{$.get("https://api-ssl.bitly.com/v3/shorten?access_token="+k+"&longUrl="+encodeURIComponent(m),function(q){m=q.data.url;
c(m)
})
}}
}});
_.extend(VW.forms,{scheduleTestDrive:function(a){var b={formType:"lead",sourceType:"vw"};
this.options=_.extend(b,a);
this.button=$(this.options.form).find("input[type='submit']");
_.extend(this,VW.forms.baseFunctions);
this.setup();
VW.scheduleSlider=new VW.ui.ScheduleSlider();
this.assembleQuery=function(){if(this.options.form.length){var g=this.options.form,f=_.find(_.unique(_.map(g.find("[name]"),function(j){return j.name
})),function(j){return j.indexOf("contactMethod")>-1
}),h={brand:"VW",firstName:g.find(".firstName").val(),lastName:g.find("input.lastName").val(),email:g.find("input.email").val(),requestTestDrive:"true",comments:VW.utilities.appendVinToComments(g.find(".scheduleDates .scheduleDate").text(),(!_.isUndefined(window.vehicle))?window.vehicle.vin:""),preferredContactMethod:g.find('.contactRadioContainer input[name="'+f+'"]:checked').val(),"tag-CampaignID":_.isFunction(bt_cookie)?bt_cookie("s_campaign"):"","tag-OmnitureID":_.isFunction(bt_cookie)?bt_cookie("s_vi"):"","tag-BrightTagID":_.isFunction(bt_cookie)?bt_cookie("BTid"):"",zip:VW.data.getLocation(),formName:"Schedule Test Drive",subType:"vw_vehicle profile page"};
var c=g.find(".phone1").val()+g.find(".phone2").val()+g.find(".phone3").val();
if(c.length=="10"){_.extend(h,{phone:c})
}var d=g.find(".dealerSelect input:checked").val();
d?h.dealerId=g.find(".dealerSelect input:checked").val():"";
if(!_.isUndefined(window.vehicle)){h.vin=vehicle.vin;
h.engine=vehicle.engineDescription;
h.interiorColor=vehicle.interiorColorDescription
}}h=_.extend(this.options.formValues,h);
return $.param(h)
};
this.submit=function(g,c){if(this.button.hasClass("disabled")){return false
}var f=g;
var h=c;
var d=this;
this.button.addClass("disabled");
$.ajax({type:"POST",url:this.postUrl("/formhandler/leads.json",this.assembleQuery())}).done(function(j){if(_.isFunction(f)){f(j)
}var k={formName:"Schedule a Test Drive",userZip:VW.data.getLocation(),formData:d.options.formValues};
VW.radio("form:complete").broadcast(k);
d.button.removeClass("disabled");
console.log("success",j)
}).fail(function(j){if(_.isFunction(h)){h(j.responseText)
}else{console.log(j.responseText)
}var k={formName:"Schedule a Test Drive",userZip:VW.data.getLocation(),errorResponse:j.responseText};
VW.radio("form:error").broadcast(k);
d.button.removeClass("disabled")
})
}
}});
_.extend(VW.forms,{contactDealer:function(a){var b={formType:"lead"};
this.options=_.extend(b,a);
_.extend(this,VW.forms.baseFunctions);
this.setup();
this.assembleQuery=function(){if(this.options.form.length){var g=this.options.form;
var j;
if(g.find(".contactRadioContainer input[name=buyNewCar]:checked").length){j=g.find("textarea.message").val()+", "+g.find(".contactRadioContainer input[name=buyNewCar]:checked").val()
}else{j=g.find("textarea.message").val()
}var f=_.find(_.unique(_.map(g.find("[name]"),function(k){return k.name
})),function(k){return k.indexOf("contactMethod")>-1
});
var h={brand:"VW",firstName:g.find("input.firstName").val(),lastName:g.find("input.lastName").val(),email:g.find("input.email").val(),comments:VW.utilities.appendVinToComments(j,(!_.isUndefined(window.vehicle))?window.vehicle.vin:""),preferredContactMethod:g.find('.contactRadioContainer input[name="'+f+'"]:checked').val(),"tag-CampaignID":_.isFunction(bt_cookie)?bt_cookie("s_campaign"):"","tag-OmnitureID":_.isFunction(bt_cookie)?bt_cookie("s_vi"):"","tag-BrightTagID":_.isFunction(bt_cookie)?bt_cookie("BTid"):"",formName:"Contact A Dealer",subType:($(".vwDealerDetail").length)?"vw_find a dealer":"vw_vehicle profile page"};
var c=g.find(".phone1").val()+g.find(".phone2").val()+g.find(".phone3").val();
if(c.length=="10"){h.phone=c
}var d=g.find(".dealerSelect input:checked").val();
d?h.dealerId=g.find(".dealerSelect input:checked").val():"";
if(!_.isUndefined(window.vehicle)){h.exteriorColor=vehicle.exteriorColorDescription;
h.year=vehicle.modelYear;
h.engine=vehicle.engineDescription;
h.interiorColor=vehicle.interiorColorDescription;
h.vin=vehicle.vin;
if(d!=vehicle.dealerid){h.comments=h.comments+", "+((!_.isUndefined(window.vehicle))?window.vehicle.dealerid:"")
}}}h=_.extend(this.options.formValues,h);
return $.param(h)
};
this.submit=function(g,c){var f=g;
var h=c;
var d=this;
$.ajax({type:"POST",url:this.postUrl("/formhandler/leads.json",this.assembleQuery())}).done(function(j){if(_.isFunction(f)){f(j)
}var k={formName:"Contact Dealer",userZip:VW.data.getLocation(),formData:d.options.formValues};
VW.radio("form:complete").broadcast(k);
console.log("success",j)
}).fail(function(j){if(_.isFunction(h)){h(j.responseText)
}else{console.log(j.responseText)
}var k={formName:"Contact Dealer",userZip:VW.data.getLocation(),errorResponse:j.responseText};
VW.radio("form:error").broadcast(k)
})
}
}});
_.extend(VW.forms,{getQuote:function(a){var b={formType:"lead",requestType:""};
this.options=_.extend(b,a);
this.button=$(this.options.form).find("input[type='submit']");
_.extend(this,VW.forms.baseFunctions);
this.setup();
this.assembleQuery=function(){if(this.options.form.length){var g=this.options.form,f=_.find(_.unique(_.map(g.find("[name]"),function(j){return j.name
})),function(j){return j.indexOf("contactMethod")>-1
}),h={brand:"VW",firstName:g.find(".firstName").val(),lastName:g.find("input.lastName").val(),email:g.find("input.email").val(),preferredContactMethod:g.find('.contactRadioContainer input[name="'+f+'"]:checked').val(),requestType:"quote",sourceType:"vw",comments:VW.utilities.appendVinToComments(g.find("textarea.message").val(),(!_.isUndefined(window.vehicle))?window.vehicle.vin:""),"tag-CampaignID":_.isFunction(bt_cookie)?bt_cookie("s_campaign"):"","tag-OmnitureID":_.isFunction(bt_cookie)?bt_cookie("s_vi"):"","tag-BrightTagID":_.isFunction(bt_cookie)?bt_cookie("BTid"):"",zip:VW.data.getLocation(),formName:"Get A Quote",subType:($(".financialServicesPaymentEstimatorWrapper").length)?"vw_payment estimator":"vw_vehicle profile page"};
var c=g.find(".phone1").val()+g.find(".phone2").val()+g.find(".phone3").val();
if(c.length=="10"){_.extend(h,{phone:c})
}var d=g.find(".dealerSelect input:checked").val();
d?h.dealerId=g.find(".dealerSelect input:checked").val():"";
if(!_.isUndefined(window.vehicle)){h.vin=vehicle.vin;
h.engine=vehicle.engineDescription;
h.interiorColor=vehicle.interiorColorDescription;
if(d!=vehicle.dealerid){h.comments=h.comments+", "+((!_.isUndefined(window.vehicle))?window.vehicle.dealerid:"")
}}}h=_.extend(this.options.formValues,h);
return $.param(h)
};
this.submit=function(h,c){if(this.button.hasClass("disabled")){return false
}var f=h;
var j=c;
var d=this;
var g=this;
this.button.addClass("disabled");
$.ajax({type:"POST",url:this.postUrl("/formhandler/leads.json",this.assembleQuery())}).done(function(k){if(_.isFunction(f)){f(k)
}var l={formName:"Get a Quote",userZip:VW.data.getLocation(),formData:d.options.formValues};
VW.radio("form:complete").broadcast(l);
g.button.removeClass("disabled");
console.log("success",k)
}).fail(function(k){if(_.isFunction(j)){j(k.responseText)
}else{console.log(k.responseText)
}var l={formName:"Get a Quote",userZip:VW.data.getLocation(),errorResponse:k.responseText};
VW.radio("form:error").broadcast(l);
g.button.removeClass("disabled")
})
}
}});
_.extend(VW.forms,{vwCustomerCare:function(a){var b={formType:"handraiser"};
$(".continue .button").on("click",function(){$(".contactInfo .legal p:first").css("display","none")
});
this.options=_.extend(b,a);
_.extend(this,VW.forms.baseFunctions);
this.setup();
this.assembleQuery=function(){if(this.options.form.length){var f=this.options.form,j=this.options.formValues,c="",d=_.find(_.unique(_.map(f.find("[name]"),function(k){return k.name
})),function(k){return k.indexOf("contactMethod")>-1
}),g=f.find('.contactRadioContainer input[name="'+d+'"]:checked').val();
if(g=="phone"){c="N"
}else{if(g=="either"){c="A"
}else{c="Y"
}}var h={brand:"VW",campaignID:"USVW-CE-2010GOLF-RSP",contactFirstName:f.find(".firstName").val(),contactLastName:f.find("input.lastName").val(),contactEmail:f.find("input.email").val(),contactEmailIndicator:c,comments:f.find("textarea.message").val(),zip:VW.data.getLocation(),"tag-CampaignID":_.isFunction(bt_cookie)?bt_cookie("s_campaign"):"","tag-OmnitureID":_.isFunction(bt_cookie)?bt_cookie("s_vi"):"","tag-BrightTagID":_.isFunction(bt_cookie)?bt_cookie("BTid"):""};
if(c!="Y"){_.extend(h,{contactPhone:f.find(".phone1").val()+f.find(".phone2").val()+f.find(".phone3").val()})
}if(f.find(".vinYes").is(":checked")){_.extend(h,{vin:f.find(".vinNumber").val(),contactZipCode:VW.location.currentLocation(),isOwner:"Y"});
h=_.omit(h,["contactAddress1"]);
j=_.omit(j,["contactAddress1"])
}else{_.extend(h,{contactAddress1:f.find(".address1").val(),isOwner:"N",contactZipCode:f.find(".zip").val()});
h=_.omit(h,["vin"]);
j=_.omit(j,["vin"])
}}return $.param(_.extend(j,h))
};
this.submit=function(g,c){var f=g;
var h=c;
var d=this;
$.ajax({type:"POST",url:this.postUrl("/formhandler/customer_care.json",this.assembleQuery())}).done(function(j){if(_.isFunction(f)){f(j)
}var k={formName:"VW Owner's Customer Care",userZip:VW.data.getLocation(),formData:VW.forms.myForms.vwCustomerCare.options.formValues};
VW.radio("form:complete").broadcast(k);
console.log("success",j)
}).fail(function(j){if(_.isFunction(h)){h(j.responseText)
}else{console.log(j.responseText)
}var k={formName:"VW Owner's Customer Care",userZip:VW.data.getLocation(),errorResponse:j.responseText};
VW.radio("form:error").broadcast(k)
})
}
}});
_.extend(VW.forms,{infoCenter:function(b){var c={};
this.options=_.extend(c,b);
_.extend(this,VW.forms.baseFunctions);
this.setup();
var a=this;
this.assembleQuery=function(){if(this.options.form.length){var h=this.options.form,f="",g=_.find(_.unique(_.map(h.find("[name]"),function(n){return n.name
})),function(o){return o.indexOf("contactMethod")>-1
}),j=h.find(".contactRadioContainer input[name="+g+"]:checked").val();
if(j=="phone"){f="N"
}else{if(j=="either"){f="B"
}else{f="Y"
}}var m=h.find("textarea.message").val(),d=h.find("[data-inputname=topic] p").text(),l="Form Topic: "+d+"; Message: "+m;
var k={brand:"VW",contactFirstName:h.find(".firstName").val(),contactLastName:h.find("input.lastName").val(),contactEmail:h.find("input.email").val(),contactEmailIndicator:f,comments:l,isOwner:"N",contactZipCode:VW.location.currentLocation(),contactPhone:"0000000000","tag-CampaignID":_.isFunction(bt_cookie)?bt_cookie("s_campaign"):"","tag-OmnitureID":_.isFunction(bt_cookie)?bt_cookie("s_vi"):"","tag-BrightTagID":_.isFunction(bt_cookie)?bt_cookie("BTid"):"",zip:VW.data.getLocation()}
}k=_.extend(this.options.formValues,k);
return $.param(k)
};
this.submit=function(h,d){var g=h;
var j=d;
var f=this;
$.ajax({type:"POST",url:this.postUrl("/formhandler/customer_care.json",this.assembleQuery())}).done(function(k){if(_.isFunction(g)){g(k)
}var l={formName:"VW Information Center",userZip:VW.data.getLocation(),formData:f.options.formValues};
VW.radio("form:complete").broadcast(l);
console.log("success",k)
}).fail(function(k){if(_.isFunction(j)){j(k.responseText)
}else{console.log(k.responseText)
}var l={formName:"VW Information Center",userZip:VW.data.getLocation(),errorResponse:k.responseText};
VW.radio("form:error").broadcast(l)
})
}
}});
_.extend(VW.forms,{vwCredit:function(a){var b={formType:"handraiser",requestType:""};
this.options=_.extend(b,a);
_.extend(this,VW.forms.baseFunctions);
this.setup();
this.assembleQuery=function(){if(this.options.form.length){var d=this.options.form,c=_.find(_.unique(_.map(d.find("[name]"),function(g){return g.name
})),function(g){return g.indexOf("contactMethod")>-1
}),f={brand:"VW",campaignID:"USVW-CE-2010GOLF-RSP",firstName:d.find(".firstName").val(),lastName:d.find("input.lastName").val(),zip:VW.location.currentLocation(),modelName:"unknown",email:d.find("input.email").val(),preferredContactMethod:d.find('.contactRadioContainer input[name="'+c+'"]:checked').val(),"tag-CampaignID":_.isFunction(bt_cookie)?bt_cookie("s_campaign"):"","tag-OmnitureID":_.isFunction(bt_cookie)?bt_cookie("s_vi"):"","tag-BrightTagID":_.isFunction(bt_cookie)?bt_cookie("BTid"):""};
if(d.find(".phone1").val()){_.extend(f,{phone:d.find(".phone1").val()+d.find(".phone2").val()+d.find(".phone3").val()})
}if(d.find(".vin").val()){_.extend(f,{vin:d.find(".vin").val()})
}if(d.find(".address1").val()&&d.find(".city").val()){_.extend(f,{street1:d.find(".address1").val(),city:d.find(".city").val(),state:d.find(".state").val()})
}}f=_.extend(this.options.formValues,f);
return $.param(f)
};
this.submit=function(g,c){var f=g;
var h=c;
var d=this;
$.ajax({type:"POST",url:this.postUrl("/formhandler/crm.json",this.assembleQuery())}).done(function(j){if(_.isFunction(f)){f(j)
}var k={formName:"Volkswagen Credit",userZip:VW.data.getLocation(),formData:d.options.formValues};
VW.radio("form:complete").broadcast(k);
console.log("success",j)
}).fail(function(j){if(_.isFunction(h)){h(j.responseText)
}else{console.log(j.responseText)
}var k={formName:"Volkswagen Credit",userZip:VW.data.getLocation(),errorResponse:j.responseText};
VW.radio("form:error").broadcast(k)
})
}
}});
_.extend(VW.forms,{sponsorship:function(c){var g={formType:"other",requestType:""};
this.options=_.extend(g,c);
_.extend(this,VW.forms.baseFunctions);
this.setup();
var f=this.options.form;
var a=this;
var b=$(".sponsorshipForm");
VW.utilities.activateDropdown(".formContainer .formDropDown",function(j){var k=$(j.currentTarget),h=k.parents(".dropdown").parents(".contactTextbox").siblings(".addTextbox").find("input[name=pastSponsorsOther]");
k.parents(".dropdownbox").find('input[type="hidden"]').val(VW.utilities.stateAbbreviationLookup(k.text()));
k.parents(".formDropDown").val(k.text());
if(k.text()=="Other"){a.showHiddenField(h)
}if($(window).scrollTop()>k.parents(".contactTextbox").offset().top){$("body").animate({scrollTop:k.parents(".contactTextbox").offset().top},500,"swing")
}});
$(".dateInput").datepicker({format:"yyyy-mm-dd",orientation:"auto right"});
$(".contactContainer").find(".add").on("click",function(j){var h=$(j.currentTarget);
a.showHiddenField(h)
});
$(".contactContainer").find(".add a").on("click",function(m){var l=$(m.currentTarget).parents(".contactTextbox").siblings(".dropDownWrapper"),n=l.find(".pastSponsors.first"),k=n.clone(),j=l.find(".contactTextbox"),h=j.length,o="pastSponsors"+h;
k.removeClass("first").find(".label").remove();
k.find(".formDropDown").attr("name",o).attr("id",o).removeClass("open");
k.find("p").text("Select One");
j.last().after(k);
k.parents(".dropDownWrapper").addClass("showRemove");
d();
VW.utilities.activateDropdown(".formContainer #"+o);
m.preventDefault()
});
var d=function(){$(".contactContainer").find(".remove a").on("click",function(k){var j=$(this).parents(".contactTextbox"),h=j.parents(".dropDownWrapper").find(".dropdownbox");
if(h.length>1){var l=j.closest(".dropdownbox");
!l.hasClass("first")?l.remove():"";
if(h.length>2){j.remove();
$(".contactTextbox.first").removeClass("showRemove")
}}k.preventDefault()
})
};
$(".contactRadioContainer input").change(function(){if($(this).parents(".contactRadioContainer").hasClass("error")){$(this).parents(".contactRadioContainer").removeClass("error")
}});
$(".contactContainer .upload").on("click",function(h){h.preventDefault();
h.stopPropagation();
var j=$(this).parent().find(".uploadInput");
j.click()
});
$(".uploadInput").change(function(){var h=$(this).val();
var j=h.lastIndexOf("\\");
if(j>=0){h=h.substring(j+1)
}$(this).parents(".uploadContainer").find(".uploadInputVisible").text(h)
});
a.options.form.find(".submit").on("click","input",function(j){var h=a.validate(f);
if(h){f.submit()
}else{VW.utilities.scrollToDiv(f.find(".error").eq(0).parent())
}j.preventDefault();
return false
});
VW.radio("sponsorshipForm:successScreen").subscribe(function(){var k=VW.forms.myForms.sponsorship,j=b.find(".pane2"),h=b.find(".contactSuccess");
k.successErrorScreen(j,h);
k.updateSuccessPane(b,k)
});
VW.radio("sponsorshipForm:errorScreen").subscribe(function(){var k=VW.forms.myForms.sponsorship,j=b.find(".pane2"),h=b.find(".contactError");
k.successErrorScreen(j,h);
k.updateSuccessPane(b,k)
});
f.ajaxForm({success:function(h){if(h.result.indexOf("failed")>-1){var j={formName:"Sponsorship",userZip:VW.data.getLocation(),errorResponse:h.responseText};
VW.radio("form:error").broadcast(j);
VW.radio("sponsorshipForm:errorScreen").broadcast(j)
}else{var j={formName:"Sponsorship",userZip:VW.data.getLocation(),formData:VW.forms.myForms.sponsorship.options.formValues};
VW.radio("form:complete").broadcast(j);
VW.radio("sponsorshipForm:successScreen").broadcast(j)
}},error:function(){var h={formName:"Sponsorship",userZip:VW.data.getLocation(),errorResponse:response.responseText};
VW.radio("form:error").broadcast(h);
VW.radio("sponsorshipForm:errorScreen").broadcast(h)
}})
}});
$(function(){if($("body").hasClass("sponsorship")){VW.radio("sponsorship:formOpened").broadcast();
VW.forms.myForms.sponsorship=new VW.forms.sponsorship({form:$("#sponsorshipForm"),formValues:{formName:"Special Offers"}})
}});
_.extend(VW.forms,{specialOffers:function(a){var b={formType:"lead",requestType:"contactDealer",sourceType:"VW"};
this.options=_.extend(b,a);
_.extend(this,VW.forms.baseFunctions);
this.setup();
this.assembleQuery=function(){if(this.options.form.length){var f=this.options.form,h=this.options.formValues,d=_.find(_.unique(_.map(f.find("[name]"),function(j){return j.name
})),function(j){return j.indexOf("contactMethod")>-1
}),g={brand:"VW",firstName:f.find(".firstName").val(),lastName:f.find("input.lastName").val(),email:f.find("input.email").val(),preferredContactMethod:f.find('.contactRadioContainer input[name="'+d+'"]:checked').val(),comments:f.find("textarea.message").val(),"tag-CampaignID":_.isFunction(bt_cookie)?bt_cookie("s_campaign"):"","tag-OmnitureID":_.isFunction(bt_cookie)?bt_cookie("s_vi"):"","tag-BrightTagID":_.isFunction(bt_cookie)?bt_cookie("BTid"):"",zip:VW.data.getLocation(),formName:"Contact A Dealer",subType:($(".vwSpecialOfferPage ").length)?"vw_special offers":"vw_model bucket page_special offers"};
var c=f.find(".phone1").val()+f.find(".phone2").val()+f.find(".phone3").val();
if(c.length=="10"){_.extend(g,{phone:c})
}}g=_.extend(h,g);
return $.param(g)
};
this.submit=function(g,c){var f=g;
var h=c;
var d=this;
$.ajax({type:"POST",url:this.postUrl("/formhandler/leads.json",this.assembleQuery())}).done(function(j){if(_.isFunction(f)){f(j)
}var k={formName:"Special Offers",userZip:VW.data.getLocation(),formData:d.options.formValues};
VW.radio("form:complete").broadcast(k);
console.log("success",j)
}).fail(function(j){if(_.isFunction(h)){h(j.responseText)
}else{console.log(j.responseText)
}var k={formName:"Special Offers",userZip:VW.data.getLocation(),errorResponse:j.responseText};
VW.radio("form:error").broadcast(k)
})
}
}});
_.extend(VW.forms,{contactAORDealer:function(a){var b={formType:"lead"};
this.options=_.extend(b,a);
_.extend(this,VW.forms.baseFunctions);
this.setup();
this.assembleQuery=function(){if(this.options.form.length){var h=this.options.form;
var l;
var f=_.find(_.unique(_.map(h.find("[name]"),function(m){return m.name
})),function(m){return m.indexOf("buyNewCar")>-1
});
if(h.find(".contactRadioContainer input[name="+f+"]:checked").length){l=h.find(".contactRadioContainer input[name="+f+"]:checked").val()
}else{l=h.find("textarea.message").val()
}var g=_.find(_.unique(_.map(h.find("[name]"),function(m){return m.name
})),function(m){return m.indexOf("contactMethod")>-1
});
var j=_.findWhere(VW.data.dealers,{aor:true});
var d=(j&&j.dealerid)?j.dealerid:"";
var k={brand:"VW",dealerId:d,firstName:h.find("input.firstName").val(),lastName:h.find("input.lastName").val(),email:h.find("input.email").val(),preferredContactMethod:h.find('.contactRadioContainer input[name="'+g+'"]:checked').val(),requestType:"contactdealer",sourceType:"vw",subType:"vw_model bucket page",comments:l,formName:"Contact A Dealer","tag-CampaignID":_.isFunction(bt_cookie)?bt_cookie("s_campaign"):"","tag-OmnitureID":_.isFunction(bt_cookie)?bt_cookie("s_vi"):"","tag-BrightTagID":_.isFunction(bt_cookie)?bt_cookie("BTid"):"",modelName:window.formConfigurationModelNameProperty||"Golf"};
var c=h.find(".phone1").val()+h.find(".phone2").val()+h.find(".phone3").val();
if(c.length=="10"){_.extend(k,{phone:c})
}}k=_.extend(this.options.formValues,k);
return $.param(k)
};
this.submit=function(g,c){var f=g;
var h=c;
var d=this;
$.ajax({type:"POST",url:this.postUrl("/formhandler/leads.json",this.assembleQuery())}).done(function(j){if(_.isFunction(f)){f(j)
}var k={formName:"Future Model",userZip:VW.data.getLocation(),formData:d.options.formValues};
VW.radio("form:complete").broadcast(k);
console.log("success",j)
}).fail(function(j){if(_.isFunction(h)){h(j.responseText)
}else{console.log(j.responseText)
}var k={formName:"Future Model",userZip:VW.data.getLocation(),errorResponse:j.responseText};
VW.radio("form:error").broadcast(k)
})
}
}});
_.extend(VW.forms,{unifiedContactFormContactDealer:function(a){var b={formType:"lead"};
this.options=_.extend(b,a);
_.extend(this,VW.forms.baseFunctions);
this.assembleQuery=function(){if(this.options.form.length){var f=this.options.form;
var k=f.find("textarea.message").val();
var d=_.find(_.unique(_.map(f.find("[name]"),function(l){return l.name
})),function(l){return l.indexOf("contactMethod")>-1
});
var j=$("#lightboxContent").find(".localDealerInfoHeader").data("dealerid");
if(!j){var g=_.findWhere(VW.data.dealers,{aor:true});
j=(g&&g.dealerid)?g.dealerid:""
}var h={brand:"VW",dealerId:j,firstName:f.find("input.firstName").val(),lastName:f.find("input.lastName").val(),email:f.find("input.email").val(),preferredContactMethod:f.find('.contactRadioContainer input[name="'+d+'"]:checked').val(),requestType:"contactdealer",sourceType:"vw",subType:VW.utilities.getSubType(),comments:k,formName:"Contact A Dealer","tag-CampaignID":_.isFunction(bt_cookie)?bt_cookie("s_campaign"):"","tag-OmnitureID":_.isFunction(bt_cookie)?bt_cookie("s_vi"):"","tag-BrightTagID":_.isFunction(bt_cookie)?bt_cookie("BTid"):""};
var c=f.find(".phone1").val()+f.find(".phone2").val()+f.find(".phone3").val();
if(c.length===10){_.extend(h,{phone:c})
}}h=_.extend(this.options.formValues,h);
return $.param(h)
};
this.submit=function(g,c){var f=g;
var h=c;
var d=this;
$.ajax({type:"POST",url:this.postUrl("/formhandler/leads.json",this.assembleQuery())}).done(function(j){if(_.isFunction(f)){f(j)
}var k={formName:"UnifiedForm - Contact Dealer",userZip:VW.data.getLocation(),formData:d.options.formValues};
VW.radio("form:complete").broadcast(k);
console.log("success",j)
}).fail(function(j){if(_.isFunction(h)){h(j.responseText)
}else{console.log(j.responseText)
}var k={formName:"UnifiedForm - Contact Dealer",userZip:VW.data.getLocation(),errorResponse:j.responseText};
VW.radio("form:error").broadcast(k)
})
}
},unifiedContactFormGetQuote:function(a){var b={formType:"lead"};
this.options=_.extend(b,a);
_.extend(this,VW.forms.baseFunctions);
this.assembleQuery=function(){if(this.options.form.length){var c=this.options.form;
var k;
var o=_.find(_.unique(_.map(c.find("[name]"),function(s){return s.name
})),function(s){return s.indexOf("buyNewCar")>-1
});
if(c.find(".contactRadioContainer input[name="+o+"]:checked").length){k=c.find(".contactRadioContainer input[name="+o+"]:checked").val()
}else{k=c.find("textarea.message").val()
}var r=_.find(_.unique(_.map(c.find("[name]"),function(s){return s.name
})),function(s){return s.indexOf("contactMethod")>-1
});
var n=$("#lightboxContent").find(".localDealerInfoHeader").data("dealerid");
if(!n){var q=_.findWhere(VW.data.dealers,{aor:true});
n=(q&&q.dealerid)?q.dealerid:""
}var l=c.find("input.model").val();
var d=c.find("input.trim").val();
var f=(l=="Golf GTI")?"2015":"2014";
if(VW.data&&VW.data.modelTrimLookup&&VW.data.modelTrimLookup[l]&&VW.data.modelTrimLookup[l][d]&&VW.data.modelTrimLookup[l][d].modelCodeKeys){var m=VW.data.modelTrimLookup[l][d].modelCodeKeys;
var j=[];
_.each(m,function(s){j.push(parseInt(s.substring(0,4)))
});
var h=Math.max.apply(Math,j);
if(h){h=h.toString()
}if(h.length===4){f=h
}}var g={brand:"VW",dealerId:n,firstName:c.find("input.firstName").val(),lastName:c.find("input.lastName").val(),email:c.find("input.email").val(),preferredContactMethod:c.find('.contactRadioContainer input[name="'+r+'"]:checked').val(),requestType:"quote",sourceType:"vw",subType:VW.utilities.getSubType(),comments:k,formName:"Get A Quote","tag-CampaignID":_.isFunction(bt_cookie)?bt_cookie("s_campaign"):"","tag-OmnitureID":_.isFunction(bt_cookie)?bt_cookie("s_vi"):"","tag-BrightTagID":_.isFunction(bt_cookie)?bt_cookie("BTid"):"",modelName:l,trim:d,year:f};
var p=c.find(".phone1").val()+c.find(".phone2").val()+c.find(".phone3").val();
if(p.length===10){_.extend(g,{phone:p})
}}g=_.extend(this.options.formValues,g);
return $.param(g)
};
this.submit=function(g,c){var f=g;
var h=c;
var d=this;
$.ajax({type:"POST",url:this.postUrl("/formhandler/leads.json",this.assembleQuery())}).done(function(j){if(_.isFunction(f)){f(j)
}var k={formName:"UnifiedForm - Get a Quote",userZip:VW.data.getLocation(),formData:d.options.formValues};
VW.radio("form:complete").broadcast(k);
console.log("success",j)
}).fail(function(j){if(_.isFunction(h)){h(j.responseText)
}else{console.log(j.responseText)
}var k={formName:"UnifiedForm - Get a Quote",userZip:VW.data.getLocation(),errorResponse:j.responseText};
VW.radio("form:error").broadcast(k)
})
}
}});
_.extend(VW.forms,{vehicleProtection:function(a){var b={formType:"handraiser"};
this.options=_.extend(b,a);
_.extend(this,VW.forms.baseFunctions);
this.setup();
this.assembleQuery=function(){if(this.options.form.length){var f=this.options.form,d=_.find(_.unique(_.map(f.find("[name]"),function(h){return h.name
})),function(h){return h.indexOf("contactMethod")>-1
}),g={brand:"VW",firstName:f.find(".firstName").val(),lastName:f.find("input.lastName").val(),email:f.find("input.email").val(),preferredContactMethod:f.find('.contactRadioContainer input[name="'+d+'"]:checked').val(),"tag-CampaignID":_.isFunction(bt_cookie)?bt_cookie("s_campaign"):"","tag-OmnitureID":_.isFunction(bt_cookie)?bt_cookie("s_vi"):"","tag-BrightTagID":_.isFunction(bt_cookie)?bt_cookie("BTid"):"",requestType:"contactDealer",formName:"Contact A Dealer",subType:"vw_financial services"};
var c=f.find(".phone1").val()+f.find(".phone2").val()+f.find(".phone3").val();
if(c.length=="10"){_.extend(g,{phone:c})
}}g=_.extend(this.options.formValues,g);
return $.param(g)
};
this.submit=function(g,c){var f=g;
var h=c;
var d=this;
$.ajax({type:"POST",url:this.postUrl("/formhandler/leads.json",this.assembleQuery())}).done(function(j){if(_.isFunction(f)){f(j)
}var k={formName:"Vehicle Protection Advisor",userZip:VW.data.getLocation(),formData:d.options.formValues};
VW.radio("form:complete").broadcast(k);
console.log("success",j)
}).fail(function(j){if(_.isFunction(h)){h(j.responseText)
}else{console.log(j.responseText)
}var k={formName:"Vehicle Protection Advisor",userZip:VW.data.getLocation(),errorResponse:j.responseText};
VW.radio("form:error").broadcast(k)
})
}
}});
_.extend(VW.forms,{futureModel:function(a){var b={formType:"handraiser"};
this.options=_.extend(b,a);
_.extend(this,VW.forms.baseFunctions);
this.setup();
this.assembleQuery=function(){if(this.options.form.length){var g=this.options.form;
var j;
var d=_.find(_.unique(_.map(g.find("[name]"),function(k){return k.name
})),function(k){return k.indexOf("buyNewCar")>-1
});
if(g.find(".contactRadioContainer input[name="+d+"]:checked")){j=g.find(".contactRadioContainer input[name="+d+"]:checked").val()
}else{j=g.find("textarea.message").val()
}var f=_.find(_.unique(_.map(g.find("[name]"),function(k){return k.name
})),function(k){return k.indexOf("contactMethod")>-1
});
var h={brand:"VW",campaignID:"USVW-CE-EGOLF-HANDRAISRS",firstName:g.find("input.firstName").val(),lastName:g.find("input.lastName").val(),email:g.find("input.email").val(),zipCode:g.find("input.zip").val(),preferredContactMethod:g.find('.contactRadioContainer input[name="'+f+'"]:checked').val(),requestType:"Handraiser",sourceType:"vw",comments:j,"tag-CampaignID":_.isFunction(bt_cookie)?bt_cookie("s_campaign"):"","tag-OmnitureID":_.isFunction(bt_cookie)?bt_cookie("s_vi"):"","tag-BrightTagID":_.isFunction(bt_cookie)?bt_cookie("BTid"):"",formName:"Handraiser",subType:"vw_model bucket page"};
var c=g.find(".phone1").val()+g.find(".phone2").val()+g.find(".phone3").val();
if(c.length=="10"){_.extend(h,{phone:c})
}}h=_.extend(this.options.formValues,h);
return $.param(h)
};
this.submit=function(g,c){var f=g;
var h=c;
var d=this;
$.ajax({type:"POST",url:this.postUrl("/formhandler/crm.json",this.assembleQuery())}).done(function(j){if(_.isFunction(f)){f(j)
}var k={formName:"Future Model",userZip:VW.data.getLocation(),formData:d.options.formValues};
VW.radio("form:complete").broadcast(k);
console.log("success",j)
}).fail(function(j){if(_.isFunction(h)){h(j.responseText)
}else{console.log(j.responseText)
}var k={formName:"Future Model",userZip:VW.data.getLocation(),errorResponse:j.responseText};
VW.radio("form:error").broadcast(k)
})
}
}});
$(document).ready(function(){VW.radio("contact:openOffersForm").subscribe([b,this]);
VW.radio("contact:setDealerInfo").subscribe([a,this]);
var c=$('input[type="submit"]');
function b(l,k){var j=k;
VW.forms.myForms.specialOffers=new VW.forms.specialOffers({form:$(l.currentTarget).siblings(".vwPage").find(".contactContainer"),formValues:{formName:"Special Offers",zip:VW.location.currentLocation(),dealerId:VW.data.closestAORDealer().dealerid,requestType:"contactdealer_generic",sourceType:"vw"}});
var d=VW.forms.myForms.specialOffers,m=$(l.currentTarget);
d.toggleFormOpen(l,d,m);
var h=VW.data.closestAORDealer(),f=$(l.currentTarget).siblings(".vwPage"),g=f.find(".formMessage.dealerInfo");
f.find(".pane1, .pane2").each(function(o,n){$(n).find("[data-model-href]").each(function(p,r){var q=$(r);
q.attr("href",h.url)
});
$(n).find("[data-model]").each(function(p,r){var q=$(r);
q.html(h[q.data("model")])
})
});
g.show();
$(".specialOfferUnitBlock .close").off("click").on("click",function(n){d.toggleFormOpen(n)
});
$(".specialOfferUnitBlock .contactContainer .continue").off("click","a.button").on("click","a.button",function(n){n.preventDefault();
n.stopPropagation();
d.nextPane(n,d)
});
$(".specialOfferUnitBlock .contactContainer .closeWindow").off("click","a").on("click","a",function(n){n.preventDefault();
n.stopPropagation();
d.toggleFormOpen(n)
});
$(".vwSpecialOfferPage .submit, .specialOfferUnitBlock .submit").off("click","input").on("click","input",function(r){var p=$(this).parents(".formContainer").parents(".vwBootstrapColumns").find(".emailUs"),n={modelName:j.model=="appliesToMultiple"?"All Models":j.model,trim:j.trim==""||j.trim==undefined?"":j.trim};
_.extend(VW.forms.myForms.specialOffers.options.formValues,n);
var o=VW.forms.myForms.specialOffers;
var q=o.validate($(r.currentTarget));
if(c.hasClass("disabled")){return
}if(q){c.addClass("disabled");
o.submit(function(){var s=$(r.currentTarget).parents(".contactContainer");
$(s).find(".pane2").hide();
$(s).find(".contactSuccess").show();
var v=$(s).find(".contactSuccess").parents(".quickViewWindowWrapper"),u=v.find(".quickViewWindowBackground").outerHeight(),t=VW.data.closestAORDealer(VW.forms.myForms.specialOffers.options.formValues.dealerId);
v.css("height",u);
VW.forms.myForms.specialOffers.updateSuccessPane($(s),o,t);
var t={formName:o.options.formValues.formName,step:"submit clicked",formData:VW.forms.myForms.specialOffers.options.formValues};
VW.radio("form:stepChange").broadcast(t);
c.removeClass("disabled")
},function(){console.log("error");
var u=$(r.currentTarget).parents(".contactContainer"),v=$(r.currentTarget).parents(".pane"),s=u.find(".contactError").parents(".quickViewWindowWrapper"),t=VW.forms.myForms.specialOffers.getWrapperHeight(s);
v.hide();
u.find(".contactError").show().css("height",t);
VW.forms.myForms.specialOffers.updateSuccessPane(u,o);
c.removeClass("disabled")
})
}})
}function a(g){var d=VW.data.getDealerByID(VW.data.closestAORDealer().dealerid,function(h){d=h
}),f=$(g).find(".pane");
VW.forms.myForms.specialOffers.updateDealerInfo(f,d)
}});
$(document).ready(function(){var a=$(".formContainer").find(".contactAORDealer"),c=false,b=$('input[type="submit"]');
VW.forms.myForms.contactAORDealer=new VW.forms.contactAORDealer({form:a,formValues:{formName:"GTI - Contact Dealer",modelName:"GTI",requestType:"contactDealer",sourceType:"VW"}});
var f=$(".js-toggleFormOpen");
function d(){var j=_.findWhere(VW.data.dealers,{aor:true});
var h=$(".localDealerInfoHeader");
var g=encodeURIComponent(j.address1+" "+j.city+" "+j.state+" "+j.postalcode);
h.find(".js-locationChange").html(VW.location.currentLocation());
h.find(".dealerName").html(j.name);
h.find(".dealerAddress").html(j.address1+"<br />"+(j.address2?j.address2+"<br />":"")+j.city+", "+j.state+" "+j.postalcode+"<br />"+j.phonepretty);
h.find(".map").css("background-image","url(http://maps.googleapis.com/maps/api/staticmap?&center="+g+"&markers=icon:"+VW.googleMapsMarkerImage+"|"+g+"&zoom=14&size=250x250&sensor=false)");
h.find(".directions").find("a").attr("href","https://maps.google.com/maps?saddr=&daddr="+g);
h.find(".website").find("a").attr("href",_.findWhere(VW.data.dealers,{dealerid:j.dealerid}).url);
if(!c){VW.radio("globalData:dataloaded").subscribe(d);
c=true
}}if(VW.store.get("userLocationIsReallyConfirmed")){if(VW.data.loaded){d()
}else{c=true;
VW.radio("globalData:dataloaded").subscribe(d)
}}f.off("click").on("click",function(j){j.preventDefault();
var g=$(j.currentTarget);
function h(){VW.radio("location:confirmedByUser").unsubscribe(h);
d();
VW.forms.myForms.contactAORDealer.toggleFormOpen(j,VW.forms.myForms.contactAORDealer,g)
}if(g.hasClass("js-checkZipConfirmation")){if(!VW.store.get("userLocationIsReallyConfirmed")){VW.radio("location:notConfirmedByUser").broadcast();
VW.radio("location:confirmedByUser").subscribe(h)
}else{VW.forms.myForms.contactAORDealer.toggleFormOpen(j,VW.forms.myForms.contactAORDealer,g)
}}else{VW.forms.myForms.contactAORDealer.toggleFormOpen(j,VW.forms.myForms.contactAORDealer,g)
}});
a.find(".closeWindow").find("a").off("click").on("click",function(h){h.preventDefault();
var g=$(h.currentTarget);
VW.forms.myForms.contactAORDealer.toggleFormOpen(h,VW.forms.myForms.contactAORDealer,g)
});
a.find(".continue").off("click","a.button").on("click","a.button",function(h){h.preventDefault();
h.stopPropagation();
var g=VW.forms.myForms.contactAORDealer;
g.nextPane(h,g)
});
a.find(".close").off("click").on("click",function(h){h.preventDefault();
var g=$(h.currentTarget);
VW.forms.myForms.contactAORDealer.toggleFormOpen(h,VW.forms.myForms.contactAORDealer,g)
});
a.find(".submit").off("click","input").on("click","input",function(k){var g=VW.forms.myForms.contactAORDealer,j=g.validate($(k.currentTarget)),h=a;
g.options.formValues.zip=VW.location.currentLocation();
if(b.hasClass("disabled")){return
}if(j){b.addClass("disabled");
g.submit(function(){var m=$(k.currentTarget).parents(".pane"),l=h.find(".contactSuccess");
g.successErrorScreen(m,l);
VW.forms.myForms.contactAORDealer.updateSuccessPane(h,g);
var n={formName:g.options.formValues.formName,step:"submit clicked",formData:g.options.formValues};
VW.radio("form:stepChange").broadcast(n);
$("input[type=submit]").removeClass("disabled")
},function(){var m=$(k.currentTarget).parents(".pane"),l=h.find(".contactError");
g.successErrorScreen(m,l);
VW.forms.myForms.contactAORDealer.updateSuccessPane(h,g);
$("input[type=submit]").removeClass("disabled")
})
}})
});
$(document).ready(function(){var a=$("#lightboxContent"),d=false,c=null;
VW.radio("unifiedForm:bindEvents").subscribe(function(){b.createFormLightbox()
});
var b={toggleNav:function(j){j.addClass("selected");
j.siblings().removeClass("selected");
var h=j.hasClass("quote")?true:false;
this.toggleFormOpen(h)
},toggleFormOpen:function(j){var h=$(".unifiedContactForm");
if(j){h.find(".getQuoteForm").removeClass("hide");
h.find(".contactDealerForm").addClass("hide")
}else{h.find(".contactDealerForm").removeClass("hide");
h.find(".getQuoteForm").addClass("hide")
}h.animate({scrollTop:0})
},populateAORdealerData:function(){var k=_.findWhere(VW.data.dealers,{aor:true});
var j=$(".localDealerInfoHeader");
var h=encodeURIComponent(k.address1+" "+k.city+" "+k.state+" "+k.postalcode);
j.find(".dealerName").html(k.name);
j.find(".dealerAddress").html(k.address1+" "+(k.address2?k.address2+" ":"")+k.city+", "+k.state+" "+k.postalcode+" - "+k.phonepretty);
j.find(".website").attr("href",_.findWhere(VW.data.dealers,{dealerid:k.dealerid}).url);
j.attr("data-dealerid",k.dealerid);
if(c){c.options.html=$(".lightboxForm").html()
}if(!d){VW.radio("globalData:dataloaded").subscribe(this.populateAORdealerData);
d=true
}},populateDealerData:function(h){var j=$(".localDealerInfoHeader");
j.find(".dealerName").html(h.data("dealername"));
j.find(".dealerAddress").html(h.data("dealeraddress"));
j.attr("data-dealerid",h.data("dealerid"))
},subscribeToDataLoadedToUpdateAORDealer:function(){if(VW.data.loaded){this.populateAORdealerData()
}else{if(!d){d=true;
VW.radio("globalData:dataloaded").subscribe(this.populateAORdealerData)
}}},preSelectTab:function(h){if(h){this.toggleNav($(".unifiedFormNavWrapper").find("."+h))
}},createFormLightbox:function(){var h=this;
c=new VW.lightbox({elms:$(".js-lightboxForm"),type:"html",addAccentClass:false,fullWidth:true,isFixed:true,retainPageScroll:true,showNav:false,html:$(".lightboxForm").html(),closeButtonImage:"closeButtonGray_2x.png",closeButtonImageHover:"closeButtonGrayOver_2x.png",closeButtonStyles:{top:"42px",height:"73px",width:"73px"},css:{"background-color":"#f1f5f6"},beforeOpen:function(k){var j=this;
if(k.data("dealername")){h.populateDealerData(k)
}if(k.data("defaulttab")){h.preSelectTab(k.data("defaulttab"),true)
}$(".closeLightbox").off("click").on("click",function(){j.closeLightbox()
})
},afterOpen:function(k){a=$("#lightboxContent").find(".unifiedContactForm");
VW.forms.myForms.unifiedContactFormContactDealer=new VW.forms.unifiedContactFormContactDealer({form:a.find(".contactDealerForm"),formValues:{formName:"UnifiedForm - Contact Dealer",modelName:k.data("model")||"no",sourceType:"VW"}});
VW.forms.myForms.unifiedContactFormContactDealer.setup();
function j(){a.find(".fixedWrapper").toggleClass("scrolled",a.scrollTop()>0)
}a.off("scroll",j).on("scroll",j);
VW.forms.myForms.unifiedContactFormGetQuote=new VW.forms.unifiedContactFormGetQuote({form:a.find(".getQuoteForm"),formValues:{formName:"UnifiedForm - Get a Quote",sourceType:"VW"}});
VW.forms.myForms.unifiedContactFormGetQuote.setup();
h.attachClickEvents();
f.init(k)
},afterClose:function(){this.contentInnerDiv.off("scroll");
$(".closeLightbox").off("click")
}})
},handleLocationConfirmation:function(j){j.preventDefault();
function h(){VW.radio("location:confirmedByUser").unsubscribe(h);
$(".js-lightboxForm").off("click",b.handleLocationConfirmation);
b.subscribeToDataLoadedToUpdateAORDealer();
setTimeout(function(){b.createFormLightbox();
c.openLightbox(false,$(j.currentTarget))
},400)
}VW.radio("location:notConfirmedByUser").broadcast();
VW.radio("location:confirmedByUser").subscribe(h)
},attachClickEvents:function(){a=$("#lightboxContent").find(".unifiedContactForm");
var h=this;
a.find(".unifiedFormNavWrapper").find("span").off("click").on("click",function(){h.toggleNav($(this))
});
a.find(".continue").off("click","a.button").on("click","a.button",function(l){l.preventDefault();
l.stopPropagation();
var k=VW.forms.myForms.unifiedContactFormContactDealer;
if($(l.currentTarget).parents(".getQuoteForm").length){k=VW.forms.myForms.unifiedContactFormGetQuote
}k.nextPane(l,k)
});
a.find(".goBack").off("click","a.button").on("click","a.button",function(l){l.preventDefault();
l.stopPropagation();
var k=VW.forms.myForms.unifiedContactFormContactDealer;
if($(l.currentTarget).parents(".getQuoteForm").length){k=VW.forms.myForms.unifiedContactFormGetQuote
}k.prevPane(l,k)
});
var j=$('input[type="submit"]');
a.find(".submit").off("click","input").on("click","input",function(n){var k=$(n.currentTarget).parents(".getQuoteForm").length?VW.forms.myForms.unifiedContactFormGetQuote:VW.forms.myForms.unifiedContactFormContactDealer,m=k.validate($(n.currentTarget)),l=k===VW.forms.myForms.unifiedContactFormGetQuote?a.find(".getQuoteForm"):a.find(".contactDealerForm");
if(j.hasClass("disabled")){return
}k.options.formValues.zip=VW.location.currentLocation();
if(m){j.addClass("disabled");
k.submit(function(){var p=$(n.currentTarget).parents(".pane"),o=l.find(".contactSuccess");
k.successErrorScreen(p,o);
k.updateSuccessPane(l,k);
var q={formName:k.options.formValues.formName,step:"submit clicked",formData:k.options.formValues};
VW.radio("form:stepChange").broadcast(q);
j.removeClass("disabled")
},function(){var p=$(n.currentTarget).parents(".pane"),o=l.find(".contactError");
k.successErrorScreen(p,o);
k.updateSuccessPane(l,k);
j.removeClass("disabled")
})
}})
}};
var f={init:function(k){var h=this;
this.vehicles=[];
this.lookup={};
var j=k||{};
if(VW.data.modelTrimLookup){h.loadModels(k);
return
}var l=$.get(window.sdlBaseUrl+"/rest/product/products/summary/list.json",function(m){_.each(m,function(o){if(o.model=="Jetta Sportwagen"){o.model="Jetta SportWagen"
}});
m=_.sortBy(_.sortBy(m,function(o){return o.msrp
}),function(o){return o.model
});
h.vehicles=_.groupBy(m,"model");
var n=_.uniq(_.pluck(m,"model"));
$.get(window.sdlBaseUrl+"/rest/product/products/features/fuzzyfeaturedefinition/list.json",function(o){console.time("trim family lookup took");
var p=_.pluck(_.findWhere(o,{id:"trimfamilies"}).items,"items");
_.each(n,function(q){h.lookup[q]={};
var r=_.pluck(h.vehicles[q],"modelCodeKey");
_.each(r,function(t){var s="";
_.each(p,function(v){var u=_.filter(v,function(w){return(w.items.indexOf(t)>-1)
});
if(u.length){s=u[0]
}});
if(s){if(s.groupName.replace(s.groupDescription,"")==="Hybrid "){s=s.groupName
}else{s=s.groupDescription
}if(!h.lookup[q][s]){h.lookup[q][s]={}
}if(!h.lookup[q][s].modelCodeKeys){h.lookup[q][s].modelCodeKeys=[]
}if(!h.lookup[q][s].msrp){h.lookup[q][s].msrp=_.findWhere(h.data,{modelCodeKey:t})?parseInt(_.findWhere(h.data,{modelCodeKey:t}).msrp):""
}h.lookup[q][s].modelCodeKeys.push(t)
}})
});
VW.data.modelTrimLookup=h.lookup;
h.loadModels(k);
console.timeEnd("trim family lookup took")
})
}).fail(function(m){console.warn("ERROR",m)
})
},autoSelectModel:function(j){var h=this;
_.each(a.find(".selectModelContainer").find("li"),function(l){if(j.data().model.toLowerCase()==$(l).data().carModel.toLowerCase()){var k=VW.utilities.convertToTitleCase(j.data().model);
if(k=="Jetta Sportwagen"){k="Jetta SportWagen"
}else{if(k=="Cc"){k="CC"
}else{if(k=="Golf Gti"){k="Golf GTI"
}}}a.find(".selectModelContainer").find("p").html(k);
$("#lightboxContentInner .selectModelContainer input").val(k);
h.loadTrims(k,j.data().trim)
}})
},loadModels:function(k){var h=this,j=a.find(".selectModelInModal").find("ul");
_.each(_.keys(VW.data.modelTrimLookup),function(m,l){j.append('<li data-car-model="'+m+'">'+m+"</li>");
if(_.keys(VW.data.modelTrimLookup).length==(l+1)){if(_.has(k.data(),"model")){h.autoSelectModel(k)
}}});
VW.utilities.activateDropdown(".selectModelInModal",function(l){var m=$(l.currentTarget).attr("data-car-model");
$("#lightboxContentInner .selectModelContainer input").val(m);
h.loadTrims(m)
})
},loadTrims:function(k,h){var j=this;
var m=_.keys(_.values(_.pick(VW.data.modelTrimLookup,k))[0]);
this.resetDropDown();
var l=a.find(".selectTrimInModal ul");
_.each(m,function(o,n){l.append("<li data-model="+o+' data-car-modelCodeKey="'+o+'">'+o+"</li>")
});
if(h){a.find(".selectTrimContainer").find("p").html(h);
$("#lightboxContentInner .selectTrimContainer input").val(h)
}else{j.selectBaseTrim()
}$(".selectTrimInModal").off();
VW.utilities.activateDropdown(".selectTrimInModal",function(n){$("#lightboxContentInner .selectTrimContainer input").val(n.target.innerHTML)
})
},selectBaseTrim:function(){var j=a.find(".selectTrimContainer");
var h=j.find("li").eq(0).html();
j.find("p").html(h);
$("#lightboxContentInner .selectTrimContainer input").val(h)
},resetDropDown:function(){var h=a.find(".selectTrimContainer");
h.find("p").html("Select a trim");
h.find("ul").html("");
h.find(".selectTrimInModal").removeClass("disabled")
}};
var g=$("body");
if(!g.hasClass("vwDealerFinder")){if((g.hasClass("vwModelBucket")||g.hasClass("vwHome"))&&!VW.store.get("userLocationIsReallyConfirmed")){$(".js-lightboxForm").on("click",b.handleLocationConfirmation)
}else{b.subscribeToDataLoadedToUpdateAORDealer();
b.createFormLightbox()
}}});
$(document).ready(function(){var a=$('input[type="submit"]');
VW.forms.myForms.vwCustomerCare=new VW.forms.vwCustomerCare({form:$(".ownersForm.contactContainer"),formValues:{formName:"VW Owner's Customer Care",subType:"http://www.vw.com"}});
VW.forms.myForms.infoCenter=new VW.forms.infoCenter({form:$(".infoCenterForm.contactContainer"),formValues:{formName:"VW Information Center",subType:"http://www.vw.com"}});
VW.radio("contact:infoCenterLoad").broadcast();
VW.forms.myForms.vwCredit=new VW.forms.vwCredit({form:$(".vwCreditForm.contactContainer"),formValues:{formName:"Volkswagen Credit",subType:"http://www.vw.com"}});
$(".vwInformationCenterFormConfigPage").off("click").on("click","a.close",function(c){c.preventDefault();
var b=VW.forms.myForms.vwCustomerCare;
VW.radio("contact:openForm").broadcast(c,b)
});
$(".vwOwnerCustomerCareFormConfigPage").off("click").on("click","a.close",function(c){c.preventDefault();
var b=VW.forms.myForms.ownersForm;
VW.radio("contact:openForm").broadcast(c,b)
});
$(".vwCreditFormConfigPage").off("click").on("click","a.close",function(c){c.preventDefault();
var b=VW.forms.myForms.vwCredit;
VW.radio("contact:openForm").broadcast(c,b)
});
$(".ownersForm .continue").on("click","a.button",function(h){h.preventDefault();
h.stopPropagation();
var b=VW.forms.myForms.vwCustomerCare,f=$(h.currentTarget).parents(".contactContainer"),c;
if(f.find(".vinNo").is(":checked")){var d=f.find(".zip").val();
$.ajax({url:sdlBaseUrl+"/rest/autocomplete/city/"+d+".json",success:function(j){b.options.formValues.contactCity=j.suggestions[0].city;
b.options.formValues.contactState=j.suggestions[0].state;
b.options.formValues.contactZipCode=d
},fail:function(){console.warn("Unable to retrieve city/state from zip")
}});
c=b.options.formValues.contactZipCode
}else{c=VW.data.getLocation()
}b.options.formValues.dealerId=VW.data.closestAORDealer(c).dealerid;
var g=b.validate($(h.currentTarget),b);
if(g){VW.forms.myForms.vwCustomerCare.nextPane(h,b)
}});
$(".ownersForm .vinRow .contactRadioContainer input").on("click",function(f){var b=$(f.currentTarget),d=b.parents(".vinRow").find(".address"),c=b.parents(".vinRow").find(".vinRight").find(".contactTextbox.vin");
if(b.hasClass("vinYes")){c.addClass("required");
d.removeClass("required");
d.find(".addressLeft").removeClass("required");
d.find(".addressRight").removeClass("required")
}else{c.removeClass("required");
d.addClass("required");
d.find(".addressLeft").addClass("required");
d.find(".addressRight").addClass("required")
}});
$(".vwCreditForm .continue").on("click","a.button",function(c){c.preventDefault();
c.stopPropagation();
var b=VW.forms.myForms.vwCredit;
VW.forms.myForms.vwCredit.nextPane(c,b)
});
VW.utilities.activateDropdown(".vwInformationCenterFormConfigPage .formDropDown",function(f){var b=$(".formDropDown"),d=b.parents(".quickViewWindowWrapper"),c=d.find(".quickViewWindowBackground");
b.val($(f.currentTarget).text());
d.css("height",c.outerHeight())
});
VW.radio("contact:deactivateDropdown").subscribe(function(){$(".vwInformationCenterFormConfigPage .formDropDown").off("click")
});
$(".ownersForm .submit").on("click","input",function(f){var b=VW.forms.myForms.vwCustomerCare,d=b.validate($(f.currentTarget)),c=$(".ownersForm");
if(a.hasClass("disabled")){return
}if(d){a.addClass("disabled");
b.submit(function(){var h=$(".ownersForm .pane2"),g=$(".ownersForm .contactSuccess");
b.successErrorScreen(h,g);
VW.forms.myForms.vwCustomerCare.updateSuccessPane($(".ownersForm"),b);
var j={formName:b.options.formValues.formName,step:"submit clicked"};
VW.radio("form:stepChange").broadcast(j);
a.removeClass("disabled")
},function(){var h=$(".ownersForm .pane2"),g=$(".ownersForm .contactError");
b.successErrorScreen(h,g);
VW.forms.myForms.vwCustomerCare.updateSuccessPane(c,b);
a.removeClass("disabled")
})
}});
$(".infoCenterForm .submit").on("click","input",function(f){var b=VW.forms.myForms.infoCenter,d=b.validate($(f.currentTarget)),c=$(".infoCenterForm");
if(d){b.submit(function(){var h=$(c).find(".pane2"),g=$(c).find(".contactSuccess");
b.successErrorScreen(h,g);
VW.forms.myForms.infoCenter.updateSuccessPane(c,b);
var j={formName:b.options.formValues.formName,step:"submit clicked"};
VW.radio("form:stepChange").broadcast(j)
},function(){var h=$(f.currentTarget).parents(".pane"),g=$(c).find(".contactError");
b.successErrorScreen(h,g);
VW.forms.myForms.infoCenter.updateSuccessPane(c,b)
})
}});
$(".vwCreditForm .submit").on("click","input",function(f){var b=VW.forms.myForms.vwCredit,d=b.validate($(f.currentTarget)),c=$(".vwCreditForm");
if(d){b.submit(function(){var h=$(c).find(".pane2"),g=$(c).find(".contactSuccess");
b.successErrorScreen(h,g);
VW.forms.myForms.vwCredit.updateSuccessPane(c,b);
var j={formName:b.options.formValues.formName,step:"submit clicked"};
VW.radio("form:stepChange").broadcast(j)
},function(){var h=$(f.currentTarget).parents(".pane"),g=$(c).find(".contactError");
b.successErrorScreen(h,g);
VW.forms.myForms.vwCredit.updateSuccessPane(c,b)
})
}})
});
$(document).ready(function(){VW.forms.myForms.futureModel=new VW.forms.futureModel({form:$(".vwModelBucketFuture .contactContainer"),formValues:{formName:"Future Model - Contact Dealer",modelName:"Golf",requestType:"contactDealer",sourceType:"VW"}});
$(".vwModelBucketFuture .contactContainer .submit").on("click","input",function(d){var a=VW.forms.myForms.futureModel,c=a.validate($(d.currentTarget)),b=$(".vwModelBucketFuture .contactContainer");
a.options.formValues.zip=VW.location.currentLocation();
if(window.formConfigurationModelNameProperty){a.options.formValues.modelName=window.formConfigurationModelNameProperty
}if(c){a.submit(function(){var g=$(d.currentTarget).parents(".pane"),f=b.find(".contactSuccess");
a.successErrorScreen(g,f);
VW.forms.myForms.futureModel.updateSuccessPane($(".contactDealerForm"),a);
var h={formName:a.options.formValues.formName,step:"submit clicked",formData:a.options.formValues};
VW.radio("form:stepChange").broadcast(h)
},function(){var g=$(d.currentTarget).parents(".pane"),f=b.find(".contactError");
a.successErrorScreen(g,f);
VW.forms.myForms.futureModel.updateSuccessPane(b,a)
})
}})
});
$(document).ready(function(){VW.radio("modelProfile:vehicleDataLoaded").subscribe(function(b){VW.forms.myForms.scheduleTestDrive=new VW.forms.scheduleTestDrive({form:$(".schedule.contactContainer"),formValues:{formName:"Vehicle Profile Page - Schedule a Test Drive",modelName:b.model,zip:VW.location.currentLocation(),dealerId:b.dealerid,trim:VW.utilities.removeHTMLentities(b.subTrimLevel),modelCode:b.factoryModelCode,requestType:"testDrive",sourceType:"vw",exteriorColor:b.exteriorColorDescription,year:b.modelYear}});
VW.forms.myForms.getQuote=new VW.forms.getQuote({form:$(".getQuote.contactContainer"),formValues:{formName:"Get a Quote",modelName:b.model,zip:VW.location.currentLocation(),dealerId:b.dealerid,trim:VW.utilities.removeHTMLentities(b.subTrimLevel),modelCode:b.factoryModelCode,requestType:"quote",sourceType:"vw",subType:"vw_inventory",exteriorColor:b.exteriorColorDescription,year:b.modelYear}});
VW.forms.myForms.sendToPhone=new VW.forms.sendToPhone({form:$(".saveToPhone.contactContainer"),formValues:{formName:"Send To Phone"}});
VW.radio("vppContact:selectDealer").subscribe(function(f){var c=$(".dealerComm .getQuote.contactContainer .dealerSelect"),g=c.find(".contactLocalDealer input"),d=c.find(".contactDealerWithCar input");
c.removeClass("hide");
g.val(f.localDealer.dealerid).siblings().find(".dealerName").text(f.localDealer.name);
d.val(f.dealerWithCar.dealerid).siblings().find(".dealerName").text(f.dealerWithCar.name)
});
$(".contactContainer.schedule .timeOfDay").off("click").on("click",function(c){c.preventDefault();
c.stopPropagation();
VW.radio("schedule:chooseDay").broadcast(c)
});
$(".contactContainer.schedule .arrow").off("click").on("click",function(c){c.preventDefault();
c.stopPropagation();
VW.radio("schedule:showNextSelectedFilters").broadcast(c)
});
$(".schedule .continue").off("click","a.button").on("click","a.button",function(d){d.preventDefault();
d.stopPropagation();
var c=VW.forms.myForms.scheduleTestDrive;
if(!$(d.currentTarget).parent().hasClass("disabled")){VW.forms.myForms.scheduleTestDrive.nextPane(d,c)
}});
$(".getQuote .continue").on("click","a.button").on("click","a.button",function(d){d.preventDefault();
d.stopPropagation();
var c=VW.forms.myForms.getQuote;
VW.forms.myForms.getQuote.nextPane(d,c)
})
});
var a=$('input[type="submit"]');
$(".dealerComm .saveToPhone .submit, .dealerComm .saveToPhone .submit-phone").off("click","input").on("click","input",function(f){var b=VW.forms.myForms.sendToPhone,d=b.validate($(f.currentTarget)),c=$(".saveToPhone");
if(a.hasClass("disabled")){return
}if(d){a.addClass("disabled");
b.submit(function(){var h=c.find(".pane2"),g=c.find(".contactSuccess");
b.updateSuccessPane(c,b);
b.successErrorScreen(h,g);
var j={formName:b.options.formValues.formName,step:"submit clicked"};
VW.radio("form:stepChange").broadcast(j);
a.removeClass("disabled")
},function(){var h=$(f.currentTarget).parents(".pane"),g=c.find(".contactError");
b.updateSuccessPane(c,b);
b.successErrorScreen(h,g);
a.removeClass("disabled")
})
}});
$(".dealerComm .schedule .submit").off("click","input").on("click","input",function(f){var b=VW.forms.myForms.scheduleTestDrive,d=b.validate($(f.currentTarget)),c=$(".schedule");
if(d){b.submit(function(){var h=c.find(".pane2"),g=c.find(".contactSuccess");
b.successErrorScreen(h,g);
b.updateSuccessPane(c,b);
var j={formName:b.options.formValues.formName,step:"submit clicked"};
VW.radio("form:stepChange").broadcast(j)
},function(){var h=$(f.currentTarget).parents(".pane"),g=c.find(".contactError");
b.updateSuccessPane(c,b);
b.successErrorScreen(h,g)
})
}});
$(".dealerComm .getQuote .submit").off("click","input").on("click","input",function(f){var b=VW.forms.myForms.getQuote,d=b.validate($(f.currentTarget)),c=$(".getQuote");
if(d){b.submit(function(){var h=c.find(".pane2"),g=c.find(".contactSuccess");
b.updateSuccessPane(c,b);
b.successErrorScreen(h,g);
var j={formName:b.options.formValues.formName,step:"submit clicked"};
VW.radio("form:stepChange").broadcast(j)
},function(){var h=$(f.currentTarget).parents(".pane"),g=c.find(".contactError");
b.updateSuccessPane(c,b);
b.successErrorScreen(h,g);
g.find()
})
}})
});
$(document).ready(function(){VW.radio("vehicleProtectionAdvisor:initializeForm").subscribe(function(){var a=$(".vwVehicleProtectionConfigPage").find(".formContainer").first();
VW.forms.myForms.vehicleProtection=new VW.forms.vehicleProtection({form:a,formValues:{formName:"Vehicle Protection Advisor - Contact Dealer",modelName:"unknown",zip:VW.location.currentLocation(),requestType:"contactDealer",sourceType:"VW"}})
});
VW.radio("vehicleProtectionAdvisor:submitForm").subscribe(function(f,c){var a=VW.forms.myForms.vehicleProtection;
a.options.formValues.comments=c.comments;
a.options.formValues.dealerId=c.dealerId;
var d=a.validate($(f.currentTarget)),b=$(".contactVPP");
if(d){a.submit(function(){var h=b.find(".pane2"),g=b.find(".contactSuccess");
a.successErrorScreen(h,g);
a.updateSuccessPane($(".formContainer"),a,c);
b.find(".quickViewWindowWrapper").css("height",b.find(".wrapper").height()+40);
b.find(".quickViewWindowBackground").css("height",b.find(".wrapper").height()+40);
b.css("height",b.find(".wrapper").height()+40);
var j={formName:a.options.formValues.formName,step:"submit clicked"};
VW.radio("form:stepChange").broadcast(j)
},function(){var h=$(f.currentTarget).parents(".pane"),g=b.find(".contactError");
a.successErrorScreen(h,g)
})
}})
});
$(function(){var k=$(".vwContentPage .parsysWrapper"),j=$(".pageNavBar"),g=j.find("ul").find("a"),u="",b=false,p=this;
if(k.length+j.length<=1){return false
}var o=$(window),B=$(".vwContentMasthead"),r=$("body,html"),t=$(".backToTop"),z=$("#navBarPlaceholder"),d=$("#navLinksWrapper"),f=d.find("ul.sub"),w=$(".footerWrapper"),A=$(".ctaRow"),s=A.find(".cta-container"),l=(o.height()-(z.height()+w.height())),h=($(".glossaryGroup").length)?".glossaryGroup":".pageNavigationTitle";
var a=$(".pageNavigationTitle, .glossaryGroup").last().nextAll().andSelf();
var c=0;
a.each(function(E,F){c+=$(F).height()
});
var y=_.isEmpty(a.last().find(".container"))?a.last():a.last().find(".container").first();
y.last().css("padding-bottom",l-c+"px");
g.on("click",function(J){J.preventDefault();
$(J.currentTarget).parent().is("li:first-child")?z.css("height",j.height()-50):z.css("height",j.height()+"px");
var E=$(this),I=$(J.target),G=I.attr("href").replace("#",""),F=I.parents("#mainWrapper").find("a[name="+G+"]"),H;
if(j.hasClass("expanded")){H=$(F).parents(h).offset().top-70
}else{if(j.hasClass("noSubNav")){if(h==".glossaryGroup"){H=$(F).parents(h).offset().top-$(".navBar.sticky").height()-10
}else{H=$(F).parents(h).offset().top-z.height()-$(".subnav").height()
}}else{H=$(F).parents(h).offset().top-z.height()-70;
z.hide()
}}window.animating=true;
r.animate({scrollTop:H},500,"swing",function(){g.parent().removeClass("active");
E.parent().addClass("active");
window.animating=null
});
b=true
});
t.on("click",function(E){E.preventDefault();
g.parent().removeClass("active");
r.animate({scrollTop:0},500,"swing",function(){j.hasClass("expanded")?j.removeClass("expanded"):"";
j.hasClass("hide")?j.removeClass("hide"):""
})
});
$(window).on("resize",function(){if(A.length>0){var E=$("#navLinksWrapper").height()+$(".ctaRow").outerHeight();
if(j.hasClass("expanded")){j.css("height",E);
$(".toggleSwitch").css("top",E-64)
}}});
$(".toggleSwitch").on("click",function(H){H.preventDefault();
var G=$(".toggleSwitch"),F=A.find(".cta-container");
G.toggleClass("expanded");
if(G.hasClass("expanded")){if(j.hasClass("collapsed")){j.removeClass("collapsed")
}if(!j.find("#navCollapsedContainer").hasClass("hide")){j.find("#navCollapsedContainer").addClass("hide")
}if(A.find("div").length>0){if(A.hasClass("hide")){A.removeClass("hide").show();
setTimeout(function(){f.removeClass("fadeOut hide");
F.fadeIn("fast")
},400)
}}else{A.fadeOut()
}var E=j.find(".container").height()+f.height()+F.height();
if(!j.hasClass("expanded")){j.addClass("expanded").css("height",E);
setTimeout(function(){f.removeClass("hide").removeClass("fadeOut")
},400)
}G.addClass("slideDown").css("top",E-64);
G.removeClass("slideUp")
}else{if(!G.hasClass("expanded")){G.addClass("slideUp").css("top","20px");
G.removeClass("slideDown");
if(j.find("#navCollapsedContainer").hasClass("hide")){j.find("#navCollapsedContainer").removeClass("hide")
}if(!A.hasClass("hide")){A.addClass("hide");
F.fadeOut()
}if(j.hasClass("expanded")){j.removeClass("expanded")
}if(!j.hasClass("collapsed")){f.addClass("hide");
f.addClass("fadeOut");
j.addClass("collapsed").css("height",70)
}}}});
var x=_.throttle(C,10);
o.scroll(x);
var D=_.once(q);
function q(){$(".headCta").clone().appendTo(A);
!$(".ctaRow").children().length?$(".ctaRow").height(0):""
}var v,n=0;
$(window).scroll(function(F){var E=$(this).scrollTop();
if(E>n){v="down"
}else{v="up"
}n=E
});
function C(){var H=j.find("li.active").text(),M=$(".toggleSwitch"),J=j.height(),L=A.find(".cta-container");
if(o.scrollTop()<B.outerHeight()){z.hide();
$(M).addClass("hide");
z.css("height",j.height()+"px");
j.css("height","auto");
if($(".vwSubNavigation").html()!=""){j.removeClass("noSubNav")
}if(!f.is(":visible")||f.hasClass("hide")){f.removeClass("hide");
f.removeClass("fadeOut")
}g.parent().removeClass("active");
g.parent().eq(0).addClass("active");
if(j.hasClass("expanded")){j.removeClass("expanded");
M.removeClass("expanded");
A.addClass("hide");
L.fadeOut()
}else{j.removeClass("hide notTop");
j.addClass("top")
}if($(".subnav")){$(".subnav").removeClass("sticky")
}if(j.hasClass("collapsed")){j.removeClass("collapsed");
z.hide()
}if(j.hasClass("anchorTop")){j.removeClass("anchorTop")
}if(!j.find("#navCollapsedContainer").hasClass("hide")){j.find("#navCollapsedContainer").addClass("hide")
}if(d.hasClass("t11 d11 w11")){d.removeClass("t11 d11 w11");
d.addClass("t12 d12 w12");
if(!$("#backToTopWrapper").hasClass("hide")){$("#backToTopWrapper").addClass("hide")
}}}if(o.scrollTop()>=B.outerHeight()){var F=(!j.hasClass("noSubNav"))?false:true;
j.addClass("noSubNav");
$(M).removeClass("hide");
if(!j.hasClass("expanded")){if(!j.hasClass("collapsed")){if(f.is(":visible")&&!f.parents(".pageNavBar").hasClass("glossary")){f.addClass("hide").addClass("fadeOut")
}j.addClass("collapsed");
j.addClass("anchorTop");
j.find("#navCollapsedContainer").removeClass("hide");
if(F){z.show();
z.css("height",70)
}if(d.hasClass("t12 d12 w12")){d.removeClass("t12 d12 w12");
d.addClass("t11 d11 w11");
if($("#backToTopWrapper").hasClass("hide")){$("#backToTopWrapper").removeClass("hide")
}}}}else{z.css("height",J+"px")
}if(j.hasClass("expanded")){if(f.is(":visible")){f.addClass("hide").addClass("fadeOut")
}if(!A.hasClass("hide")){L.fadeOut();
A.addClass("hide")
}M.addClass("slideUp").css("top","20px");
M.removeClass("slideDown expanded");
j.removeClass("expanded").addClass("collapsed").css("height",j.find(".container").height());
$("#navCollapsedContainer .titleContainer").css("top",j.find(".container").height());
$("#navCollapsedContainer").removeClass("hide");
setTimeout(function(){setTimeout(function(){$("#navCollapsedContainer .titleContainer").removeClass("slideUp")
},3000)
},500)
}if($(".subnav")){$(".subnav").addClass("sticky");
VW.radio("stickyNav:on").broadcast()
}D()
}if(j.find(".activeTitle").text()!=H){var G=j.find(".activeTitle");
var I=$(".titleContainer"),K='<div class="activeTitle newTitle"></div>';
var E=function(){if(!j.hasClass("glossary")&&window.animating!=true){t.fadeOut(150).fadeIn(150)
}};
if(v=="down"){I.append(K);
$newTitle=$(".newTitle").css("top",j.height());
G.addClass("slideUp").css("top",-G.height()).remove();
$newTitle.html(H).addClass("slideUp").css("top",0)
}else{I.prepend(K);
$newTitle=$(".newTitle").css("top",-j.height());
G.addClass("slideUp").css("top",+G.height()).remove();
$newTitle.html(H).addClass("slideUp").css("top",0)
}_.once(E())
}_.each($(h).find("a[name]"),function(O,N){if($(h).find("a[name]").length){if($(h).find("a[name="+O.name+"]:first").parents(h).position().top<=(o.scrollTop()+70)){$(".pageNavBar li.active").removeClass("active");
$(".pageNavBar li").eq(N).addClass("active")
}}})
}var m=function(){var E=$(".pageNavBar li.active");
if(E.text()==p.currentMenuItem){return
}VW.radio("headerBar:itemChange").broadcast({wasClicked:b,targetModule:E.text(),triggerElement:(b?E:null)});
b=false;
p.currentMenuItem=E.text()
};
o.scroll(_.debounce(m,500))
});
VW.ui.Slider=Backbone.View.extend({localMode:false,clientLibAssetPath:null,damAssetPath:null,localClientLibAssetPath:"/media/",localDamAssetPath:"/media/dam/",cqClientLibAssetPath:"/etc/clientlibs/vwcom/",cqDamAssetPath:"/content/dam/vwcom/pages/matchmaker/",setAssetPath:function(){if(this.localMode){this.clientLibAssetPath=this.localClientLibAssetPath;
this.damAssetPath=this.localDamAssetPath
}else{this.clientLibAssetPath=this.cqClientLibAssetPath;
this.damAssetPath=this.cqDamAssetPath
}},init:function(a){this.setAssetPath();
this.config=a
},RaphaelLayer:function(b,a){$(b).append('<div id="'+a+'"></div>');
return Raphael(a,640,330)
},generateFriendlyNames:function(h,g,b){for(var f=0,a=g.length;
f<a;
f++){var c="";
var d=f===0?' class="active"':"";
if(!b){c+="<span"+d+' style="width:'+h.width()/a+"px;height:"+225/(a-1)+'px;">'+g[f]+"</span>"
}else{c+="<span"+d+' style="width:'+h.width()/a+'px;height:12px;">'+g[f]+"</span>";
c+='<a href="#" class="learnMore" data-html="#'+g[f]+'Info" style="height:'+(225-12)/(a-1)+'px;">Learn More </a>'
}h.append(c)
}if(b){this.initCtaHandler()
}},initCtaHandler:function(a){if(!_.isUndefined(a)){a.call(this)
}}});
VW.ui.FeatureSlider=VW.ui.Slider.extend({initialize:function(a){this.config=a
},render:function(){var d=/Firefox/i.test(navigator.userAgent);
var g=VW.utilities.isIE()||d;
var a=this.config;
var b=VW.matchmaker.config.clientLibAssetPath;
Raphael.fn.simpleSlider=function(k,N){var H=N.snapPointsNames,p=N.snapPointsImages,v="#"+N.imageDiv,o=N.sliderDirection,u=N.sliderLength,O=N.callback?N.callback:"",h=0;
var T=k.set();
var P=(o=="horizontal");
var j=P?"75":"45",w="#808285",Q="#01b1ec",m=null;
T.tab=N.tab?N.tab:"";
var B=H[0].toString().toLowerCase();
if(B=="all"||B=="any"){H[0]=false
}var l=100/(H.length-1);
T.snapPoints=[];
for(var F=0;
F<=100;
F+=l){T.snapPoints.push(F)
}T.path=k.path("M50 "+j+" "+(P?"H":"V")+u).attr({stroke:"#E0E5E6","stroke-width":15,cursor:"pointer"});
T.pathLength=T.path.getTotalLength();
T.pathBox=T.path.getBBox();
T.pathBoxWidth=T.pathBox.width;
T.pathBoxHeight=T.pathBox.height;
T.path.click(function(V){if(x()){C(n(V))
}else{VW.utilities.warnAboutRemovingRequiredFeature()
}if(m){m.attr({fill:w});
m=null;
this.unmousemove(G)
}}).hover(function(V){m=U(n(V));
m.attr({fill:Q});
this.mousemove(G)
},function(){if(m){m.attr({fill:w});
m=null;
this.unmousemove(G)
}});
T.initialPosition=T.path.getPointAtLength(0);
T.snapNames=H;
T.snapPointsImages=p;
T.currentPoint=0;
T.currentSelection=false;
T.stopPoints=[];
for(var R=0,t=T.snapPoints.length;
R<t;
R++){var K=T.path.getPointAtLength(T.snapPoints[R]/100*T.pathLength);
T.stopPoints.push(k.circle(K.x,K.y,9).attr({fill:w,"stroke-width":9,stroke:"#E0E5E6",cursor:"pointer"}).click(function(){if(x()){C(this.attr("cy")-T.pathBox.y)
}else{VW.utilities.warnAboutRemovingRequiredFeature()
}this.attr({fill:w})
}).hover(function(){this.attr({fill:Q})
},function(){this.attr({fill:w})
}))
}var I;
if(g){I={fill:"#CCCCCC","stroke-width":17,stroke:"#FFFFFF",cursor:"pointer"}
}else{I={fill:"url("+b+"img/components/matchmaker/sliders/matchmaker-slider-nob-blue.png)","stroke-width":0,"stroke-opacity":0,cursor:"pointer"}
}T.button=k.circle(T.initialPosition.x,T.initialPosition.y,g?22:52).attr(I).hover(function(){if(!g){this.attr({fill:"url("+b+"img/components/matchmaker/sliders/matchmaker-slider-nob-dark.png)"})
}else{this.attr({fill:Q})
}},function(){this.attr({fill:I.fill})
});
if(!g){VW.runIfModern({rule:"svg",yes:function(){VW.radio("matchmaker:tabSelect").subscribe(function(V){if(V.data===T.tab&&!g){T.button.attr({fill:"url("+b+"img/components/matchmaker/sliders/matchmaker-slider-nob-blue.png)"});
T.button.animate({transform:"s1"},500,"ease-in-out")
}else{T.button.animate({transform:"s0.1"},30,"ease-in-out")
}})
},no:function(){}})
}k.customAttributes.distance=function(W){if(isNaN(W)){W=0
}W=T.pathLength/100*W;
var V=T.path.getPointAtLength(W);
return{cx:V.x,cy:V.y+(!g?5:0)}
};
var y=function(){T.button.unhover();
if(m){m.attr({fill:w})
}this.ox=this.attr("cx");
this.oy=this.attr("cy")
},E=function(V,W){return W.indexOf(V)
},L=function(V,W){return W[V]
},n=function(V){var W=$("#"+N.div+"SVGSlider").offset().top+parseInt(j);
return(V.clientY+$(window).scrollTop()-W)
},q=function(V){if(!V){V=0
}$("#"+N.div).find(".friendlyNames").find("span").removeClass("active").filter(":eq("+V+")").addClass("active")
},G=function(W){var V=U(W.offsetY-j);
if(V!==m){m.attr({fill:w});
m=V;
m.attr({fill:Q})
}},U=function(W){var V=S(Math.round((W/T.pathLength)*100));
return T.stopPoints[E(V,T.snapPoints)]
},C=function(V){var W=S(Math.round((V/T.pathLength)*100));
if(T.currentPoint!=W){T.currentPoint=W;
s(W)
}},A=function(){if(T.snapPointsImages){_.each(T.snapPointsImages,function(V){var W=new Image();
W.src=V
})
}},x=function(){return !(VW.matchmaker.main.customSuperFilter&&_.keys(VW.matchmaker.main.customSuperFilter)[0]===N.filterKey)
},S=function(W){var Y=0,Z,aa,X;
var V=T.snapPoints;
if(V.length){Z=V[0];
for(Y;
Y<V.length;
Y++){aa=Math.abs(W-Z);
X=Math.abs(W-V[Y]);
if(X<aa){Z=V[Y]
}aa=null;
X=null
}return Z
}return false
},D=false,M=function(V){var X,W;
if(V>h){h=V;
X="bottom";
W="top"
}else{h=V;
X="top";
W="bottom"
}var Y=$("<img />").attr("src",(T.snapPointsImages[V]));
VW.runIfModern({rule:"csstransitions",yes:function(){if(!D&&!_.isUndefined($(v+" > img:first").css("transition-duration"))&&parseFloat($(v+" > img:first").css("transition-duration"))>0&&!$(v).parents(".visualFilter").hasClass("hide")){D=true;
$(v+" > img:first").after(Y).addClass("out-"+X);
Y.addClass("in-"+W);
setTimeout(function(){Y.removeClass("in-"+W);
setTimeout(function(){$("img.out-"+X).remove()
},300);
D=false
},75)
}else{$(v).html(Y);
D=false
}},no:function(){$(v).html(Y)
}})
},z=function(V){q(V);
if(O){O(V,N)
}else{var X={};
var W=N.filterKey;
X[W]=T.currentSelection;
M(V);
VW.radio("matchmaker:updateFilter").broadcast(X)
}},s=function(V,W){if(m){m.attr({fill:w})
}T.button.animate({distance:T.currentPoint},200,"ease-out",function(){var X=E(V,T.snapPoints),Y=L(X,T.snapNames);
if(T.currentSelection!==Y){T.currentSelection=Y;
if(!W){z(X)
}}})
},r=function(Z,Y){var X=50;
var aa=50;
var W=P?Math.max(0,Math.min((this.ox+Z-X)/T.pathBoxWidth,1)):Math.max(0,Math.min((this.oy+Y-aa)/T.pathBoxHeight,1));
var V=T.path.getPointAtLength(W*T.pathLength);
this.attr({cx:V.x,cy:V.y+(!g?5:0)});
T.currentPoint=P?Math.round(((this.attr("cx")-T.pathBox.x)/T.pathBoxWidth)*100):Math.round(((this.attr("cy")-T.pathBox.y)/T.pathBoxHeight)*100)
},J=function(){var X=S(T.currentPoint);
var V=E(X,T.snapPoints),W=L(V,T.snapNames);
if(T.currentSelection!==W){if(x()){T.currentSelection=W;
T.initialPosition=T.path.getPointAtLength(X/100*T.pathLength);
z(V)
}else{VW.utilities.warnAboutRemovingRequiredFeature();
T.setSlider(_.values(VW.matchmaker.main.customSuperFilter)[0])
}}this.attr({cx:T.initialPosition.x,cy:T.initialPosition.y,distance:X});
T.button.hover(function(){if(!g){this.attr({fill:"url("+b+"img/components/matchmaker/sliders/matchmaker-slider-nob-dark.png)"})
}else{this.attr({fill:Q})
}},function(){this.attr({fill:I.fill})
})
};
T.button.drag(r,y,J);
if(VW.matchmaker.isDistributed){VW.radio("distributedMatchmaker:opened").subscribe(A)
}else{A()
}T.resetSlider=function(){T.currentPoint=0;
s(0,true);
q(0);
M(0)
};
T.setSlider=function(W){var V=E(W,T.snapNames);
T.currentPoint=T.snapPoints[V];
s(T.currentPoint,true);
q(V);
if(T.snapPointsImages){M(V)
}if(N.afterSetSlider){N.afterSetSlider(W)
}};
s(0,true);
return T
};
var f=new this.RaphaelLayer("#"+a.div,a.div+"SVGSlider");
var c=new f.simpleSlider(f,a);
this.resetSlider=function(){c.resetSlider()
};
this.setSlider=function(h){c.setSlider(h)
}
}});
VW.ui.PriceRangeSelector=VW.ui.FeatureSlider.extend({height:[90,255],width:310,elms:{container:"#budgetSelector",sliderScreen:"#budgetRangeScreen"},initialize:function(a){this.elms.container=$(this.elms.container);
this.elms.sliderScreen=$(this.elms.sliderScreen);
this.price=a.price;
this.increment=a.increment;
this.minAllowedPrice=this.price[0];
this.maxAllowedPrice=this.price[1];
this.priceMin=this.price[0];
this.priceMax=this.price[1];
this.sliderNobWidth=64;
this.pixelWidthOfRange=310;
this.setAssetPath();
this.heightRange=this.height[1]-this.height[0];
this.priceRange=this.price[1]-this.price[0];
this.elms.slider=this.elms.container.find("#budgetRange .rangeSlider");
this.elms.sliderMax=this.elms.container.find("#budgetRange .sliderMax");
this.sliderOffset=this.elms.container.width()-this.elms.container.find("#budgetRange").width();
this.elms.container.find(".maxPrice").html(" Up to "+VW.utilities.formatOutputValue(this.maxAllowedPrice,"$"));
this.bindEvents()
},bindEvents:function(){var a=this;
Hammer(this.elms.sliderMax,{drag_block_horizontal:true,transform:false}).on("drag",function(b){if(b.gesture){a.repositionSlider(b.gesture.center.pageX,$(b.currentTarget),a)
}}).on("release",function(){var b=a.getValue();
VW.radio("matchmaker:updateFilter").broadcast({msrp:b})
});
this.elms.container.find("#budgetRange").click(function(c){c.stopPropagation();
if(c.target===a.elms.sliderMax[0]||$(c.target).parent()[0]===a.elms.sliderMax[0]){return
}a.repositionSlider(c.clientX,a.elms.sliderMax,a);
var b=a.getValue();
VW.radio("matchmaker:updateFilter").broadcast({msrp:b})
})
},repositionSlider:function(b,c,d){var a=d.elms.container.offset().left+d.sliderOffset;
if(b>=(a+d.sliderNobWidth/2)&&b<=(a+d.pixelWidthOfRange+d.sliderNobWidth/2)){if(b<=(d.elms.sliderMax.offset().left-8)||c.hasClass("sliderMax")){c.css("left",(b-a-d.sliderNobWidth/2)+"px");
var f=d.percentOfSlider(b-a-d.sliderNobWidth/2,false);
d.updateSlider(f,c)
}}else{if(b<a+d.sliderNobWidth/2){c.css("left",0);
d.updateSlider(0,c)
}if(b>a+d.pixelWidthOfRange+d.sliderNobWidth/2){c.css("left",d.pixelWidthOfRange+"px");
d.updateSlider(100,c)
}}},percentOfSlider:function(a){return(a*100/this.width)
},adjustSliderScreenWidth:function(){var a=this.elms.sliderScreen;
var b=24+parseInt(a.css("left"),10);
var c=40+parseInt(this.elms.container.find(".sliderMax").css("left"),10);
a.css("width",c-b)
},updateSlider:function(b,c){c.css("height",(this.heightRange/100*b+this.height[0])).find(".rangeSliderMiddle").css("height",(this.heightRange/100*b+20));
var a=this.priceRange/100*b+this.price[0];
this.adjustSliderScreenWidth();
a=this.increment*Math.round(a/this.increment);
this.priceMax=a;
this.elms.container.find(".maxPrice").html(" Up to "+VW.utilities.formatOutputValue(this.priceMax,"$"))
},valueToPercentage:function(a){return Math.floor((a-this.minAllowedPrice)/this.priceRange*100)
},percentageToPixelValue:function(a){return Math.floor((a/100)*this.pixelWidthOfRange)
},getValue:function(){return this.maxAllowedPrice==this.priceMax?false:this.priceMax
},setSliderPosition:function(a,b){b.css("left",this.percentageToPixelValue(a))
},setMax:function(b){this.priceMax=b;
var a=this.valueToPercentage(b);
this.setSliderPosition(a,this.elms.sliderMax);
this.updateSlider(a,this.elms.sliderMax);
this.adjustSliderScreenWidth()
},resetSliders:function(){this.elms.sliderMax.removeAttr("style");
var a=this.elms.container.find("#budgetRange").find(".rangeSliderMiddle");
a.removeAttr("style").css("background-image","url("+a.data("source")+")");
var b=this.elms.sliderScreen.css("background-image");
this.elms.sliderScreen.removeAttr("style").css("background-image",b);
this.priceMax=this.maxAllowedPrice;
this.elms.container.find(".maxPrice").html(" Up to "+VW.utilities.formatOutputValue(this.maxAllowedPrice,"$"))
}});
VW.ui.ScheduleSlider=Backbone.View.extend({el:$(".schedule"),events:{},initialize:function(){this.populateDays();
VW.radio("schedule:showNextSelectedFilters").subscribe([this.showNextSelectedFilters,this]);
VW.radio("schedule:chooseDay").subscribe([this.chooseDay,this])
},loadTemplates:function(){var a=this;
var b=["scheduleDayItem"]
},populateDays:function(){var b=this,a=new Date(),c=$(".schedule").find(".window");
if(!$.trim(c.html())){b.populateDates(c,a,21)
}},populateDates:function(a,g,b){var t=function(x){var w=new Array(7);
w[0]="Sunday";
w[1]="Monday";
w[2]="Tuesday";
w[3]="Wednesday";
w[4]="Thursday";
w[5]="Friday";
w[6]="Saturday";
return w[x]
};
for(var q=1;
q<=b;
q++){var l=new Date();
l.setDate(g.getDate()+q);
var v={weekday:t(l.getDay()),weekdayShort:t(l.getDay()).substr(0,3),date:l.getMonth()+1+"/"+l.getDate()};
var p='<div class="item"><div data-date={{weekday}} class="weekday">{{weekdayShort}}</div><div data-date={{date}} class="date">{{date}}</div><div class="timeOfDay"><a data-time="morning" class="button" href="#">morning</a></div><div class="timeOfDay"><a data-time="afternoon" class="button" href="#">afternoon</a></div><div class="timeOfDay"><a data-time="evening" class="button" href="#">evening</a></div></div>';
var f=Mustache.to_html(p,v);
a.append(f)
}var j=$("div.selectedFilters");
var n=j.find(".window");
var c=$(".dealerComm .schedule").width();
var h=n.find(".item");
var d=h.length;
var k=h.outerWidth(true);
var o=(c>649)?7:4;
var s=k*o;
var m=Math.ceil(d/o);
n.css("width",d*k+"5px");
var u=j.find(".nav").empty();
var r=(-parseInt(n.css("left"))||0)/s;
this.highlightNavigationArrows(r,m);
window.onresize=function(w){n.css("left","-3px");
$(".leftArrow .left").addClass("disabled");
$(".rightArrow .right").removeClass("disabled")
}
},chooseDay:function(j){var h=$(j.currentTarget).children("a.button"),g=$(j.currentTarget).parents(".window").find(".item").find(".selected").length,a=$(".testDriveDayContainer"),c=a.find(".testDriveDay"),b=c.hasClass("selected"),k=$(h.parent(".timeOfDay")).parents(".item").find(".weekday").data("date"),f=$(h.parent(".timeOfDay").siblings(".date")).attr("data-date"),d=$(h).attr("data-time");
if(h.hasClass("selected")){h.removeClass("selected")
}else{if(g<2){h.addClass("selected");
h.attr({"data-date":f,"data-day":k})
}}},showNextSelectedFilters:function(g,l){var o=this,f=$("div.selectedFilters"),n=f.find(".window"),k=f.find(".nav"),h=n.find(".item").outerWidth(true),a;
if(g){g.preventDefault();
a=$(g.currentTarget);
if(a.hasClass("disabled")||a.hasClass("selected")){return
}}else{if(l){a=n.find("."+l)
}else{return
}}var m;
var d="";
var j="";
if(n.parents(".dealerComm")){if($(".scheduleSlider .window .item .button").width()>96){m=h*4
}else{m=h*7
}}var c=parseInt(n.css("left"))||0;
if(a.hasClass("right")){j=c/m+1;
d=c-m
}else{j=-c/m-1;
d=c+m
}n.css("left",d+"px");
if(n.parents(".dealerComm")){var j=(-parseInt(n.css("left"))||0)/m
}var b=($(".scheduleSlider .window .item .button").width()>96)?n.find(".item").length/4:n.find(".item").length/7;
this.highlightNavigationArrows(j,b)
},highlightNavigationArrows:function(c,a){var f=$("div.selectedFilters");
var b=f.find(".left");
var d=f.find(".right");
c<1?b.addClass("disabled"):b.removeClass("disabled");
(Math.round(c)+1==Math.round(a)||Math.round(a)<1)?d.addClass("disabled"):d.removeClass("disabled")
}});
VW.ui.OfferSlider=VW.ui.PriceRangeSelector.extend({height:[90,235],width:500,elms:{container:$("#budgetSelector"),sliderScreen:$("#budgetRangeScreen")},events:{"click .sliderMax":"testFunction"},testFunction:function(a){console.log(a,"=e.   clicked .slidermax")
},initialize:function(){var a={price:[15000,65000],increment:500};
this.price=a.price;
this.increment=a.increment;
this.minAllowedPrice=this.price[0];
this.maxAllowedPrice=this.price[1];
this.priceMin=this.price[0];
this.priceMax=this.price[1];
this.sliderNobWidth=64;
this.pixelWidthOfRange=475;
this.setAssetPath();
this.priceOffset=this.width/100/this.sliderNobWidth/2*(this.price[1]-this.price[0]);
this.heightRange=this.height[1]-this.height[0];
this.priceRange=this.price[1]-this.price[0];
this.elms.slider=this.elms.container.find("#budgetRange .rangeSlider");
this.elms.sliderMin=this.elms.container.find("#budgetRange .sliderMin");
this.elms.sliderMax=this.elms.container.find("#budgetRange .sliderMax");
this.sliderOffset=this.elms.container.width()-this.elms.container.find("#budgetRange").width();
this.bindEvents()
}});
$(document).ready(function(){$("#primaryNav").find(".navSwitch").click(function(g){var f=$("#primaryNav"),b=$("#superTint"),d="";
if(Modernizr.csstransitions){f.toggleClass("openCSS3");
b.toggleClass("onCSS3")
}else{if(f.hasClass("openJS")){d="-235px";
b.css({visibility:"hidden",background:"transparent"})
}else{d="0px";
b.css({visibility:"visible",background:"black"})
}if($("html").hasClass("ie8")){b.css({display:"none"});
f.toggleClass("openJS").animate({left:d},300)
}else{f.toggleClass("openJS").animate({left:d},300)
}}var c=f.find("#visibleNav .navSwitch");
c.toggleClass("active");
if(c.hasClass("active")){f.find("#visibleNav .active").not(c).removeClass("active").addClass("activex")
}else{f.find("#visibleNav .activex").not(c).removeClass("activex").addClass("active")
}g.preventDefault()
});
$("#superTint").on("click",function(){if($("#primaryNav").hasClass("openJS")||$("#primaryNav").hasClass("openCSS3")){$("#primaryNav .navSwitch").click()
}});
var a=$("body");
if(a.hasClass("oneColumnPage")){$("#primaryNav #visibleNav .models").addClass("active")
}if(a.hasClass("vwMatchmaker")){$("#primaryNav #visibleNav .find-a-match").addClass("active")
}if(a.hasClass("vwDealerFinder")){$("#primaryNav #visibleNav .find-a-dealer").addClass("active")
}if(a.hasClass("vwUserProfile")){$("#primaryNav #visibleNav .me").addClass("active")
}});
VW.CompareVehicleModel=Backbone.Model.extend({set:function(a,b){if(!_.isEmpty(a)){a.compareFeatures=_.reject(a.productData.featureFilters,function(c){if(!c.key.match(/feature/)||c.key=="featureSeats"){return c
}});
a.clientLibAssetPath=VW.matchmaker.config.localMode?VW.matchmaker.config.localClientLibAssetPath:VW.matchmaker.config.cqClientLibAssetPath;
this.seatObject=_.findWhere(a.productData.featureFilters,{key:"featureSeats"});
if(!_.isUndefined(this.seatObject)&&_.isObject(this.seatObject)){a.seatingMaterialImage=(this.seatObject.value).split("-")[1]+".png";
a.seatingMaterial=(this.seatObject.value).split("-")[1].replace(/^[a-z]/,function(c){return c.toUpperCase()
})
}a.price=VW.utilities.formatOutputValue(a.inventoryData.msrp.replace(",",""),"thousand")||"";
a.distance=Math.ceil(a.inventoryData.distance||0);
a.interiorColorImage=(a.inventoryData.interiorColorCode)?a.inventoryData.interiorColorCode.toUpperCase()+".png":"";
a.interiorColorName=(a.inventoryData.interiorColorDescription)?a.inventoryData.interiorColorDescription:"";
a.exteriorColorImage=(a.inventoryData.exteriorColorCode)?a.inventoryData.exteriorColorCode.toUpperCase()+".png":"";
a.exteriorColorName=(a.inventoryData.exteriorColorDescription)?a.inventoryData.exteriorColorDescription:"";
a.mpgCity=a.inventoryData.mpgCity;
a.mpgHighway=a.inventoryData.mpgHighway;
a.transmissionType=this.sanitizeTransmissionData(a.inventoryData.transmissionType.toLowerCase().trim());
a.fuelType=a.inventoryData.engineFuelType;
a.engine=this.updateEngineData(a.inventoryData.engineDisplacement)+a.inventoryData.engineDisplacementUom;
a.subTrimLevel=a.inventoryData.subTrimLevel||"";
a.year=a.inventoryData.modelYear||"";
a.vehicleURL=!_.isUndefined(a.vin)?VW.utilities.getProfilePagePath()+a.inventoryData.modelCodeKey+".html#!v="+a.vin:"";
a.modelName=a.inventoryData.model||"";
if(a.inventoryData.addlField4&&a.inventoryData.addlField4.length===4&&parseInt(a.inventoryData.addlField4)){a.displayYear=a.inventoryData.addlField4
}a.favorite=this.checkForFavoritedVehicle(a.vin);
a.viewed=this.checkForViewedVehicle(a.vin)
}return Backbone.Model.prototype.set.call(this,a,b)
},compare:function(a){var b=this;
var d=this;
var c=a||{};
b.comparison={vehicle1:d.attributes,vehicle2:c.attributes,features:[]};
b.getCommonFeatures(d,c);
return this
},checkForFavoritedVehicle:function(a){if(VW.utilities.isVINinFavorites(a)){return"favorited"
}else{return""
}},checkForViewedVehicle:function(a){if(VW.utilities.isVINviewed(a)){return"viewed"
}else{return""
}},sanitizeTransmissionData:function(a){if(a=="automatic"||a=="auto"){return"automatic"
}else{if(a=="standard"||a=="manual"){return"manual"
}else{return null
}}},updateEngineData:function(a){if(a.indexOf(".")==-1){var b=parseInt(a);
return b.toFixed(1).toString()
}else{return a
}},getCommonFeatures:function(f,a){var g;
if(_.isEmpty(a)){g=_.pluck(f.attributes.compareFeatures,"key")
}else{g=_.union(_.pluck(f.attributes.compareFeatures,"key"),_.pluck(a.attributes.compareFeatures,"key"))
}var d=[];
_.each(g,function(j,h){if(!_.isUndefined(j)&&!_.isNull(j)){d.push(j)
}});
this.comparison.similarfeatures=[];
for(var c=0;
c<d.length;
c++){var b={};
b.friendlyName=_.findWhere(VW.strings.featureLookup,{key:d[c]}).friendlyName;
if(!_.isUndefined(f.attributes.compareFeatures[d[c]])){b.vehicle1=false
}else{if(_.isUndefined(f.attributes.compareFeatures[c])){b.vehicle1=false
}else{if((f.attributes.compareFeatures[c].value).match(/true/)){b.vehicle1=true
}else{b.vehicle1=false
}}}if(!_.isEmpty(a)){if(!_.isUndefined(a.attributes.compareFeatures[d[c]])){b.vehicle2=false
}else{if(_.isUndefined(a.attributes.compareFeatures[c])){b.vehicle2=false
}else{if((a.attributes.compareFeatures[c].value).match(/true/)){b.vehicle2=true
}else{b.vehicle2=false
}}}}if((b.vehicle1!==b.vehicle2)){if(!_.isUndefined(b.friendlyName)&&b.friendlyName!="Seats"){this.comparison.features.push(d[c].value=b)
}}if((b.vehicle1===b.vehicle2)){if(!_.isUndefined(b.friendlyName)&&b.friendlyName!="Seats"){this.comparison.similarfeatures.push(d[c].value=b)
}}}}});
VW.CompareView=Backbone.View.extend({name:"compareView",el:".matchmakerCompare",templates:{},vehicles:[],historyVehicles:[],events:{"click .remove":"removeCarBroadcast","click .compareHistory":"addCompareCookieFromHistoryBroadcast","click #historyHeadingWrapper":"showHideHistory","click .vsIcon":"showCompareGrid","click .cancelSelectOpponentBtn":"cancelSelectOpponent","click #closeCompare":"closeCompare","click .multiPackages, .flipBack":"toggleClass"},initialize:function(){this.loadTemplates();
this.bodyHTML=$("body,html");
this.baseContainer=this.$el;
this.topPanel=this.baseContainer.find(".mainPanel");
this.comparisonContainer=this.baseContainer.find(".comparison");
this.historyContainer=this.baseContainer.find(".history");
VW.radio("matchmaker:showHideCompare").subscribe([this.showHideCompare,this]);
VW.radio("matchmaker:addCompareCookie").subscribe([this.addCompareCookie,this]);
VW.radio("compare:vehicleDataLoaded").subscribe([this.updateCompareSelections,this]);
VW.radio("compare:compareCookieAdded").subscribe([this.updateCompare,this]);
VW.radio("compare:cancel").subscribe([this.cancelSelectOpponent,this]);
VW.radio("compare:removeVehicle").subscribe([this.removeCompareCar,this]);
VW.radio("compare:updateCompareTileBtn").subscribe([this.updateTileCompareBtn,this]);
VW.radio("compare:fromHistory").subscribe([this.addCompareCookieFromHistory,this]);
$(window).scroll($.proxy(this.scrolling,this));
$(window).resize($.proxy(this.onResize,this));
var a=VW.store.get("compare");
var b=VW.store.get("compareHistory");
var c=VW.store.get("comparedVehicles");
if(_.isNull(a)||_.isUndefined(a)||a=="undefined"){a="[]"
}if(_.isNull(b)||_.isUndefined(b)||b=="undefined"){b="[]"
}if(_.isNull(c)||_.isUndefined(c)||c=="undefined"){c="[]"
}this.cookieStoreObj=$.parseJSON(a);
this.cookieHistoryStoreObj=$.parseJSON(b);
this.cookieComparedVehiclesStoreObj=$.parseJSON(c);
this.keepTrack=[];
this.keepTrackofAllLoadedVehicles=[];
this.validateCookie()
},toggleClass:function(a){a.preventDefault();
a.stopPropagation();
$(a.currentTarget).parents(".tile").toggleClass("flipped")
},validateCookie:function(){var c=new Date().getTime();
var b=86400000;
if(this.cookieStoreObj.length){var d=_.first(this.cookieStoreObj).timestamp;
var a=(c-d);
if(a>=b){this.cookieStoreObj=[];
this.cookieHistoryStoreObj=[];
this.cookieComparedVehiclesStoreObj=[];
VW.store.set("compare","[]");
VW.store.set("compareHistory","[]");
VW.store.set("comparedVehicles","[]")
}}},loadTemplates:function(){var c=VW.config.cqClientLibAssetPath;
var b=["compareItem","compare","compareHistory"];
var a=this;
_.each(b,function(d){$.get(c+"templates/"+d+".tpl",function(f){a.templates[d]=f
})
})
},closeCompare:function(a){a.preventDefault();
this.showHideCompare();
if(!$(".selectOpponentWrapper").hasClass("hide")){this.cancelSelectOpponent()
}},showHideCompare:function(){if(this.baseContainer.find(".mainPanel").hasClass("slideIn")){this.hideCompare()
}else{this.readCompareCookie(function(){this.showCompareOverlay()
})
}},hideInventoryResults:function(){$(".matchmakerConfigurator:first").hide();
$(".matchmakerResults:first").hide();
$("#mainWrapper").css({overflow:"visible"});
$("#userProfileContainer").addClass("hide")
},showCompareGrid:function(){var a=this;
$(".vwFooter").addClass("hide");
var b=$(".matchmakerCompare .mainPanel").offset().top+248;
if($(".distributedMatchmakerResultsWrapper").length){if($(".distributedMatchmakerWrapper").hasClass("notInView")){$(".distributedMatchmakerWrapper").removeClass("notInView")
}}this.topMargin=$(window).scrollTop();
if(this.cookieStoreObj.length!=2||!this.comparisonContainer.hasClass("hide")){return
}if($(".comparison").css("margin-top")){$(".comparison").css("margin-top","0px")
}this.comparisonContainer.css("top","-"+this.comparisonContainer.height()+"px");
this.comparisonContainer.removeClass("hide");
function c(){a.baseContainer.find(".vsIcon").addClass("fadeOutShrink").removeClass("fadeInPop");
a.baseContainer.find(".remove").removeClass("fadeInPop");
setTimeout(function(){a.comparisonContainer.addClass("in").css("top",b+"px");
setTimeout(function(){a.baseContainer.find(".vsIcon").removeClass("compareIconBtn").removeClass("fadeOutShrink").addClass("compareGridArrows").addClass("fadeInPop");
var d=0;
$(a.comparisonContainer.find(".compareGridLabel")).each(function(f){d=d+150;
$(this).addClass("fadeIn");
$(a.comparisonContainer.find(".compareGridLabel")).eq(f+1).css("transition-delay",d+"ms")
});
setTimeout(function(){if($(".distributedMatchmakerResultsWrapper").length){_.each($(".matchmakerCompareWrapper").siblings(),function(j,h){if(j.className!="matchmakerCompareWrapper"){$("."+j.className).hide();
if($(".matchmakerCompareWrapper").siblings().length==(h+1)){a.comparisonContainer.css("top","248px");
a.bodyHTML.animate({scrollTop:0},0,"swing")
}}})
}else{a.hideInventoryResults();
a.comparisonContainer.css("top","248px");
a.bodyHTML.animate({scrollTop:0},0,"swing")
}var f=0;
$(a.comparisonContainer.find(".itemValueLeft")).each(function(h){f=f+150;
$(this).addClass("fadeIn");
$(a.comparisonContainer.find(".itemValueLeft")).eq(h+1).css("-webkit-transition-delay",f+"ms");
$(a.comparisonContainer.find(".itemValueLeft")).eq(h+1).css("-moz-transition-delay",f+"ms");
$(a.comparisonContainer.find(".itemValueLeft")).eq(h+1).css("-ms-transition-delay",f+"ms");
$(a.comparisonContainer.find(".itemValueLeft")).eq(h+1).css("-o-transition-delay",f+"ms");
$(a.comparisonContainer.find(".itemValueLeft")).eq(h+1).css("transition-delay",f+"ms")
});
var g=0;
$(a.comparisonContainer.find(".itemValueRight")).each(function(h){g=g+150;
$(this).addClass("fadeIn");
$(a.comparisonContainer.find(".itemValueRight")).eq(h+1).css("-webkit-transition-delay",g+"ms");
$(a.comparisonContainer.find(".itemValueRight")).eq(h+1).css("-moz-transition-delay",g+"ms");
$(a.comparisonContainer.find(".itemValueRight")).eq(h+1).css("-ms-transition-delay",g+"ms");
$(a.comparisonContainer.find(".itemValueRight")).eq(h+1).css("-o-transition-delay",g+"ms");
$(a.comparisonContainer.find(".itemValueRight")).eq(h+1).css("transition-delay",g+"ms")
});
setTimeout(function(){a.comparisonContainer.removeClass("in").css("margin-top","248px").addClass("opened")
},600)
},600)
},300)
},300)
}c();
this.historyContainer.removeClass("slideIn");
setTimeout(function(){if(!a.historyContainer.hasClass("hide")){a.historyContainer.addClass("hide")
}},300);
this.setupComparedVehiclesCookie();
if($("html").hasClass("ie8")){$(".comparison .compareRow:odd").addClass("odd")
}VW.radio("compare:compareNow").broadcast({vins:[_.first(this.cookieStoreObj).vin,_.last(this.cookieStoreObj).vin]})
},setupComparedVehiclesCookie:function(){var a=this;
_.each(this.cookieStoreObj,function(b){if(_.indexOf(a.cookieComparedVehiclesStoreObj,_.findWhere(a.cookieComparedVehiclesStoreObj,{vin:b.vin}))==-1){a.cookieComparedVehiclesStoreObj.push({vin:b.vin,timestamp:b.timestamp})
}});
VW.store.set("comparedVehicles",JSON.stringify(this.cookieComparedVehiclesStoreObj))
},showCompareOverlay:function(){var a=this;
if($(".distributedMatchmakerResultsWrapper").length){$("#historyTileWrapper .matchmakerResults").removeAttr("style");
if($(".distributedMatchmakerWrapper").hasClass("notInView")){$(".distributedMatchmakerWrapper").removeClass("notInView")
}}this.baseContainer.queue(function(b){a.baseContainer.removeClass("hide");
b()
}).delay(100).queue(function(b){$(".matchmakerConfigurator .mainMenu .container").addClass("slideUp");
$(".userProfile .mainMenu .container").addClass("slideUp");
b()
}).delay(300).queue(function(b){a.baseContainer.find(".mainPanel").addClass("slideIn");
if(a.cookieHistoryStoreObj.length&&$(window).scrollTop()==0){$("#localDealerInfoHeader").addClass("marginWithHistory")
}else{if($(window).scrollTop()==0){$("#localDealerInfoHeader").addClass("marginWithoutHistory")
}}if($(".distributedMatchmakerResultsWrapper").length){if(a.cookieHistoryStoreObj.length){$(".distributedMatchmakerResultsWrapper").css("margin-top","190px")
}else{$(".distributedMatchmakerResultsWrapper").css("margin-top","150px")
}}$(".matchmakerResults").find(".tile").find(".compare").addClass("slideUp");
$("#userProfileContainer .favoriteItem .compare").addClass("slideUp");
a.baseContainer.find(".close").removeClass("hide").addClass("fade");
a.baseContainer.find("#compareCarsContainer").addClass("slideInFade");
b()
}).delay(300).queue(function(b){$(".matchmakerConfigurator").find(".subMenu").addClass("hide");
b()
});
this.baseContainer.find(".mainPanel").removeClass("hide");
this.historyContainer.removeClass("historyBottom");
$(".placeholder img").eq(0).attr("src",$(".placeholder img").eq(0).data().source);
$(".placeholder img").eq(1).attr("src",$(".placeholder img").eq(1).data().source);
VW.radio("compare:compareOpen").broadcast()
},hideCompare:function(){var b=this;
if(this.comparisonContainer.hasClass("opened")){this.scrollToTop();
this.topPanel.removeAttr("style");
$(b.comparisonContainer.find(".itemValueLeft, .itemValueRight, .compareGridLabel")).each(function(c){$(this).addClass("fadeOut")
});
setTimeout(function(){$(".vwFooter").removeClass("hide");
b.comparisonContainer.removeClass("opened").addClass("closing");
$(".matchmakerConfigurator:first").show();
$(".matchmakerConfiguratorWrapper").show();
$(".matchmakerResultsWrapper:first").show();
$(".matchmakerResults:first").show();
if($("#userProfileContainer").length){$("#userProfileContainer").removeClass("hide");
$(".userProfile .mainMenu").removeAttr("style")
}if($(".distributedMatchmakerResultsWrapper").length){b.comparisonContainer.css("z-index","2000");
setTimeout(function(){b.comparisonContainer.css("z-index","1000")
},3000);
_.each($(".matchmakerCompareWrapper").siblings(),function(c){if(c.className!="matchmakerCompareWrapper"){$("."+c.className).removeAttr("style")
}})
}setTimeout(function(){b.comparisonContainer.removeClass("closing").addClass("hide");
a();
setTimeout(function(){b.scrollToPagePosition()
},300)
},3000)
},600)
}else{a()
}function a(){if(b.topPanel.attr("style")){b.topPanel.removeAttr("style")
}if(b.historyContainer.hasClass("slideIn")){b.historyContainer.removeClass("slideIn");
setTimeout(function(){b.historyContainer.addClass("hide");
b.baseContainer.find(".mainPanel").removeClass("slideIn")
},300)
}else{b.baseContainer.find(".mainPanel").removeClass("slideIn")
}$(".matchmakerConfigurator").find(".subMenu").removeClass("hide");
$("#closeCompare").removeClass("fade");
setTimeout(function(){$("#closeCompare").addClass("hide")
},300);
setTimeout(function(){$(".matchmakerConfigurator").find(".mainMenu").find(".container").removeClass("slideUp");
$(".userProfile .mainMenu .container").removeClass("slideUp");
$(".matchmakerResults").find(".tile").find(".compare").removeClass("slideUp");
$("#userProfileContainer .favoriteItem .compare").removeClass("slideUp");
$("#localDealerInfoHeader").removeClass("marginWithoutHistory");
$("#localDealerInfoHeader").removeClass("marginWithHistory");
if($(".distributedMatchmakerResultsWrapper").length){$(".distributedMatchmakerResultsWrapper").removeAttr("style")
}},300)
}VW.radio("compare:compareClose").broadcast()
},scrollToPagePosition:function(){if(this.topMargin){this.bodyHTML.animate({scrollTop:this.topMargin},600,"swing");
this.topMargin=null
}},cancelSelectOpponent:function(){this.toggleSelectOpponent();
this.toggleDarkOverlay()
},toggleDarkOverlay:function(){if($(".navigationMenu").find("#tint").hasClass("onCSS3")){$(".navigationMenu").find("#tint").removeClass("onCSS3")
}else{$(".navigationMenu").find("#tint").addClass("onCSS3")
}},removeDarkOverlay:function(){if($(".navigationMenu").find("#tint").hasClass("onCSS3")){$(".navigationMenu").find("#tint").removeClass("onCSS3")
}},toggleSelectOpponent:function(){var a=this;
if($(".selectOpponentWrapper").hasClass("hide")){$(".vsIcon").removeClass("fadeInPop").addClass("fadeOutShrink");
setTimeout(function(){$(".vsIcon").addClass("hide");
$(".vsIcon").parent().addClass("hide");
$(".selectOpponentWrapper").removeClass("hide");
a.baseContainer.find(".remove").removeClass("fadeInPop");
setTimeout(function(){$(".selectOpponentWrapper .selectOpponentTitle").addClass("fadeIn");
$(".selectOpponentWrapper .cancelSelectOpponentBtn").removeClass("fadeOutShrink").addClass("fadeInPop")
},300)
},300)
}else{$(".selectOpponentWrapper .selectOpponentTitle").removeClass("fadeIn");
$(".selectOpponentWrapper .cancelSelectOpponentBtn").addClass("fadeOutShrink").removeClass("fadeInPop");
setTimeout(function(){$(".selectOpponentWrapper").addClass("hide");
$(".vsIcon").parent().removeClass("hide");
$(".vsIcon").removeClass("fadeOutShrink").removeClass("hide").addClass("fadeInPop");
a.baseContainer.find(".remove").addClass("fadeInPop")
},300)
}},showOpponentCompare:function(b,c){var a=this;
this.toggleDarkOverlay();
this.toggleSelectOpponent();
this.baseContainer.find(".item").off("click");
this.baseContainer.find(".item").on("click",function(){if(!$(".selectOpponentWrapper").hasClass("hide")){var g="";
$(this).addClass("keepCompareCar");
var f=a.baseContainer.find(".keepCompareCar a[data-vin]").attr("data-vin");
var d=a.baseContainer.find(".keepCompareCar").parent().attr("id");
a.addCompareCookie(g,f,b,c,d);
$(this).removeClass("keepCompareCar");
if(c){a.toggleDarkOverlay()
}else{$(".navigationMenu").find("#tint").removeClass("onCSS3")
}VW.radio("compare:updateCompareTileBtn").broadcast(f)
}})
},scrolling:function(){var a=this;
if(this.topPanel.hasClass("slideIn")&&$("body").hasClass("vwMatchmaker")){if(a.cookieHistoryStoreObj.length&&$(window).scrollTop()==0){$("#localDealerInfoHeader").addClass("marginWithHistory")
}else{if($(window).scrollTop()==0){$("#localDealerInfoHeader").addClass("marginWithoutHistory")
}}}if(this.topPanel.hasClass("slideIn")&&this.comparisonContainer.hasClass("opened")){var b=$(window).scrollTop();
this.baseContainer.find(".photo").css({"-webkit-opacity":(1-b/140)});
this.baseContainer.find(".photo").css({"-moz-opacity":(1-b/140)});
this.baseContainer.find(".photo").css({"-ms-opacity":(1-b/140)});
this.baseContainer.find(".photo").css({"-o-opacity":(1-b/140)});
this.baseContainer.find(".photo").css({opacity:(1-b/140)});
if(b<=140){this.topPanel.css("top","-"+b+"px")
}else{this.topPanel.css("top","-141px")
}}},scrollToTop:function(){var a=$("body,html");
a.animate({scrollTop:0},300,"swing")
},removeExpiredVinFromCookie:function(a){var b;
var c;
if(!_.isUndefined(_.findWhere(this.cookieStoreObj,{vin:a}))){b=_.reject(this.cookieStoreObj,function(d){return d.vin==a
});
c=JSON.stringify(b);
this.cookieStoreObj=b;
VW.store.set("compare",c)
}else{if(!_.isUndefined(_.findWhere(this.cookieHistoryStoreObj,{vin:a}))){b=_.reject(this.cookieHistoryStoreObj,function(d){return d.vin==a
});
c=JSON.stringify(b);
this.cookieHistoryStoreObj=b;
VW.store.set("compareHistory",c)
}}},addCompareCookie:function(g,l,b,h,f){var c=g;
var j=new Date().getTime();
var d=true;
var k;
if(_.indexOf(this.cookieStoreObj,_.findWhere(this.cookieStoreObj,{vin:c}))==-1&&this.cookieStoreObj.length==0){this.cookieStoreObj.push({vin:c,timestamp:j,position:"compareCar1"})
}else{if(_.indexOf(this.cookieStoreObj,_.findWhere(this.cookieStoreObj,{vin:c}))==-1&&this.cookieStoreObj.length<2){var f=(_.first(this.cookieStoreObj).position==="compareCar1")?"compareCar2":"compareCar1";
this.cookieStoreObj.push({vin:c,timestamp:j,position:f})
}else{if(_.indexOf(this.cookieStoreObj,_.findWhere(this.cookieStoreObj,{vin:c}))!=-1){console.warn("DUPLICATE")
}else{if(l){this.cookieStoreObj=_.filter(this.cookieStoreObj,function(n){return n.vin!==l
});
this.cookieStoreObj.push({vin:b,timestamp:j,position:f});
if(h){this.cookieHistoryStoreObj=_.filter(this.cookieHistoryStoreObj,function(n){return n.vin!==b
})
}if(this.hasVehicleBeenCompared(l)){this.cookieHistoryStoreObj.push({vin:l,timestamp:j,position:f});
k=true
}var m=_.union(this.cookieStoreObj,this.cookieHistoryStoreObj,this.keepTrack);
if(_.indexOf(m,_.findWhere(m,{vin:l}))==-1){this.keepTrack.push({vin:l})
}}else{d=false;
if(_.indexOf(this.cookieHistoryStoreObj,_.findWhere(this.cookieHistoryStoreObj,{vin:c}))!=-1){var h=true;
this.showOpponentCompare(c,h)
}else{this.showOpponentCompare(c)
}}}}}VW.store.set("compare",JSON.stringify(this.cookieStoreObj));
VW.store.set("compareHistory",JSON.stringify(this.cookieHistoryStoreObj));
if(d){var a=c||b;
if(this.hasVehicleBeenCompared(a)){k=true
}else{k=false
}VW.radio("compare:compareCookieAdded").broadcast();
VW.radio("compare:compareCarAdded").broadcast({data:{recentComparison:k,vin:a,isFavorite:VW.utilities.isVINinFavorites(a)}})
}},hasVehicleBeenCompared:function(a){if(_.indexOf(this.cookieComparedVehiclesStoreObj,_.findWhere(this.cookieComparedVehiclesStoreObj,{vin:a}))==-1){return false
}else{return true
}},updateCompare:function(){this.readCompareCookie(function(){})
},checkForDuplicate:function(b,a){return(_.findWhere(b,{vin:a}))?true:false
},addCompareCookieFromHistoryBroadcast:function(c){c.preventDefault();
c.stopPropagation();
var a=$(c.currentTarget);
var b=a.attr("data-vin");
VW.radio("compare:fromHistory").broadcast(b)
},addCompareCookieFromHistory:function(f){var b=f;
var g=true;
var h=new Date().getTime();
var d;
if(_.indexOf(this.cookieStoreObj,_.findWhere(this.cookieStoreObj,{vin:b}))==-1&&this.cookieStoreObj.length<2){if(!_.isUndefined(this.cookieStoreObj[0])){d=(this.cookieStoreObj[0].position=="compareCar1")?"compareCar2":"compareCar1"
}else{d="compareCar1"
}var k=this.checkForDuplicate(this.cookieStoreObj,b);
if(!k){this.cookieStoreObj.push({vin:b,active:1,timestamp:h,position:d});
var j=JSON.stringify(this.cookieStoreObj);
VW.store.set("compare",j);
var c=$.map(this.cookieHistoryStoreObj,function(m,l){if(m.vin===b){return l
}});
this.cookieHistoryStoreObj.splice(c,1);
var a=JSON.stringify(this.cookieHistoryStoreObj);
VW.store.set("compareHistory",a)
}VW.radio("compare:vehicleDataLoaded").broadcast();
VW.radio("compare:compareCarAdded").broadcast({data:{recentComparison:true,vin:b}})
}else{if(b){this.showOpponentCompare(b,g)
}}},updateCompareSelections:function(){if(!this.cookieStoreObj){return
}VW.radio("compare:updateCompareTileBtn").broadcast();
var q=this;
var f=_.map(this.cookieStoreObj,function(s){return _.findWhere(this.vehicles,{vin:s.vin})
},this);
if(_.indexOf(f,undefined)!=-1){console.warn("UNDEFINED");
this.readCompareCookie(function(){});
return
}function r(s){var t={};
_.each(s,function(v,u){t["vehicle"+(u+1)]=v.attributes
});
return t
}function n(s){var t;
_.each(q.cookieStoreObj,function(v,u){t=_.findWhere(s,{vin:v.vin});
t.position=v.position;
return t
})
}var g=r(f);
if(_.isEmpty(g)){k("#compareCar1");
k("#compareCar2");
setTimeout(function(){q.baseContainer.find(".item").remove();
d();
setTimeout(function(){$("#compareCarsContainer").css("margin-top","65px");
q.baseContainer.find(".vsIcon").removeClass("verticalCenter")
},600)
},300);
if(this.cookieHistoryStoreObj.length){this.updateCompareHistory()
}return
}n(g);
if(this.cookieStoreObj.length===1){g.vehicle2={placeholder:true};
if(g.vehicle1.position==="compareCar2"){g.vehicle2=[g.vehicle1,g.vehicle1=g.vehicle2][0];
g.vehicle1={placeholder:true}
}}else{if(this.cookieStoreObj.length===0){q.updateCompareHistory()
}else{if(g.vehicle1.position==="compareCar2"){g.vehicle2=[g.vehicle1,g.vehicle1=g.vehicle2][0]
}}}var l=this.baseContainer.find("#compareCar1 .photo").hasClass("fadeIn");
var j=this.baseContainer.find("#compareCar2 .photo").hasClass("fadeIn");
if(l&&j){if(this.baseContainer.find(".vsIcon").hasClass("compareGridArrows")){if(!q.baseContainer.find(".remove").hasClass("fadeInPop")){q.baseContainer.find(".remove").addClass("fadeInPop")
}p()
}}if(this.cookieStoreObj.length){$("#compareCarsContainer").css("margin-top","30px");
q.baseContainer.find(".compareCars.topPanelTitle").addClass("hide")
}else{$("#compareCarsContainer").css("margin-top","65px")
}function d(){setTimeout(function(){q.baseContainer.find(".vsIcon").addClass("fadeOutShrink").removeClass("fadeInPop");
setTimeout(function(){q.baseContainer.find(".activeComparePlaceholderWrapper p").removeClass("fadeIn");
setTimeout(function(){q.baseContainer.find(".activeComparePlaceholderWrapper .placeholderImage").removeClass("fadeInPop").addClass("fadeOutShrink")
},100);
setTimeout(function(){q.baseContainer.find(".compareCars.topPanelTitle").removeClass("hide");
q.baseContainer.find(".activeComparePlaceholderWrapper").addClass("hide");
q.baseContainer.find(".placeholder").removeClass("hide");
q.baseContainer.find(".vsIcon").removeClass("fadeOutShrink");
q.baseContainer.find("#compareCarsContainer").addClass("fadeIn");
setTimeout(function(){q.baseContainer.find("#compareCarsContainer").removeClass("fadeIn")
},300)
},300)
},300)
},300)
}function c(){if(!$(".selectOpponentWrapper").hasClass("hide")){q.toggleSelectOpponent()
}q.baseContainer.find(".vsIcon").addClass("fadeOutShrink").removeClass("fadeInPop");
setTimeout(function(){q.baseContainer.find(".vsIcon").addClass("compareIconBtn").removeClass("fadeOutShrink").addClass("fadeInPop")
},300)
}function p(){q.baseContainer.find(".vsIcon").addClass("fadeOutShrink").removeClass("fadeInPop");
setTimeout(function(){q.baseContainer.find(".vsIcon").removeClass("compareGridArrows").addClass("compareIconBtn").removeClass("fadeOutShrink").addClass("fadeInPop")
},300)
}function m(){q.baseContainer.find(".vsIcon").addClass("fadeOutShrink").removeClass("fadeInPop").addClass("verticalCenter");
setTimeout(function(){q.baseContainer.find(".vsIcon").removeClass("compareIconBtn").removeClass("fadeOutShrink").addClass("fadeInPop")
},300)
}function k(s){$(s).find(".remove").addClass("fadeOutShrink");
$(s).find(".itemInfo").removeClass("fadeIn");
if(q.baseContainer.find(".vsIcon").hasClass("fadeInPop")){q.baseContainer.find(".vsIcon").removeClass("fadeInPop")
}setTimeout(function(){$(s).find(".photo").addClass("fadeOutShrink")
},100)
}function a(s){q.baseContainer.find(s).find(".photo").addClass("fadeIn");
setTimeout(function(){q.baseContainer.find(s).find(".remove").addClass("fadeInPop");
q.baseContainer.find(s).find(".itemInfo").addClass("fadeIn")
},300)
}if(_.isUndefined(g.vehicle1.placeholder)&&!l){var o=Mustache.to_html(this.templates.compareItem,g.vehicle1);
this.baseContainer.find("#compareCar1").find(".placeholder").addClass("hide");
this.baseContainer.find("#compareCar1").find(".activeComparePlaceholderWrapper").find(".placeholderImage").removeClass("fadeInPop").addClass("fadeOutShrink");
this.baseContainer.find("#compareCar1").find(".activeComparePlaceholderWrapper").find("p").removeClass("fadeIn");
$("#compareCar1 .item").remove();
this.topPanel.find("#compareCar1").append(o);
setTimeout(function(){if(j){c()
}q.baseContainer.find("#compareCar1").find(".activeComparePlaceholderWrapper").addClass("hide")
},300)
}else{if(!_.isUndefined(g.vehicle1.placeholder)){k("#compareCar1");
if(this.baseContainer.find(".vsIcon").hasClass("compareIconBtn")){setTimeout(function(){m()
},300)
}setTimeout(function(){q.baseContainer.find("#compareCar1").find(".item").remove();
q.baseContainer.find("#compareCar1").find(".placeholder").addClass("hide");
q.baseContainer.find("#compareCar1").find(".activeComparePlaceholderWrapper").removeClass("hide");
q.baseContainer.find("#compareCar1").find(".activeComparePlaceholderWrapper").find(".placeholderImage").removeClass("fadeOutShrink").addClass("fadeInPop");
setTimeout(function(){q.baseContainer.find("#compareCar1").find(".activeComparePlaceholderWrapper").find("p").addClass("fadeIn")
},300)
},300)
}else{var h=$("#compareCar1 a").attr("data-vin");
if(h!=g.vehicle1.vin){l=false;
k("#compareCar1");
setTimeout(function(){q.baseContainer.find("#compareCar1").find(".item").remove();
var s=Mustache.to_html(q.templates.compareItem,g.vehicle1);
q.topPanel.find("#compareCar1").append(s);
setTimeout(function(){if(!$(".selectOpponentWrapper").hasClass("hide")){q.toggleSelectOpponent()
}},300)
},300)
}}}if(_.isUndefined(g.vehicle2.placeholder)&&!j){var o=Mustache.to_html(this.templates.compareItem,g.vehicle2);
this.baseContainer.find("#compareCar2").find(".placeholder").addClass("hide");
this.baseContainer.find("#compareCar2").find(".activeComparePlaceholderWrapper").find(".placeholderImage").removeClass("fadeInPop").addClass("fadeOutShrink");
this.baseContainer.find("#compareCar2").find(".activeComparePlaceholderWrapper").find("p").removeClass("fadeIn");
$("#compareCar2 .item").remove();
this.topPanel.find("#compareCar2").append(o);
setTimeout(function(){c();
q.baseContainer.find("#compareCar2").find(".activeComparePlaceholderWrapper").addClass("hide")
},300)
}else{if(!_.isUndefined(g.vehicle2.placeholder)){if(!l&&!j){q.baseContainer.find("#compareCarsContainer").addClass("fadeOutShrink");
setTimeout(function(){q.baseContainer.find(".placeholder").addClass("hide");
setTimeout(function(){q.baseContainer.find("#compareCarsContainer").removeClass("fadeOutShrink");
q.baseContainer.find(".vsIcon").addClass("verticalCenter").addClass("fadeInPop");
setTimeout(function(){q.baseContainer.find("#compareCar2").find(".activeComparePlaceholderWrapper").removeClass("hide");
q.baseContainer.find("#compareCar2").find(".activeComparePlaceholderWrapper").find(".placeholderImage").removeClass("fadeOutShrink").addClass("fadeInPop");
q.baseContainer.find(".vsIcon").removeClass("fadeInPop");
setTimeout(function(){q.baseContainer.find("#compareCar2").find(".activeComparePlaceholderWrapper").find("p").addClass("fadeIn")
},300)
},300)
},600)
},600)
}else{k("#compareCar2");
if(this.baseContainer.find(".vsIcon").hasClass("compareIconBtn")){setTimeout(function(){m()
},300)
}setTimeout(function(){q.baseContainer.find("#compareCar2").find(".item").remove();
q.baseContainer.find("#compareCar2").find(".placeholder").addClass("hide");
q.baseContainer.find("#compareCar2").find(".activeComparePlaceholderWrapper").removeClass("hide");
q.baseContainer.find("#compareCar2").find(".activeComparePlaceholderWrapper").find(".placeholderImage").removeClass("fadeOutShrink").addClass("fadeInPop");
setTimeout(function(){q.baseContainer.find("#compareCar2").find(".activeComparePlaceholderWrapper").find("p").addClass("fadeIn")
},300)
},300)
}}else{var b=$("#compareCar2 a").attr("data-vin");
if(b!=g.vehicle2.vin){j=false;
k("#compareCar2");
setTimeout(function(){q.baseContainer.find("#compareCar2").find(".item").remove();
var s=Mustache.to_html(q.templates.compareItem,g.vehicle2);
q.topPanel.find("#compareCar2").append(s);
setTimeout(function(){if(!$(".selectOpponentWrapper").hasClass("hide")){q.toggleSelectOpponent()
}},300)
},300)
}}}setTimeout(function(){if(!l){a("#compareCar1");
setTimeout(function(){$("#compareCar2").find(".remove").addClass("fadeInPop")
},300)
}if(!j){a("#compareCar2");
setTimeout(function(){$("#compareCar1").find(".remove").addClass("fadeInPop")
},300)
}},300);
this.updateCompareGrid();
if(this.cookieHistoryStoreObj.length>=0){q.updateCompareHistory()
}if($("html").hasClass("ie8")){setTimeout(function(){$("#compareCarsContainer .photo").css("background-size","contain")
},500)
}this.attachClickToCompareVehicle()
},attachClickToCompareVehicle:function(){this.topPanel.off("click",".item").on("click",".item",function(a){if($(a.target).is("a")||!$(".selectOpponentWrapper").hasClass("hide")){a.preventDefault();
return
}window.location=$(this).attr("data-url")
})
},updateCompareGrid:function(){var a=this;
if(!this.cookieStoreObj.length){this.comparisonContainer.html("")
}else{var f=_.findWhere(a.vehicles,{vin:_.first(this.cookieStoreObj).vin})||{};
var d=(this.cookieStoreObj.length>1)?_.findWhere(a.vehicles,{vin:_.last(this.cookieStoreObj).vin}):{};
f.compare(d);
if(this.cookieStoreObj.length===1){if(f.comparison.vehicle1.position==="compareCar2"){f.comparison.vehicle2=[f.comparison.vehicle1,f.comparison.vehicle1=f.comparison.vehicle2][0];
for(var b=0;
b<f.comparison.features.length;
b++){f.comparison.features[b].vehicle2=f.comparison.features[b]["vehicle1"];
delete f.comparison.features[b].vehicle1
}}}else{if(f.comparison.vehicle1.position==="compareCar2"){f.comparison.vehicle2=[f.comparison.vehicle1,f.comparison.vehicle1=f.comparison.vehicle2][0];
for(var b=0;
b<f.comparison.features.length;
b++){f.comparison.features[b].vehicle2=[f.comparison.features[b].vehicle1,f.comparison.features[b].vehicle1=f.comparison.features[b].vehicle2][0]
}for(var b=0;
b<f.comparison.similarfeatures.length;
b++){f.comparison.similarfeatures[b].vehicle2=[f.comparison.similarfeatures[b].vehicle1,f.comparison.similarfeatures[b].vehicle1=f.comparison.similarfeatures[b].vehicle2][0]
}}}if(f.comparison.vehicle1){if(!_.isUndefined(f.comparison.vehicle1.favorite)){f.comparison.vehicle1.favorite=this.checkForFavoritedVehicle(f.comparison.vehicle1.vin)
}}if(f.comparison.vehicle2){if(!_.isUndefined(f.comparison.vehicle2.favorite)){f.comparison.vehicle2.favorite=this.checkForFavoritedVehicle(f.comparison.vehicle2.vin)
}}var c=Mustache.render(this.templates.compare,f.comparison);
this.comparisonContainer.html(c)
}},checkForFavoritedVehicle:function(a){if(VW.utilities.isVINinFavorites(a)){return"favorited"
}else{return""
}},updateCompareHistory:function(){var b=this;
var f='<div class="t4 d3 w3 historyPh tile"><div class="historyPlaceholder dark"><div class="placeholderText"></div></div></div>';
var a=_.map(this.cookieHistoryStoreObj,function(h){return _.findWhere(this.vehicles,{vin:h.vin})
},this);
if(this.historyContainer.hasClass("open")){this.showHideHistory()
}if(!this.cookieHistoryStoreObj.length){this.historyContainer.removeClass("slideIn");
if($("#localDealerInfoHeader").hasClass("marginWithHistory")){$("#localDealerInfoHeader").removeClass("marginWithHistory").addClass("marginWithoutHistory")
}if($(".distributedMatchmakerResultsWrapper").length){$(".distributedMatchmakerResultsWrapper").css("margin-top","150px")
}setTimeout(function(){b.historyContainer.addClass("hide")
},300);
return
}else{if(this.historyContainer.hasClass("hide")){setTimeout(function(){b.historyContainer.removeClass("hide");
setTimeout(function(){b.historyContainer.addClass("slideIn");
if($("#localDealerInfoHeader").hasClass("marginWithoutHistory")){$("#localDealerInfoHeader").removeClass("marginWithoutHistory").addClass("marginWithHistory")
}if($(".distributedMatchmakerResultsWrapper").length){$(".distributedMatchmakerResultsWrapper").css("margin-top","190px")
}},300)
},300)
}}this.historyContainer.find(".row .matchmakerResults").html("");
a.sort(function(j,h){return j.timestamp-h.timestamp
});
for(var d=0;
d<4;
d++){if(!_.isUndefined(a[d])){a[d].attributes.favorite=this.checkForFavoritedVehicle(a[d].attributes.vin);
var g=Mustache.to_html(b.templates.compareHistory,a[d].attributes);
$("#historyTileWrapper .matchmakerResults").append(g)
}else{$("#historyTileWrapper .matchmakerResults").append(f)
}}var c=$(window).width();
if(c<1024){$("#historyTileWrapper").find(".tile").eq(3).hide()
}},readCompareCookie:function(h){var f=this;
var g=_.union(this.cookieStoreObj,this.cookieHistoryStoreObj,this.keepTrack);
_.each(g,function(a){if(f.vehicles.length){if(!_.findWhere(f.vehicles,{vin:a.vin})){f.loadVehicle(a.vin,a.position,a.timestamp)
}else{if(_.findWhere(f.vehicles,{vin:a.vin})){}}}else{f.loadVehicle(a.vin,a.position,a.timestamp)
}});
var d=_.uniq(_.pluck(f.vehicles,"vin"));
var c=_.uniq(_.pluck(f.keepTrackofAllLoadedVehicles,"vin"));
if(d.length==c.length){if((d.length&&c.length)!=0){f.updateCompareSelections()
}}if(!_.isUndefined(h)){h.call(this)
}},loadVehicle:function(b,a,f){var c=this;
var d={};
if(_.indexOf(this.keepTrackofAllLoadedVehicles,_.findWhere(this.keepTrackofAllLoadedVehicles,{vin:b}))==-1){this.keepTrackofAllLoadedVehicles.push({vin:b})
}VW.data.getVehicleByVIN(b,function(g){if(g.status==404||g.error){c.removeExpiredVinFromCookie(b);
console.warn("404");
return
}VW.data.getProductData(g.modelCodeKey,function(k){d.inventoryData=g;
d.productData=k;
d.packageInfoTitle=VW.utilities.packageFormatter(g);
d.vin=b;
d.position=a;
d.timestamp=f;
d=new VW.CompareVehicleModel(d);
d.vin=b;
if(_.indexOf(c.vehicles,_.findWhere(c.vehicles,{vin:b}))==-1){c.vehicles.push(d)
}var j=_.uniq(_.pluck(c.vehicles,"vin"));
var h=_.uniq(_.pluck(c.keepTrackofAllLoadedVehicles,"vin"));
if(j.length==h.length){VW.radio("compare:vehicleDataLoaded").broadcast()
}})
});
return this
},removeCarBroadcast:function(c){c.preventDefault();
c.stopPropagation();
var a=$(c.currentTarget);
var b=a.attr("data-vin");
VW.radio("compare:removeVehicle").broadcast({vin:b})
},removeCompareCar:function(h){var g=new Date().getTime();
var b=h.vin;
if(b){if(_.indexOf(this.cookieComparedVehiclesStoreObj,_.findWhere(this.cookieComparedVehiclesStoreObj,{vin:b}))==-1){var d=_.indexOf(this.cookieStoreObj,_.findWhere(this.cookieStoreObj,{vin:b}));
this.cookieStoreObj.splice(d,1);
var f=JSON.stringify(this.cookieStoreObj);
VW.store.set("compare",f)
}else{this.cookieStoreObj=_.filter(this.cookieStoreObj,function(j){return j.vin!==b
});
var a=this.checkForDuplicate(this.cookieHistoryStoreObj,b);
if(!a){this.cookieHistoryStoreObj.push({vin:b,timestamp:g,position:null});
var c=JSON.stringify(this.cookieHistoryStoreObj);
VW.store.set("compareHistory",c)
}var f=JSON.stringify(this.cookieStoreObj);
VW.store.set("compare",f)
}VW.radio("compare:vehicleDataLoaded").broadcast();
VW.radio("compare:updateCompareTileBtn").broadcast(b)
}},updateTileCompareBtn:function(a){var b=this;
var d;
if($(".matchmakerResultsWrapper").length){d=$(".matchmakerResultsWrapper")
}else{if($(".userProfile").length){d=$(".userProfile")
}else{if($(".distributedMatchmakerResultsWrapper").length){d=$(".distributedMatchmakerResultsWrapper")
}}}var c;
if(a){c=d.find("[data-vin="+a+"]").find(".compare");
if(!c.hasClass("added")&&_.indexOf(b.cookieStoreObj,_.findWhere(b.cookieStoreObj,{vin:a}))!=-1){c.addClass("added")
}if(c.hasClass("added")&&_.indexOf(b.cookieStoreObj,_.findWhere(b.cookieStoreObj,{vin:a}))==-1){c.removeClass("added")
}}else{d.find("[data-vin] .compare").removeClass("added");
if(this.cookieStoreObj){_.each(this.cookieStoreObj,function(f){c=d.find("[data-vin="+f.vin+"]").find(".compare");
if(!c.hasClass("added")&&_.indexOf(b.cookieStoreObj,_.findWhere(b.cookieStoreObj,{vin:f.vin}))!=-1){c.addClass("added")
}if(c.hasClass("added")&&_.indexOf(b.cookieStoreObj,_.findWhere(b.cookieStoreObj,{vin:f.vin}))==-1){c.removeClass("added")
}})
}}},showHideHistory:function(){var a=$("#historyTileWrapper");
$(".history").find(".arrow").toggleClass("down");
if($(".history .arrow").hasClass("down")){this.historyContainer.addClass("open");
$(".history .arrow").html("&#9650;");
$("#historyHeadingWrapper .historyHeading").html("Hide Recent Comparisons");
if($(window).height()<=600){this.historyContainer.css("height","200px");
this.historyContainer.css("overflow-y","scroll");
this.historyContainer.animate({scrollTop:999},300)
}}else{this.historyContainer.removeAttr("style");
this.historyContainer.removeClass("open");
$(".history .arrow").html("&#9660;");
$("#historyHeadingWrapper .historyHeading").html("View Recent Comparisons")
}},onResize:function(){var a=VW.utilities.checkCSSModeBasedOnWindowWidth();
if(a=="tablet"){$("#historyTileWrapper").find(".tile").eq(3).hide()
}else{$("#historyTileWrapper").find(".tile").eq(3).removeAttr("style")
}}});
$(function(){$("#tint").on("click",function(){if($(".matchmakerCompare .mainPanel").hasClass("slideIn")){VW.radio("compare:cancel").broadcast()
}})
});
VW.ui.baseSlider=Backbone.View.extend({childrenExpected:8,events:{"click .sliderTooltip":"toolTipOpen","click .closePopoverWrapper":"toolTipClose"},defaults:{destinationCharge:820},toolTipClose:function(a){if(this.tipShow==true){this.tip.popover("hide");
this.tipShow=false
}a.preventDefault()
},toolTipOpen:function(a){if(this.tipShow==false){this.tip.popover("show");
this.tipShow=true
}a.preventDefault()
},initialize:function(a){this.el=a.el;
this.options=a.options;
this.sliderTemplate=a.sliderTemplate;
this.tipShow=false;
this.vehicle=window.vehicle||VW.data.inventory[0];
this.setDownPaymentSliderMaxVal();
this.tip=$(this.el.find(".sliderTooltip")).popover({title:this.options.label,html:true,placement:"bottom",trigger:"manual",template:'<div class="popover"><div class="closePopoverWrapper"></div><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'})
},setDownPaymentSliderMaxVal:function(){if(this.options.name=="financeDownPayment"||this.options.name=="leaseDownPayment"){this.options.maxValue=parseInt(this.vehicle.msrp*0.1)
}this.render()
},render:function(){var a=Mustache.to_html(this.sliderTemplate,this.options);
this.$el.html(a);
if(this.options.name){window.sliderTabArray.push(this.options.name);
if(window.sliderTabArray.length>8){window.sliderTabArray=[]
}}this.bindEvents();
this.setDefaults();
return this
},bindEvents:function(){var b=this,a=b.el.find(".knob"),c=b.el.find(".emptySlider");
Hammer(a,{drag_block_horizontal:true,transform:false}).on("drag",function(d){if(d.gesture){b.positionSlider(d.gesture.center.pageX-c.offset().left);
d.preventDefault();
d.gesture.preventDefault()
}}).on("release",function(d){b.positionSlider(b.getClosestPoint(d.gesture.center.pageX-c.offset().left,b.options.snapPoints));
VW.radio("paymentEstimator:updateSliders").broadcast({data:{output:b.currentValue,slider:b.options.name,isUserAction:true}})
});
c.on("click",function(d){d.stopPropagation();
d.preventDefault();
if(d.target==a[0]){return
}b.positionSlider(b.getClosestPoint(d.pageX-c.offset().left,b.options.snapPoints));
VW.radio("paymentEstimator:updateSliders").broadcast({data:{output:b.currentValue,slider:b.options.name,isUserAction:true}})
})
},getClosestPoint:function(b,a){var c=0,g,f,d;
if(a.length){g=a[0];
for(c;
c<a.length;
c++){f=Math.abs(b-g);
d=Math.abs(b-a[c]);
if(d<f){g=a[c]
}f=null;
d=null
}return g
}return false
},plotPoints:function(c){var d=this.el.find(".emptySlider"),g=(c)?this.options.customValues.length-1:Math.round(this.options.maxValue/this.options.increment),b=0;
var f=d.width()/g;
for(b;
b<=g;
b++){var a=f*b;
this.options.snapPoints.push(Math.abs(a))
}},setDefaults:function(){var c=this.el.find(".emptySlider");
switch(this.options.type){case"dollars":case"rate":var b=(this.options.defaultValue-this.options.minValue)/(this.options.maxValue-this.options.minValue);
var a=(c.width()*b);
this.plotPoints(false);
break;
case"custom":var f=c.width()/(this.options.customValues.length-1);
var d=this.options.customValues.indexOf(this.options.defaultValue);
var a=(Math.round(f*d));
this.plotPoints(true);
break
}this.positionSlider(a);
this.broadcast(window.sliderTabArray.length!=this.childrenExpected)
},positionSlider:function(g){var b=this.el.find(".emptySlider"),d=this.el.find(".filledSlider"),a=this.el.find(".knob"),f=b.offset().left,c=g+f;
if(c>=f&&c<=(f+b.width())){a.css({left:(g-(a.width()/2)+10)+"px"});
d.css({width:g+"px"});
this.updateOutput(g)
}},updateOutput:function(d){var c=this.el.find(".emptySlider"),b=(d/c.width()),g=this.el.find(".output span"),a="";
switch(this.options.type){case"dollars":case"rate":a=this.options.minValue+(b*(this.options.maxValue-this.options.minValue));
a=this.options.increment*Math.round(a/this.options.increment);
break;
case"custom":var f=c.width()/(this.options.customValues.length-1);
a=this.options.customValues[Math.round(d/f)];
break
}this.currentValue=a;
g.text(VW.utilities.formatOutputValue(a,this.options.formatType))
},broadcast:function(a){VW.radio("paymentEstimator:updateSliders").broadcast({data:{output:this.currentValue,slider:this.options.name,isInitial:a,isUserAction:false}})
}});
VW.ui.financeSummary=Backbone.View.extend({templates:{},summaryLabels:{},currentFinanceValues:{financeDownPayment:0,financeTradeInValue:0,financeTerm:60,financeAPR:0,destinationCharge:820},initialize:function(a){this.el=a.el;
this.options=a.summaryLabels;
this.vehicle=a.vehicle;
this.paymentEstimatorService=new com.vci.PaymentEstimator();
VW.radio("paymentEstimator:updateSliders").subscribe([this.updateValues,this]);
this.loadTemplates()
},loadTemplates:function(){var c=VW.matchmaker.config.cqClientLibAssetPath;
var b=["paymentEstimatorSlider"];
var a=this;
$.get(c+"templates/paymentEstimatorSummary.tpl",function(d){a.templates.paymentEstimatorSummary=d;
a.render()
})
},render:function(){var a=Mustache.to_html(this.templates.paymentEstimatorSummary,this.options);
this.el.html(a);
VW.radio("paymentEstimator:ready").broadcast();
return this
},getLoadPaymentParams:function(){this.vehicle=window.vehicle||VW.data.inventory[0];
return{model:{modelCode:this.vehicle.modelCodeKey,year:this.vehicle.modelYear},msrp:this.vehicle.msrp,term:this.currentFinanceValues.financeTerm,apr:this.currentFinanceValues.financeAPR,downPayment:this.currentFinanceValues.financeDownPayment,tradeInValue:this.currentFinanceValues.financeTradeInValue,destinationCharge:this.currentFinanceValues.destinationCharge}
},updateValues:function(b){var a=this;
if(b.data.slider){this.currentFinanceValues[b.data.slider]=b.data.output;
if(!b.data.isInitial){this.loanPaymentObject=this.paymentEstimatorService.getLoanPayment(this.getLoadPaymentParams());
if(this.loanPaymentObject.status!="error"){$("#financeMonthlyPayment").html(VW.utilities.formatOutputValue(this.loanPaymentObject.monthlyPayment,"$"));
$("#financeAmount").html(VW.utilities.formatOutputValue(this.loanPaymentObject.amountFinanced,"$"));
$("#financeDestinationCharge").html(VW.utilities.formatOutputValue(this.loanPaymentObject.destinationCharge,"$"));
$("#financeMSRP").html(VW.utilities.formatOutputValue(this.vehicle.msrp,"$"))
}else{console.warn("error:  "+this.loanPaymentObject.statusMessage)
}}$("#"+b.data.slider).html(a.userFriendlyOutput(b));
$("#compareFinanceSummaryWrapper").html($("#financeSummaryWrapper").html())
}},userFriendlyOutput:function(a){if(a.data.slider=="financeDownPayment"||a.data.slider=="financeTradeInValue"){return VW.utilities.formatOutputValue(a.data.output,"$")
}else{if(a.data.slider=="financeTerm"){return VW.utilities.formatOutputValue(a.data.output,"mo")
}else{if(a.data.slider=="financeAPR"){return VW.utilities.formatOutputValue(a.data.output,"%")
}}}}});
VW.ui.leaseSummary=Backbone.View.extend({templates:{},summaryLabels:{},currentLeaseValues:{leaseDownPayment:0,leaseTradeInValue:0,leaseTerm:0,leaseAnnualMileage:12000,destinationCharge:820},initialize:function(a){this.el=a.el;
this.options=a.summaryLabels;
this.vehicle=a.vehicle;
this.leaseEstimatorService=new com.vci.PaymentEstimator();
VW.radio("paymentEstimator:updateSliders").subscribe([this.updateValues,this]);
this.loadTemplates()
},loadTemplates:function(){var c=VW.matchmaker.config.cqClientLibAssetPath;
var b=["paymentEstimatorLeaseSummary"];
var a=this;
$.get(c+"templates/paymentEstimatorLeaseSummary.tpl",function(d){a.templates.paymentEstimatorLeaseSummary=d;
a.render()
})
},render:function(){var a=this;
var b=Mustache.to_html(this.templates.paymentEstimatorLeaseSummary,a.options);
this.el.html(b);
return this
},getLoadPaymentParams:function(){this.vehicle=window.vehicle||VW.data.inventory[0];
return{model:{modelCode:this.vehicle.modelCodeKey,year:this.vehicle.modelYear},msrp:this.vehicle.msrp,term:this.currentLeaseValues.leaseTerm,downPayment:this.currentLeaseValues.leaseDownPayment,annualMileage:this.currentLeaseValues.leaseAnnualMileage,tradeInValue:this.currentLeaseValues.leaseTradeInValue,destinationCharge:this.currentLeaseValues.destinationCharge}
},updateValues:function(b){var a=this;
if(b.data.slider){this.currentLeaseValues[b.data.slider]=b.data.output;
if(!b.data.isInitial){this.leasePaymentObject=this.leaseEstimatorService.getLeasePayment(this.getLoadPaymentParams());
if(this.leasePaymentObject.status!="error"){$("#leaseMonthlyPayment").html(VW.utilities.formatOutputValue(this.leasePaymentObject.monthlyPayment,"$"));
$("#leaseDueAtSigning").html(VW.utilities.formatOutputValue(this.leasePaymentObject.amountDueAtSigning.total,"$"));
$("#leaseDestinationCharge").html(VW.utilities.formatOutputValue(this.currentLeaseValues.destinationCharge,"$"));
$("#leaseMSRP").html(VW.utilities.formatOutputValue(this.vehicle.msrp,"$"))
}else{console.warn("error:  "+this.leasePaymentObject.statusMessage)
}}$("#"+b.data.slider).html(a.userFriendlyOutput(b));
$("#compareLeaseSummaryWrapper").html($("#leaseSummaryWrapper").html())
}},userFriendlyOutput:function(a){if(a.data.slider=="leaseDownPayment"||a.data.slider=="leaseTradeInValue"){return VW.utilities.formatOutputValue(a.data.output,"$")
}else{if(a.data.slider=="leaseTerm"){return VW.utilities.formatOutputValue(a.data.output,"mo")
}else{if(a.data.slider=="leaseAnnualMileage"){return VW.utilities.formatOutputValue(a.data.output,"normal")
}}}}});
$(document).ready(function(){var a=$(".paymentEstimator");
if($("body").hasClass("vwContentPage")){$(".fakeModelIntroBackground").remove();
$(".closePaymentEstimator").remove()
}var b={init:function(){var c=this;
this.vehicles=[];
this.lookup={};
if(VW.data.modelTrimLookup){c.loadModels();
return
}var d=$.get(window.sdlBaseUrl+"/rest/product/products/summary/list.json",function(f){_.each(f,function(h){if(h.model=="Jetta Sportwagen"){h.model="Jetta SportWagen"
}});
f=_.sortBy(_.sortBy(f,function(h){return h.msrp
}),function(h){return h.model
});
c.vehicles=_.groupBy(f,"model");
var g=_.uniq(_.pluck(f,"model"));
$.get(window.sdlBaseUrl+"/rest/product/products/features/fuzzyfeaturedefinition/list.json",function(h){var j=_.pluck(_.findWhere(h,{id:"trimfamilies"}).items,"items");
_.each(g,function(k){c.lookup[k]={};
var l=_.pluck(c.vehicles[k],"modelCodeKey");
_.each(l,function(n){var m="";
_.each(j,function(p){var o=_.filter(p,function(q){return(q.items.indexOf(n)>-1)
});
if(o.length){m=o[0]
}});
if(m){if(m.groupName.replace(m.groupDescription,"")==="Hybrid "){m=m.groupName
}else{m=m.groupDescription
}if(!c.lookup[k][m]){c.lookup[k][m]={}
}if(!c.lookup[k][m].modelCodeKeys){c.lookup[k][m].modelCodeKeys=[]
}if(!c.lookup[k][m].msrp){c.lookup[k][m].msrp=_.findWhere(c.data,{modelCodeKey:n})?parseInt(_.findWhere(c.data,{modelCodeKey:n}).msrp):""
}c.lookup[k][m].modelCodeKeys.push(n)
}})
});
VW.data.modelTrimLookup=c.lookup;
c.loadModels()
})
}).fail(function(f){console.warn("ERROR",f)
})
},loadModels:function(){var c=this,d=a.find(".selectModel").find("ul");
_.each(_.keys(VW.data.modelTrimLookup),function(g,f){d.append('<li data-car-model="'+g+'">'+g+"</li>")
});
VW.utilities.activateDropdown(".selectModel",function(f){var g=$(f.currentTarget).attr("data-car-model");
c.loadTrims(g)
})
},loadTrims:function(d){var c=this;
var g=_.keys(_.values(_.pick(VW.data.modelTrimLookup,d))[0]);
this.resetDropDown();
var f=a.find(".selectTrim ul");
_.each(g,function(l,h){var j=_.last(_.map(_.pick(_.values(_.pick(VW.data.modelTrimLookup,d))[0],l),function(m){return m.modelCodeKeys
})[0].sort());
var k=j.slice(0,4);
f.append('<li data-model-year="'+k+'" data-model="'+l+'" data-model-code-key="'+j+'">'+l+"</li>")
});
$(".selectTrim").off();
VW.utilities.activateDropdown(".selectTrim",function(j){var h=$(j.currentTarget).attr("data-model-code-key");
c.openPaymentEstimator();
c.setupSelectedVehicleAndDoCalc(d,h)
})
},resetDropDown:function(){$(".selectTrimContainer").find("p").html("Select a trim");
$(".selectTrimContainer").find("ul").html("");
$(".selectTrimContainer .selectTrim").removeClass("disabled");
this.closePaymentEstimator();
if($(".selectTrimContainer").parents(".paymentEstimator").find(".getQuote .quickViewWindowWrapper").hasClass("opened")){$(".selectTrimContainer").parents(".paymentEstimator").find(".getAQuote a").trigger("click")
}},closePaymentEstimator:function(){var d=$(".financialServicesPaymentEstimatorWrapper"),c=$(".paymentEstimator");
if(c.hasClass("paymentOpen")){c.removeClass("paymentOpen");
d.removeClass("paymentOpenAnimation");
$("body").animate({scrollTop:$(".paymentEstimator").offset().top-$(".paymentEstimator").prev(".pageNavigationTitle").height()-$(".pageNavBar").height()},300,"swing")
}},openPaymentEstimator:function(){var d=$(".financialServicesPaymentEstimatorWrapper"),c=$(".paymentEstimator");
c.addClass("paymentOpen");
d.addClass("paymentOpenAnimation");
$("body").animate({scrollTop:$(".paymentEstimator").offset().top-$(".paymentEstimator").prev(".pageNavigationTitle").height()-$(".pageNavBar").height()},300,"swing");
VW.utilities.initPaymentEstimator();
if(document.URL.indexOf("lease")!=-1){if($('[data-tab="Finance"]').hasClass("selected")){$('[data-target="Lease"]').parent().addClass("selected");
$('[data-target="Finance"]').parent().removeClass("selected");
$('[data-tab="Finance"]').removeClass("selected");
$('[data-tab="Lease"]').addClass("selected")
}}},setupSelectedVehicleAndDoCalc:function(f,c){var g=_.flatten(_.toArray(_.pick(this.vehicles,f)));
var d=_.findWhere(g,{modelCodeKey:c});
VW.radio("paymentEstimator:updateSliders").subscribe([this.retainSliderValues,this]);
window.financeSummary.vehicle.msrp=d.msrp;
window.financeSummary.vehicle.factoryModelYear=d.year;
window.financeSummary.vehicle.modelCode=d.modelCodeKey;
window.leaseSummary.vehicle.msrp=d.msrp;
window.leaseSummary.vehicle.factoryModelYear=d.year;
window.leaseSummary.vehicle.modelCode=d.modelCodeKey;
window.financedownPaymentSlider.options.maxValue=parseInt(d.msrp*0.1);
window.leaseDownPaymentSlider.options.maxValue=parseInt(d.msrp*0.1);
window.financedownPaymentSlider.setDefaults();
window.leaseDownPaymentSlider.setDefaults();
VW.radio("paymentEstimator:initForm").broadcast(d)
},retainSliderValues:function(){window.financedownPaymentSlider.options.defaultValue=window.financedownPaymentSlider.currentValue;
window.financeTradeInValueSlider.options.defaultValue=window.financeTradeInValueSlider.currentValue;
window.financeTermsSlider.options.defaultValue=window.financeTermsSlider.currentValue;
window.financeAPRSlider.options.defaultValue=window.financeAPRSlider.currentValue;
window.leaseDownPaymentSlider.options.defaultValue=window.leaseDownPaymentSlider.currentValue;
window.leaseTradeInValueSlider.options.defaultValue=window.leaseTradeInValueSlider.currentValue;
window.leaseTermsSlider.options.defaultValue=window.leaseTermsSlider.currentValue;
window.leaseAnualMileageSlider.options.defaultValue=window.leaseAnualMileageSlider.currentValue
}};
if($(".vwContentPage .paymentEstimator").length){b.init()
}});
_.extend(VW.legal,{template:'<div class="legalContainer"><div class="container"><div class="row"><div class="closeLegal"></div>{{#data}}<div class="legalItem"><div class="referenceText">{{reference}}</div><div class="disclaimerText">{{{disclaimerText}}}</div></div>{{/data}}</div></div></div>',config:{msrp:"Ask your dealer if this vehicle meets the emissions requirements of the state in which you are registering the vehicle. Starting MSRP excludes transportation, taxes, title, other options, and dealer charges. Dealer sets actual price. Specifications, equipment, options, and prices are subject to change without notice. Some items may be unavailable when vehicle is built. Ask your dealer about availability of options and verify that the vehicle includes the equipment you ordered.",mpg:'See <a href="http://www.fueleconomy.gov" target="_blank">www.fueleconomy.gov</a> for EPA estimates. Your mileage will vary and depends on several factors, including your driving habits and vehicle condition.',materialText:"View MSRP,<br/> MPG, and other key info"},init:function(){$(".js-disclaimer").on("click",VW.legal.showLegal).on("hover",VW.legal.hoverDisclaimer);
$(document).on("click",".js-disclaimer",VW.legal.showLegal);
$(".js-disclaimer.js-globalLegal").each(function(){VW.legal.buildDisclaimer($(this))
});
$("body").on("click",".closeLegal",VW.legal.closeLegal);
$(window).on("scroll",VW.legal.closeLegal);
VW.legal.renumber()
},renumber:function(){VW.legal.pageDisclaimers=[];
var a=$(".js-disclaimer:not(.js-globalLegal)");
a.each(function(b){var d=$(this);
var c=VW.legal.getDisclaimer(d);
_.each(c,function(f){VW.legal.pageDisclaimers.push(f)
})
});
VW.legal.uniqueDisclaimers=_.uniq(VW.legal.pageDisclaimers,function(b){return JSON.stringify(b)
});
_.each(VW.legal.uniqueDisclaimers,function(c,b){c.reference=b+1
});
a.each(function(d){var g=$(this);
var f=VW.legal.getDisclaimer(g);
var c=[];
_.each(f,function(k,h,j){var l=_.find(VW.legal.uniqueDisclaimers,function(m){return m.disclaimerKey==k.disclaimerKey
});
j[h]=l
},this);
g.data("disclaimer",f);
g.attr("data-disclaimer",escape(JSON.stringify(f)));
if(g.hasClass("inlineSuperscript")){var b=_.first(f).reference||"*";
g.text(b)
}g.addClass("renumbered")
})
},getDisclaimer:function(a){var d=$(a);
var c={};
if(_.isString(d.data("disclaimer"))){var b=d.data("disclaimer");
c=JSON.parse(unescape(b).replace(/(\r\n|\n|\r)/gm,""))
}else{c=d.data("disclaimer")
}return c
},buildDisclaimer:function(c){var b=c.data("globallegal");
var a=[];
if(b.length>0){a=b.split(",")
}var d=[];
_.each(a,function(f){this.push({disclaimerKey:f,disclaimerText:VW.legal.config[f]})
},d);
c.data("disclaimer",d);
if(c.hasClass("materialDisclaimer")&&_.isUndefined(c.data("overridetext"))){c.html(VW.legal.config.materialText||c.html())
}},showLegal:function(g){g.preventDefault();
var f=$(this);
if(f.hasClass("js-globalLegal")&&_.isUndefined(f.data("disclaimer"))){VW.legal.buildDisclaimer(f)
}if($(".legalContainer").length>0){if($(".legalContainer").data("target")==g.currentTarget){VW.legal.closeLegal();
return false
}$(".legalContainer").remove()
}var d=VW.legal.getDisclaimer(f);
d=_.sortBy(d,function(j){return j.reference
});
var c=$(Mustache.to_html(VW.legal.template,{data:d}));
c.data("target",g.currentTarget);
var b=$(g.currentTarget).parents(".container");
var a=$(".container:visible:eq(0)");
var h=0;
if(b.length>0&&a.length>0){h=a.offset().left-b.offset().left
}c.css("margin-left",Math.floor(h*-1));
$("#mainWrapper").append(c);
$(document).off("click",VW.legal.closeLegal).on("click",VW.legal.closeLegal);
return false
},hoverDisclaimer:function(a){a.preventDefault()
},closeLegal:function(a){$(".legalContainer").addClass("removeLegal");
$(document).off("click",VW.legal.closeLegal);
setTimeout(function(){$(".legalContainer.removeLegal").remove()
},400)
}});
$(function(){VW.legal.init()
});
$(function(){if($(".awardsWrapper").length>0){var b=$(".awardsWrapper");
var c=b.find(".slider");
var a=b.find(".controls");
a.on("click","a",function(f){$(this).addClass("selected").siblings().removeClass("selected");
var d=$(this).data("target");
c.find(".item").eq(d-1).removeClass("hide").siblings().addClass("hide");
f.preventDefault()
})
}});
$(function(){$("#hiddenNav .searchForm").submit(function(a){a.preventDefault();
window.location="/search?btnG=Search+VW&proxystylesheet=vwcom_frontend&sort=date%3AD%3AL%3Ad1&oe=UTF-8&ie=UTF-8&ud=1&exclude_apps=1&getfields=*&q="+$("input.searchBox",this).val();
return false
});
if($(".searchResultsPage").length>0){if($(".searchResultsPage").height()<$(window).height()){$(".searchResultsWrapper").css("padding-bottom",$(window).height()-$(".searchResultsPage").height())
}}});